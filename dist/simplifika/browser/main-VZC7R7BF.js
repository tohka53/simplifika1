import{a as P,b as G,c as Bn,d as Bb,e as Hb,f as y,h as oh,i as sh,l as $b,m as ah}from"./chunk-PZ5UXJ7I.js";var Dm=Bn(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});var Mm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Im.default=Mm});var km=Bn($s=>{"use strict";var Xy=$s&&$s.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($s,"__esModule",{value:!0});var QD=Xy((ah(),Hb($b))),KD=Xy(Dm()),Tm=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=QD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>y(this,null,function*(){var s,c,u;let f=null,m=null,v=null,S=o.status,b=o.statusText;if(o.ok){if(this.method!=="HEAD"){let z=yield o.text();z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=z:m=JSON.parse(z))}let N=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),j=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");N&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,S=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{let N=yield o.text();try{f=JSON.parse(N),Array.isArray(f)&&o.status===404&&(m=[],f=null,S=200,b="OK")}catch{o.status===404&&N===""?(S=204,b="No Content"):f={message:N}}if(f&&this.isMaybeSingle&&(!((u=f?.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,S=200,b="OK"),f&&this.shouldThrowOnError)throw new KD.default(f)}return{error:f,data:m,count:v,status:S,statusText:b}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,c,u;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(c=o?.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(u=o?.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}};$s.default=Tm});var Om=Bn(zs=>{"use strict";var JD=zs&&zs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zs,"__esModule",{value:!0});var XD=JD(km()),Am=class extends XD.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",c=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var c;let u=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${f}"; options=${u};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};zs.default=Am});var Wc=Bn(Gs=>{"use strict";var eT=Gs&&Gs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Gs,"__esModule",{value:!0});var tT=eT(Om()),Pm=class extends tT.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};Gs.default=Pm});var Rm=Bn(qs=>{"use strict";var nT=qs&&qs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qs,"__esModule",{value:!0});var Ws=nT(Wc()),Fm=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=e,this.schema=r,this.fetch=i}select(t,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Ws.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(s.length>0){let c=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ws.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){let u=t.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(u.length>0){let f=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new Ws.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new Ws.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ws.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qs.default=Fm});var e1=Bn(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.version=void 0;qc.version="0.0.0-automated"});var t1=Bn(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.DEFAULT_HEADERS=void 0;var rT=e1();Yc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${rT.version}`}});var r1=Bn(Ys=>{"use strict";var n1=Ys&&Ys.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ys,"__esModule",{value:!0});var iT=n1(Rm()),oT=n1(Wc()),sT=t1(),Nm=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},sT.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new iT.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){let s,c=new URL(`${this.url}/rpc/${t}`),u;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{c.searchParams.append(m,v)})):(s="POST",u=e);let f=Object.assign({},this.headers);return o&&(f.Prefer=`count=${o}`),new oT.default({method:s,url:c,headers:f,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Ys.default=Nm});var d1=Bn(lt=>{"use strict";var co=lt&&lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(lt,"__esModule",{value:!0});lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;var i1=co(r1());lt.PostgrestClient=i1.default;var o1=co(Rm());lt.PostgrestQueryBuilder=o1.default;var s1=co(Wc());lt.PostgrestFilterBuilder=s1.default;var a1=co(Om());lt.PostgrestTransformBuilder=a1.default;var l1=co(km());lt.PostgrestBuilder=l1.default;var c1=co(Dm());lt.PostgrestError=c1.default;lt.default={PostgrestClient:i1.default,PostgrestQueryBuilder:o1.default,PostgrestFilterBuilder:s1.default,PostgrestTransformBuilder:a1.default,PostgrestBuilder:l1.default,PostgrestError:c1.default}});function zd(n,t){return Object.is(n,t)}var Qe=null,xa=!1,Gd=1,Zt=Symbol("SIGNAL");function re(n){let t=Qe;return Qe=n,t}function Wd(){return Qe}var Mo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Io(n){if(xa)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(n);let t=Qe.nextProducerIndex++;if(Sa(Qe),t<Qe.producerNode.length&&Qe.producerNode[t]!==n&&So(Qe)){let e=Qe.producerNode[t];Ea(e,Qe.producerIndexOfThis[t])}Qe.producerNode[t]!==n&&(Qe.producerNode[t]=n,Qe.producerIndexOfThis[t]=So(Qe)?ch(n,Qe,t):0),Qe.producerLastReadVersion[t]=n.version}function lh(){Gd++}function qd(n){if(!(So(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Gd)){if(!n.producerMustRecompute(n)&&!Kd(n)){$d(n);return}n.producerRecomputeValue(n),$d(n)}}function Yd(n){if(n.liveConsumerNode===void 0)return;let t=xa;xa=!0;try{for(let e of n.liveConsumerNode)e.dirty||zb(e)}finally{xa=t}}function Zd(){return Qe?.consumerAllowSignalWrites!==!1}function zb(n){n.dirty=!0,Yd(n),n.consumerMarkedDirty?.(n)}function $d(n){n.dirty=!1,n.lastCleanEpoch=Gd}function Ca(n){return n&&(n.nextProducerIndex=0),re(n)}function Qd(n,t){if(re(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(So(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Ea(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Kd(n){Sa(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(qd(e),r!==e.version))return!0}return!1}function Jd(n){if(Sa(n),So(n))for(let t=0;t<n.producerNode.length;t++)Ea(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ch(n,t,e){if(dh(n),n.liveConsumerNode.length===0&&uh(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=ch(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function Ea(n,t){if(dh(n),n.liveConsumerNode.length===1&&uh(n))for(let r=0;r<n.producerNode.length;r++)Ea(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];Sa(i),i.producerIndexOfThis[r]=t}}function So(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Sa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function dh(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function uh(n){return n.producerNode!==void 0}function Xd(n,t){let e=Object.create(Gb);e.computation=n,t!==void 0&&(e.equal=t);let r=()=>{if(qd(e),Io(e),e.value===wa)throw e.error;return e.value};return r[Zt]=e,r}var Bd=Symbol("UNSET"),Hd=Symbol("COMPUTING"),wa=Symbol("ERRORED"),Gb=G(P({},Mo),{value:Bd,dirty:!0,error:null,equal:zd,kind:"computed",producerMustRecompute(n){return n.value===Bd||n.value===Hd},producerRecomputeValue(n){if(n.value===Hd)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Hd;let e=Ca(n),r,i=!1;try{r=n.computation(),re(null),i=t!==Bd&&t!==wa&&r!==wa&&n.equal(t,r)}catch(o){r=wa,n.error=o}finally{Qd(n,e)}if(i){n.value=t;return}n.value=r,n.version++}});function Wb(){throw new Error}var ph=Wb;function fh(n){ph(n)}function eu(n){ph=n}var qb=null;function tu(n,t){let e=Object.create(Ma);e.value=n,t!==void 0&&(e.equal=t);let r=()=>(Io(e),e.value);return r[Zt]=e,r}function Do(n,t){Zd()||fh(n),n.equal(n.value,t)||(n.value=t,Yb(n))}function nu(n,t){Zd()||fh(n),Do(n,t(n.value))}var Ma=G(P({},Mo),{equal:zd,value:void 0,kind:"signal"});function Yb(n){n.version++,lh(),Yd(n),qb?.()}function ru(n){let t=re(null);try{return n()}finally{re(t)}}var iu;function To(){return iu}function Hn(n){let t=iu;return iu=n,t}var Ia=Symbol("NotFound");function Q(n){return typeof n=="function"}function vi(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Da=vi(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function ko(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var De=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){t=o instanceof Da?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{mh(o)}catch(s){t=t??[],s instanceof Da?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Da(t)}}add(t){var e;if(t&&t!==this)if(this.closed)mh(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ko(e,t)}remove(t){let{_finalizers:e}=this;e&&ko(e,t),t instanceof n&&t._removeParent(this)}};De.EMPTY=(()=>{let n=new De;return n.closed=!0,n})();var ou=De.EMPTY;function Ta(n){return n instanceof De||n&&"closed"in n&&Q(n.remove)&&Q(n.add)&&Q(n.unsubscribe)}function mh(n){Q(n)?n():n.unsubscribe()}var an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _i={setTimeout(n,t,...e){let{delegate:r}=_i;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=_i;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ka(n){_i.setTimeout(()=>{let{onUnhandledError:t}=an;if(t)t(n);else throw n})}function Ao(){}var hh=su("C",void 0,void 0);function gh(n){return su("E",void 0,n)}function vh(n){return su("N",n,void 0)}function su(n,t,e){return{kind:n,value:t,error:e}}var Tr=null;function yi(n){if(an.useDeprecatedSynchronousErrorHandling){let t=!Tr;if(t&&(Tr={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Tr;if(Tr=null,e)throw r}}else n()}function _h(n){an.useDeprecatedSynchronousErrorHandling&&Tr&&(Tr.errorThrown=!0,Tr.error=n)}var kr=class extends De{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ta(t)&&t.add(this)):this.destination=ex}static create(t,e,r){return new bi(t,e,r)}next(t){this.isStopped?lu(vh(t),this):this._next(t)}error(t){this.isStopped?lu(gh(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?lu(hh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Jb=Function.prototype.bind;function au(n,t){return Jb.call(n,t)}var cu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Aa(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Aa(r)}else Aa(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Aa(e)}}},bi=class extends kr{constructor(t,e,r){super();let i;if(Q(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&an.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&au(t.next,o),error:t.error&&au(t.error,o),complete:t.complete&&au(t.complete,o)}):i=t}this.destination=new cu(i)}};function Aa(n){an.useDeprecatedSynchronousErrorHandling?_h(n):ka(n)}function Xb(n){throw n}function lu(n,t){let{onStoppedNotification:e}=an;e&&_i.setTimeout(()=>e(n,t))}var ex={closed:!0,next:Ao,error:Xb,complete:Ao};var xi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(n){return n}function du(...n){return uu(n)}function uu(n){return n.length===0?Bt:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var me=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=nx(e)?e:new bi(e,r,i);return yi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=yh(r),new r((i,o)=>{let s=new bi({next:c=>{try{e(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[xi](){return this}pipe(...e){return uu(e)(this)}toPromise(e){return e=yh(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function yh(n){var t;return(t=n??an.Promise)!==null&&t!==void 0?t:Promise}function tx(n){return n&&Q(n.next)&&Q(n.error)&&Q(n.complete)}function nx(n){return n&&n instanceof kr||tx(n)&&Ta(n)}function pu(n){return Q(n?.lift)}function ae(n){return t=>{if(pu(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(n,t,e,r,i){return new fu(n,t,e,r,i)}var fu=class extends kr{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(c){try{e(c)}catch(u){t.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function wi(){return ae((n,t)=>{let e=null;n._refCount++;let r=ie(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Ci=class extends me{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,pu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new De;let e=this.getSubject();t.add(this.source.subscribe(ie(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=De.EMPTY)}return t}refCount(){return wi()(this)}};var bh=vi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Oa(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new bh}next(e){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ou:(this.currentObservers=null,o.push(e),new De(()=>{this.currentObservers=null,ko(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new me;return e.source=this,e}}return n.create=(t,e)=>new Oa(t,e),n})(),Oa=class extends Ne{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:ou}};var Oe=class extends Ne{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Et=new me(n=>n.complete());function xh(n){return n&&Q(n.schedule)}function wh(n){return n[n.length-1]}function Pa(n){return Q(wh(n))?n.pop():void 0}function lr(n){return xh(wh(n))?n.pop():void 0}function Eh(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})}function Ch(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ar(n){return this instanceof Ar?(this.v=n,this):new Ar(n)}function Sh(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(T){return Promise.resolve(T).then(b,v)}}function c(b,T){r[b]&&(i[b]=function(N){return new Promise(function(j,z){o.push([b,N,j,z])>1||u(b,N)})},T&&(i[b]=T(i[b])))}function u(b,T){try{f(r[b](T))}catch(N){S(o[0][3],N)}}function f(b){b.value instanceof Ar?Promise.resolve(b.value.v).then(m,v):S(o[0][2],b)}function m(b){u("next",b)}function v(b){u("throw",b)}function S(b,T){b(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Mh(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof Ch=="function"?Ch(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(f){o({value:f,done:c})},s)}}var Fa=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ra(n){return Q(n?.then)}function Na(n){return Q(n[xi])}function Va(n){return Symbol.asyncIterator&&Q(n?.[Symbol.asyncIterator])}function La(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ja=rx();function Ua(n){return Q(n?.[ja])}function Ba(n){return Sh(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield Ar(e.read());if(i)return yield Ar(void 0);yield yield Ar(r)}}finally{e.releaseLock()}})}function Ha(n){return Q(n?.getReader)}function Be(n){if(n instanceof me)return n;if(n!=null){if(Na(n))return ix(n);if(Fa(n))return ox(n);if(Ra(n))return sx(n);if(Va(n))return Ih(n);if(Ua(n))return ax(n);if(Ha(n))return lx(n)}throw La(n)}function ix(n){return new me(t=>{let e=n[xi]();if(Q(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ox(n){return new me(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function sx(n){return new me(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ka)})}function ax(n){return new me(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function Ih(n){return new me(t=>{cx(n,t).catch(e=>t.error(e))})}function lx(n){return Ih(Ba(n))}function cx(n,t){var e,r,i,o;return Eh(this,void 0,void 0,function*(){try{for(e=Mh(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function St(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function $a(n,t=0){return ae((e,r)=>{e.subscribe(ie(r,i=>St(r,n,()=>r.next(i),t),()=>St(r,n,()=>r.complete(),t),i=>St(r,n,()=>r.error(i),t)))})}function za(n,t=0){return ae((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Dh(n,t){return Be(n).pipe(za(t),$a(t))}function Th(n,t){return Be(n).pipe(za(t),$a(t))}function kh(n,t){return new me(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function Ah(n,t){return new me(e=>{let r;return St(e,t,()=>{r=n[ja](),St(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function Ga(n,t){if(!n)throw new Error("Iterable cannot be null");return new me(e=>{St(e,t,()=>{let r=n[Symbol.asyncIterator]();St(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Oh(n,t){return Ga(Ba(n),t)}function Ph(n,t){if(n!=null){if(Na(n))return Dh(n,t);if(Fa(n))return kh(n,t);if(Ra(n))return Th(n,t);if(Va(n))return Ga(n,t);if(Ua(n))return Ah(n,t);if(Ha(n))return Oh(n,t)}throw La(n)}function oe(n,t){return t?Ph(n,t):Be(n)}function q(...n){let t=lr(n);return oe(n,t)}function Ei(n,t){let e=Q(n)?n:()=>n,r=i=>i.error(e());return new me(t?i=>t.schedule(r,0,i):r)}function mu(n){return!!n&&(n instanceof me||Q(n.lift)&&Q(n.subscribe))}var $n=vi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function se(n,t){return ae((e,r)=>{let i=0;e.subscribe(ie(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:dx}=Array;function ux(n,t){return dx(t)?n(...t):n(t)}function Wa(n){return se(t=>ux(n,t))}var{isArray:px}=Array,{getPrototypeOf:fx,prototype:mx,keys:hx}=Object;function qa(n){if(n.length===1){let t=n[0];if(px(t))return{args:t,keys:null};if(gx(t)){let e=hx(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function gx(n){return n&&typeof n=="object"&&fx(n)===mx}function Ya(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Oo(...n){let t=lr(n),e=Pa(n),{args:r,keys:i}=qa(n);if(r.length===0)return oe([],t);let o=new me(vx(r,t,i?s=>Ya(i,s):Bt));return e?o.pipe(Wa(e)):o}function vx(n,t,e=Bt){return r=>{Fh(t,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)Fh(t,()=>{let f=oe(n[u],t),m=!1;f.subscribe(ie(r,v=>{o[u]=v,m||(m=!0,c--),c||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Fh(n,t,e){n?St(e,n,t):t()}function Rh(n,t,e,r,i,o,s,c){let u=[],f=0,m=0,v=!1,S=()=>{v&&!u.length&&!f&&t.complete()},b=N=>f<r?T(N):u.push(N),T=N=>{o&&t.next(N),f++;let j=!1;Be(e(N,m++)).subscribe(ie(t,z=>{i?.(z),o?b(z):t.next(z)},()=>{j=!0},void 0,()=>{if(j)try{for(f--;u.length&&f<r;){let z=u.shift();s?St(t,s,()=>T(z)):T(z)}S()}catch(z){t.error(z)}}))};return n.subscribe(ie(t,b,()=>{v=!0,S()})),()=>{c?.()}}function Ve(n,t,e=1/0){return Q(t)?Ve((r,i)=>se((o,s)=>t(r,o,i,s))(Be(n(r,i))),e):(typeof t=="number"&&(e=t),ae((r,i)=>Rh(r,i,n,e)))}function cr(n=1/0){return Ve(Bt,n)}function Nh(){return cr(1)}function Si(...n){return Nh()(oe(n,lr(n)))}function Za(n){return new me(t=>{Be(n()).subscribe(t)})}function hu(...n){let t=Pa(n),{args:e,keys:r}=qa(n),i=new me(o=>{let{length:s}=e;if(!s){o.complete();return}let c=new Array(s),u=s,f=s;for(let m=0;m<s;m++){let v=!1;Be(e[m]).subscribe(ie(o,S=>{v||(v=!0,f--),c[m]=S},()=>u--,void 0,()=>{(!u||!v)&&(f||o.next(r?Ya(r,c):c),o.complete())}))}});return t?i.pipe(Wa(t)):i}function nt(n,t){return ae((e,r)=>{let i=0;e.subscribe(ie(r,o=>n.call(t,o,i++)&&r.next(o)))})}function zn(n){return ae((t,e)=>{let r=null,i=!1,o;r=t.subscribe(ie(e,void 0,void 0,s=>{o=Be(n(s,zn(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Vh(n,t,e,r,i){return(o,s)=>{let c=e,u=t,f=0;o.subscribe(ie(s,m=>{let v=f++;u=c?n(u,m,v):(c=!0,m),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function dr(n,t){return Q(t)?Ve(n,t,1):Ve(n,1)}function ur(n){return ae((t,e)=>{let r=!1;t.subscribe(ie(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Gn(n){return n<=0?()=>Et:ae((t,e)=>{let r=0;t.subscribe(ie(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Qa(n=_x){return ae((t,e)=>{let r=!1;t.subscribe(ie(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function _x(){return new $n}function Po(n){return ae((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Wn(n,t){let e=arguments.length>=2;return r=>r.pipe(n?nt((i,o)=>n(i,o,r)):Bt,Gn(1),e?ur(t):Qa(()=>new $n))}function Mi(n){return n<=0?()=>Et:ae((t,e)=>{let r=[];t.subscribe(ie(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function gu(n,t){let e=arguments.length>=2;return r=>r.pipe(n?nt((i,o)=>n(i,o,r)):Bt,Mi(1),e?ur(t):Qa(()=>new $n))}function vu(n,t){return ae(Vh(n,t,arguments.length>=2,!0))}function _u(...n){let t=lr(n);return ae((e,r)=>{(t?Si(n,e,t):Si(n,e)).subscribe(r)})}function Qt(n,t){return ae((e,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();e.subscribe(ie(r,u=>{i?.unsubscribe();let f=0,m=o++;Be(n(u,m)).subscribe(i=ie(r,v=>r.next(t?t(u,v,m,f++):v),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function yu(n){return ae((t,e)=>{Be(n).subscribe(ie(e,()=>e.complete(),Ao)),!e.closed&&t.subscribe(e)})}function rt(n,t,e){let r=Q(n)||t||e?{next:n,error:t,complete:e}:n;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ie(o,u=>{var f;(f=r.next)===null||f===void 0||f.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var f;c=!1,(f=r.error)===null||f===void 0||f.call(r,u),o.error(u)},()=>{var u,f;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):Bt}var M0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(t,e){super(I0(t,e)),this.code=t}};function yx(n){return`NG0${Math.abs(n)}`}function I0(n,t){return`${yx(n)}${t?": "+t:""}`}var D0=Symbol("InputSignalNode#UNSET"),bx=G(P({},Ma),{transformFn:void 0,applyValueToInputSignal(n,t){Do(n,t)}});function T0(n,t){let e=Object.create(bx);e.value=n,e.transformFn=t?.transform;function r(){if(Io(e),e.value===D0){let i=null;throw new H(-950,i)}return e.value}return r[Zt]=e,r}function qo(n){return{toString:n}.toString()}var Ka="__parameters__";function xx(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function k0(n,t,e){return qo(()=>{let r=xx(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,f,m){let v=u.hasOwnProperty(Ka)?u[Ka]:Object.defineProperty(u,Ka,{value:[]})[Ka];for(;v.length<=m;)v.push(null);return(v[m]=v[m]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var gt=globalThis;function be(n){for(let t in n)if(n[t]===be)return t;throw Error("Could not find renamed property on target object.")}function wx(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Dt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Dt).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function Fu(n,t){return n?t?`${n} ${t}`:n:t||""}var Cx=be({__forward_ref__:be});function Ot(n){return n.__forward_ref__=Ot,n.toString=function(){return Dt(this())},n}function vt(n){return A0(n)?n():n}function A0(n){return typeof n=="function"&&n.hasOwnProperty(Cx)&&n.__forward_ref__===Ot}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rl(n){return Lh(n,P0)||Lh(n,F0)}function O0(n){return Rl(n)!==null}function Lh(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ex(n){let t=n&&(n[P0]||n[F0]);return t||null}function jh(n){return n&&(n.hasOwnProperty(Uh)||n.hasOwnProperty(Sx))?n[Uh]:null}var P0=be({\u0275prov:be}),Uh=be({\u0275inj:be}),F0=be({ngInjectableDef:be}),Sx=be({ngInjectorDef:be}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=B({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function R0(n){return n&&!!n.\u0275providers}var Mx=be({\u0275cmp:be}),Ix=be({\u0275dir:be}),Dx=be({\u0275pipe:be}),Tx=be({\u0275mod:be}),sl=be({\u0275fac:be}),Vo=be({__NG_ELEMENT_ID__:be}),Bh=be({__NG_ENV_ID__:be});function _n(n){return typeof n=="string"?n:n==null?"":String(n)}function kx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():_n(n)}function N0(n,t){throw new H(-200,n)}function Ip(n,t){throw new H(-201,!1)}var X=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(X||{}),Ru;function V0(){return Ru}function Mt(n){let t=Ru;return Ru=n,t}function L0(n,t,e){let r=Rl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&X.Optional)return null;if(t!==void 0)return t;Ip(n,"Injector")}var Ax={},Pr=Ax,Nu="__NG_DI_FLAG__",al=class{injector;constructor(t){this.injector=t}retrieve(t,e){let r=e;return this.injector.get(t,r.optional?Ia:Pr,r)}},ll="ngTempTokenPath",Ox="ngTokenPath",Px=/\n/gm,Fx="\u0275",Hh="__source";function Rx(n,t=X.Default){if(To()===void 0)throw new H(-203,!1);if(To()===null)return L0(n,void 0,t);{let e=To(),r;return e instanceof al?r=e.injector:r=e,r.get(n,t&X.Optional?null:void 0,t)}}function U(n,t=X.Default){return(V0()||Rx)(vt(n),t)}function L(n,t=X.Default){return U(n,Nl(t))}function Nl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vu(n){let t=[];for(let e=0;e<n.length;e++){let r=vt(n[e]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=X.Default;for(let s=0;s<r.length;s++){let c=r[s],u=Nx(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}t.push(U(i,o))}else t.push(U(r))}return t}function j0(n,t){return n[Nu]=t,n.prototype[Nu]=t,n}function Nx(n){return n[Nu]}function Vx(n,t,e,r){let i=n[ll];throw t[Hh]&&i.unshift(t[Hh]),n.message=Lx(`
`+n.message,i,e,r),n[Ox]=i,n[ll]=null,n}function Lx(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Fx?n.slice(2):n;let i=Dt(t);if(Array.isArray(t))i=t.map(Dt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let c=t[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Dt(c)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(Px,`
  `)}`}var jx=j0(k0("Optional"),8);var Ux=j0(k0("SkipSelf"),4);function Rr(n,t){let e=n.hasOwnProperty(sl);return e?n[sl]:null}function Bx(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function Hx(n){return n.flat(Number.POSITIVE_INFINITY)}function Dp(n,t){n.forEach(e=>Array.isArray(e)?Dp(e,t):t(e))}function U0(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function cl(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function $x(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function Tp(n,t,e){let r=Yo(n,t);return r>=0?n[r|1]=e:(r=~r,$x(n,r,t,e)),r}function bu(n,t){let e=Yo(n,t);if(e>=0)return n[e|1]}function Yo(n,t){return zx(n,t,1)}function zx(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var Nr={},It=[],jo=new $(""),B0=new $("",-1),H0=new $(""),dl=class{get(t,e=Pr){if(e===Pr){let r=new Error(`NullInjectorError: No provider for ${Dt(t)}!`);throw r.name="NullInjectorError",r}return e}};function $0(n,t){let e=n[Tx]||null;if(!e&&t===!0)throw new Error(`Type ${Dt(n)} does not have '\u0275mod' property.`);return e}function Vr(n){return n[Mx]||null}function Gx(n){return n[Ix]||null}function Wx(n){return n[Dx]||null}function z0(n){return{\u0275providers:n}}function qx(...n){return{\u0275providers:G0(!0,n),\u0275fromNgModule:!0}}function G0(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return Dp(t,s=>{let c=s;Lu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&W0(i,o),e}function W0(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];kp(i,o=>{t(o,r)})}}function Lu(n,t,e,r){if(n=vt(n),!n)return!1;let i=null,o=jh(n),s=!o&&Vr(n);if(!o&&!s){let u=n.ngModule;if(o=jh(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let f of u)Lu(f,t,e,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let f;try{Dp(o.imports,m=>{Lu(m,t,e,r)&&(f||=[],f.push(m))})}finally{}f!==void 0&&W0(f,t)}if(!c){let f=Rr(i)||(()=>new i);t({provide:i,useFactory:f,deps:It},i),t({provide:H0,useValue:i,multi:!0},i),t({provide:jo,useValue:()=>U(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let f=n;kp(u,m=>{t(m,f)})}}else return!1;return i!==n&&n.providers!==void 0}function kp(n,t){for(let e of n)R0(e)&&(e=e.\u0275providers),Array.isArray(e)?kp(e,t):t(e)}var Yx=be({provide:String,useValue:be});function q0(n){return n!==null&&typeof n=="object"&&Yx in n}function Zx(n){return!!(n&&n.useExisting)}function Qx(n){return!!(n&&n.useFactory)}function Pi(n){return typeof n=="function"}function Kx(n){return!!n.useClass}var Vl=new $(""),tl={},$h={},xu;function Ap(){return xu===void 0&&(xu=new dl),xu}var Tt=class{},Uo=class extends Tt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Uu(t,s=>this.processProvider(s)),this.records.set(B0,Ii(void 0,this)),i.has("environment")&&this.records.set(Tt,Ii(void 0,this));let o=this.records.get(Vl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(H0,It,X.Self))}retrieve(t,e){let r=e;return this.get(t,r.optional?Ia:Pr,r)}destroy(){Ro(this),this._destroyed=!0;let t=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(t)}}onDestroy(t){return Ro(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ro(this);let e=Hn(this),r=Mt(void 0),i;try{return t()}finally{Hn(e),Mt(r)}}get(t,e=Pr,r=X.Default){if(Ro(this),t.hasOwnProperty(Bh))return t[Bh](this);r=Nl(r);let i,o=Hn(this),s=Mt(void 0);try{if(!(r&X.SkipSelf)){let u=this.records.get(t);if(u===void 0){let f=nw(t)&&Rl(t);f&&this.injectableDefInScope(f)?u=Ii(ju(t),tl):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,r)}let c=r&X.Self?Ap():this.parent;return e=r&X.Optional&&e===Pr?null:e,c.get(t,e)}catch(c){if(c.name==="NullInjectorError"){if((c[ll]=c[ll]||[]).unshift(Dt(t)),o)throw c;return Vx(c,t,"R3InjectorError",this.source)}else throw c}finally{Mt(s),Hn(o)}}resolveInjectorInitializers(){let t=re(null),e=Hn(this),r=Mt(void 0),i;try{let o=this.get(jo,It,X.Self);for(let s of o)s()}finally{Hn(e),Mt(r),re(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(Dt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=vt(t);let e=Pi(t)?t:vt(t&&t.provide),r=Xx(t);if(!Pi(t)&&t.multi===!0){let i=this.records.get(e);i||(i=Ii(void 0,tl,!0),i.factory=()=>Vu(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){let i=re(null);try{return e.value===$h?N0(Dt(t)):e.value===tl&&(e.value=$h,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&tw(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{re(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=vt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function ju(n){let t=Rl(n),e=t!==null?t.factory:Rr(n);if(e!==null)return e;if(n instanceof $)throw new H(204,!1);if(n instanceof Function)return Jx(n);throw new H(204,!1)}function Jx(n){if(n.length>0)throw new H(204,!1);let e=Ex(n);return e!==null?()=>e.factory(n):()=>new n}function Xx(n){if(q0(n))return Ii(void 0,n.useValue);{let t=Y0(n);return Ii(t,tl)}}function Y0(n,t,e){let r;if(Pi(n)){let i=vt(n);return Rr(i)||ju(i)}else if(q0(n))r=()=>vt(n.useValue);else if(Qx(n))r=()=>n.useFactory(...Vu(n.deps||[]));else if(Zx(n))r=(i,o)=>U(vt(n.useExisting),o!==void 0&&o&X.Optional?X.Optional:void 0);else{let i=vt(n&&(n.useClass||n.provide));if(ew(n))r=()=>new i(...Vu(n.deps));else return Rr(i)||ju(i)}return r}function Ro(n){if(n.destroyed)throw new H(205,!1)}function Ii(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function ew(n){return!!n.deps}function tw(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function nw(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Uu(n,t){for(let e of n)Array.isArray(e)?Uu(e,t):e&&R0(e)?Uu(e.\u0275providers,t):t(e)}function Jt(n,t){let e;n instanceof Uo?(Ro(n),e=n):e=new al(n);let r,i=Hn(e),o=Mt(void 0);try{return t()}finally{Hn(i),Mt(o)}}function Op(){return V0()!==void 0||To()!=null}function rw(n){if(!Op())throw new H(-203,!1)}function iw(n){let t=gt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function ow(n){return typeof n=="function"}var Qn=0,ee=1,Y=2,ct=3,dn=4,un=5,ul=6,pl=7,kt=8,Fi=9,qn=10,$e=11,Bo=12,zh=13,Bi=14,bn=15,Lr=16,Di=17,Yn=18,Ll=19,Z0=20,pr=21,wu=22,fl=23,Kt=24,Ai=25,$t=26,Q0=1;var jr=7,ml=8,Ri=9,Ht=10;function fr(n){return Array.isArray(n)&&typeof n[Q0]=="object"}function Kn(n){return Array.isArray(n)&&n[Q0]===!0}function K0(n){return(n.flags&4)!==0}function Hi(n){return n.componentOffset>-1}function Pp(n){return(n.flags&1)===1}function xn(n){return!!n.template}function hl(n){return(n[Y]&512)!==0}function $i(n){return(n[Y]&256)===256}var Bu=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function J0(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var Jn=(()=>{let n=()=>X0;return n.ngInherit=!0,n})();function X0(n){return n.type.prototype.ngOnChanges&&(n.setInput=aw),sw}function sw(){let n=tg(this),t=n?.current;if(t){let e=n.previous;if(e===Nr)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function aw(n,t,e,r,i){let o=this.declaredInputs[r],s=tg(n)||lw(n,{previous:Nr,current:null}),c=s.current||(s.current={}),u=s.previous,f=u[o];c[o]=new Bu(f&&f.currentValue,e,u===Nr),J0(n,t,i,e)}var eg="__ngSimpleChanges__";function tg(n){return n[eg]||null}function lw(n,t){return n[eg]=t}var Gh=null;var xe=function(n,t=null,e){Gh?.(n,t,e)},ng="svg",cw="math";function wn(n){for(;Array.isArray(n);)n=n[Qn];return n}function rg(n,t){return wn(t[n])}function In(n,t){return wn(t[n.index])}function ig(n,t){return n.data[t]}function Fp(n,t){return n[t]}function dw(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function Cn(n,t){let e=t[n];return fr(e)?e:e[Qn]}function uw(n){return(n[Y]&4)===4}function Rp(n){return(n[Y]&128)===128}function pw(n){return Kn(n[ct])}function gl(n,t){return t==null?null:n[t]}function og(n){n[Di]=0}function sg(n){n[Y]&1024||(n[Y]|=1024,Rp(n)&&Zo(n))}function fw(n,t){for(;n>0;)t=t[Bi],n--;return t}function jl(n){return!!(n[Y]&9216||n[Kt]?.dirty)}function Hu(n){n[qn].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),jl(n)&&Zo(n)}function Zo(n){n[qn].changeDetectionScheduler?.notify(0);let t=Ur(n);for(;t!==null&&!(t[Y]&8192||(t[Y]|=8192,!Rp(t)));)t=Ur(t)}function ag(n,t){if($i(n))throw new H(911,!1);n[pr]===null&&(n[pr]=[]),n[pr].push(t)}function mw(n,t){if(n[pr]===null)return;let e=n[pr].indexOf(t);e!==-1&&n[pr].splice(e,1)}function Ur(n){let t=n[ct];return Kn(t)?t[ct]:t}function Np(n){return n[pl]??=[]}function Vp(n){return n.cleanup??=[]}function hw(n,t,e,r){let i=Np(t);i.push(e),n.firstCreatePass&&Vp(n).push(r,i.length-1)}var K={lFrame:gg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $u=!1;function gw(){return K.lFrame.elementDepthCount}function vw(){K.lFrame.elementDepthCount++}function _w(){K.lFrame.elementDepthCount--}function lg(){return K.bindingsEnabled}function yw(){return K.skipHydrationRootTNode!==null}function bw(n){return K.skipHydrationRootTNode===n}function xw(){K.skipHydrationRootTNode=null}function te(){return K.lFrame.lView}function it(){return K.lFrame.tView}function w(n){return K.lFrame.contextLView=n,n[kt]}function C(n){return K.lFrame.contextLView=null,n}function _t(){let n=cg();for(;n!==null&&n.type===64;)n=n.parent;return n}function cg(){return K.lFrame.currentTNode}function ww(){let n=K.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Qo(n,t){let e=K.lFrame;e.currentTNode=n,e.isParent=t}function dg(){return K.lFrame.isParent}function Cw(){K.lFrame.isParent=!1}function Ew(){return K.lFrame.contextLView}function ug(){return $u}function Wh(n){let t=$u;return $u=n,t}function Gr(){let n=K.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function pg(){return K.lFrame.bindingIndex}function Sw(n){return K.lFrame.bindingIndex=n}function Ul(){return K.lFrame.bindingIndex++}function Bl(n){let t=K.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Mw(){return K.lFrame.inI18n}function Iw(n,t){let e=K.lFrame;e.bindingIndex=e.bindingRootIndex=n,zu(t)}function Dw(){return K.lFrame.currentDirectiveIndex}function zu(n){K.lFrame.currentDirectiveIndex=n}function Tw(n){let t=K.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function fg(){return K.lFrame.currentQueryIndex}function Lp(n){K.lFrame.currentQueryIndex=n}function kw(n){let t=n[ee];return t.type===2?t.declTNode:t.type===1?n[un]:null}function mg(n,t,e){if(e&X.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&X.Host);)if(i=kw(o),i===null||(o=o[Bi],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=K.lFrame=hg();return r.currentTNode=t,r.lView=n,!0}function jp(n){let t=hg(),e=n[ee];K.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function hg(){let n=K.lFrame,t=n===null?null:n.child;return t===null?gg(n):t}function gg(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function vg(){let n=K.lFrame;return K.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var _g=vg;function Up(){let n=vg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Aw(n){return(K.lFrame.contextLView=fw(n,K.lFrame.contextLView))[kt]}function Xn(){return K.lFrame.selectedIndex}function Br(n){K.lFrame.selectedIndex=n}function Bp(){let n=K.lFrame;return ig(n.tView,n.selectedIndex)}function I(){K.lFrame.currentNamespace=ng}function F(){Ow()}function Ow(){K.lFrame.currentNamespace=null}function Pw(){return K.lFrame.currentNamespace}var yg=!0;function Hp(){return yg}function $p(n){yg=n}function Fw(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=X0(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function bg(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:m}=o;s&&(n.contentHooks??=[]).push(-e,s),c&&((n.contentHooks??=[]).push(e,c),(n.contentCheckHooks??=[]).push(e,c)),u&&(n.viewHooks??=[]).push(-e,u),f&&((n.viewHooks??=[]).push(e,f),(n.viewCheckHooks??=[]).push(e,f)),m!=null&&(n.destroyHooks??=[]).push(e,m)}}function nl(n,t,e){xg(n,t,3,e)}function rl(n,t,e,r){(n[Y]&3)===e&&xg(n,t,e,r)}function Cu(n,t){let e=n[Y];(e&3)===t&&(e&=16383,e+=1,n[Y]=e)}function xg(n,t,e,r){let i=r!==void 0?n[Di]&65535:0,o=r??-1,s=t.length-1,c=0;for(let u=i;u<s;u++)if(typeof t[u+1]=="number"){if(c=t[u],r!=null&&c>=r)break}else t[u]<0&&(n[Di]+=65536),(c<o||o==-1)&&(Rw(n,e,t,u),n[Di]=(n[Di]&4294901760)+u+2),u++}function qh(n,t){xe(4,n,t);let e=re(null);try{t.call(n)}finally{re(e),xe(5,n,t)}}function Rw(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],c=n[s];i?n[Y]>>14<n[Di]>>16&&(n[Y]&3)===t&&(n[Y]+=16384,qh(c,o)):qh(c,o)}var Oi=-1,Hr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function Nw(n){return(n.flags&8)!==0}function Vw(n){return(n.flags&16)!==0}function Lw(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],c=e[r++];n.setAttribute(t,s,c,o)}else{let o=i,s=e[++r];jw(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function wg(n){return n===3||n===4||n===6}function jw(n){return n.charCodeAt(0)===64}function Ho(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?Yh(n,e,i,null,t[++r]):Yh(n,e,i,null,null))}}return n}function Yh(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===t){s=-1;break}else if(c>t){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===e){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),i!==null&&n.splice(o++,0,i)}function Cg(n){return n!==Oi}function vl(n){return n&32767}function Uw(n){return n>>16}function _l(n,t){let e=Uw(n),r=t;for(;e>0;)r=r[Bi],e--;return r}var Gu=!0;function yl(n){let t=Gu;return Gu=n,t}var Bw=256,Eg=Bw-1,Sg=5,Hw=0,yn={};function $w(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Vo)&&(r=e[Vo]),r==null&&(r=e[Vo]=Hw++);let i=r&Eg,o=1<<i;t.data[n+(i>>Sg)]|=o}function bl(n,t){let e=Mg(n,t);if(e!==-1)return e;let r=t[ee];r.firstCreatePass&&(n.injectorIndex=t.length,Eu(r.data,n),Eu(t,null),Eu(r.blueprint,null));let i=zp(n,t),o=n.injectorIndex;if(Cg(i)){let s=vl(i),c=_l(i,t),u=c[ee].data;for(let f=0;f<8;f++)t[o+f]=c[s+f]|u[s+f]}return t[o+8]=i,o}function Eu(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Mg(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function zp(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=Ag(i),r===null)return Oi;if(e++,i=i[Bi],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Oi}function Wu(n,t,e){$w(n,t,e)}function zw(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(wg(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function Ig(n,t,e){if(e&X.Optional||n!==void 0)return n;Ip(t,"NodeInjector")}function Dg(n,t,e,r){if(e&X.Optional&&r===void 0&&(r=null),(e&(X.Self|X.Host))===0){let i=n[Fi],o=Mt(void 0);try{return i?i.get(t,r,e&X.Optional):L0(t,r,e&X.Optional)}finally{Mt(o)}}return Ig(r,t,e)}function Tg(n,t,e,r=X.Default,i){if(n!==null){if(t[Y]&2048&&!(r&X.Self)){let s=Yw(n,t,e,r,yn);if(s!==yn)return s}let o=kg(n,t,e,r,yn);if(o!==yn)return o}return Dg(t,e,r,i)}function kg(n,t,e,r,i){let o=Ww(e);if(typeof o=="function"){if(!mg(t,n,r))return r&X.Host?Ig(i,e,r):Dg(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&X.Optional))Ip(e);else return s}finally{_g()}}else if(typeof o=="number"){let s=null,c=Mg(n,t),u=Oi,f=r&X.Host?t[bn][un]:null;for((c===-1||r&X.SkipSelf)&&(u=c===-1?zp(n,t):t[c+8],u===Oi||!Qh(r,!1)?c=-1:(s=t[ee],c=vl(u),t=_l(u,t)));c!==-1;){let m=t[ee];if(Zh(o,c,m.data)){let v=Gw(c,t,e,s,r,f);if(v!==yn)return v}u=t[c+8],u!==Oi&&Qh(r,t[ee].data[c+8]===f)&&Zh(o,c,t)?(s=m,c=vl(u),t=_l(u,t)):c=-1}}return i}function Gw(n,t,e,r,i,o){let s=t[ee],c=s.data[n+8],u=r==null?Hi(c)&&Gu:r!=s&&(c.type&3)!==0,f=i&X.Host&&o===c,m=il(c,s,e,u,f);return m!==null?$o(t,s,m,c,i):yn}function il(n,t,e,r,i){let o=n.providerIndexes,s=t.data,c=o&1048575,u=n.directiveStart,f=n.directiveEnd,m=o>>20,v=r?c:c+m,S=i?c+m:f;for(let b=v;b<S;b++){let T=s[b];if(b<u&&e===T||b>=u&&T.type===e)return b}if(i){let b=s[u];if(b&&xn(b)&&b.type===e)return u}return null}function $o(n,t,e,r,i){let o=n[e],s=t.data;if(o instanceof Hr){let c=o;c.resolving&&N0(kx(s[e]));let u=yl(c.canSeeViewProviders);c.resolving=!0;let f,m=c.injectImpl?Mt(c.injectImpl):null,v=mg(n,r,X.Default);try{o=n[e]=c.factory(void 0,i,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&Fw(e,s[e],t)}finally{m!==null&&Mt(m),yl(u),c.resolving=!1,_g()}}return o}function Ww(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Vo)?n[Vo]:void 0;return typeof t=="number"?t>=0?t&Eg:qw:t}function Zh(n,t,e){let r=1<<n;return!!(e[t+(n>>Sg)]&r)}function Qh(n,t){return!(n&X.Self)&&!(n&X.Host&&t)}var Fr=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return Tg(this._tNode,this._lView,t,Nl(r),e)}};function qw(){return new Fr(_t(),te())}function zt(n){return qo(()=>{let t=n.prototype.constructor,e=t[sl]||qu(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[sl]||qu(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function qu(n){return A0(n)?()=>{let t=qu(vt(n));return t&&t()}:Rr(n)}function Yw(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[Y]&2048&&!hl(s);){let c=kg(o,s,e,r|X.Self,yn);if(c!==yn)return c;let u=o.parent;if(!u){let f=s[Z0];if(f){let m=f.get(e,yn,r);if(m!==yn)return m}u=Ag(s),s=s[Bi]}o=u}return i}function Ag(n){let t=n[ee],e=t.type;return e===2?t.declTNode:e===1?n[un]:null}function Gp(n){return zw(_t(),n)}function Kh(n,t=null,e=null,r){let i=Og(n,t,e,r);return i.resolveInjectorInitializers(),i}function Og(n,t=null,e=null,r,i=new Set){let o=[e||It,qx(n)];return r=r||(typeof n=="object"?void 0:Dt(n)),new Uo(o,t||Ap(),r||null,i)}var At=class n{static THROW_IF_NOT_FOUND=Pr;static NULL=new dl;static create(t,e){if(Array.isArray(t))return Kh({name:""},e,t,"");{let r=t.name??"";return Kh({name:r},t.parent,t.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>U(B0)});static __NG_ELEMENT_ID__=-1};var Zw=new $("");Zw.__NG_ELEMENT_ID__=n=>{let t=_t();if(t===null)throw new H(204,!1);if(t.type&2)return t.value;if(n&X.Optional)return null;throw new H(204,!1)};var Pg=!1,zi=(()=>{class n{static __NG_ELEMENT_ID__=Qw;static __NG_ENV_ID__=e=>e}return n})(),Yu=class extends zi{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let e=this._lView;return $i(e)?(t(),()=>{}):(ag(e,t),()=>mw(e,t))}};function Qw(){return new Yu(te())}var Ni=class{},Fg=new $("",{providedIn:"root",factory:()=>!1});var Rg=new $(""),Ng=new $(""),Gi=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Oe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();var Zu=class extends Ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Op()&&(this.destroyRef=L(zi,{optional:!0})??void 0,this.pendingTasks=L(Gi,{optional:!0})??void 0)}emit(t){let e=re(null);try{super.next(t)}finally{re(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let u=t;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return t instanceof De&&t.add(c),c}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},He=Zu;function xl(...n){}function Vg(n){let t,e;function r(){n=xl;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Jh(n){return queueMicrotask(()=>n()),()=>{n=xl}}var Wp="isAngularZone",wl=Wp+"_ID",Kw=0,Se=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new He(!1);onMicrotaskEmpty=new He(!1);onStable=new He(!1);onError=new He(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Pg}=t;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,eC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Jw,xl,xl);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},Jw={};function qp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Xw(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){Vg(()=>{n.callbackScheduled=!1,Qu(n),n.isCheckStableRunning=!0,qp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Qu(n)}function eC(n){let t=()=>{Xw(n)},e=Kw++;n._inner=n._inner.fork({name:"angular",properties:{[Wp]:!0,[wl]:e,[wl+e]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(tC(u))return r.invokeTask(o,s,c,u);try{return Xh(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),e0(n)}},onInvoke:(r,i,o,s,c,u,f)=>{try{return Xh(n),r.invoke(o,s,c,u,f)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!nC(u)&&t(),e0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Qu(n),qp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Qu(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Xh(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function e0(n){n._nesting--,qp(n)}var Cl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new He;onMicrotaskEmpty=new He;onStable=new He;onError=new He;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function tC(n){return Lg(n,"__ignore_ng_zone__")}function nC(n){return Lg(n,"__scheduler_tick__")}function Lg(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}function rC(n="zone.js",t){return n==="noop"?new Cl:n==="zone.js"?new Se(t):n}var En=class{_console=console;handleError(t){this._console.error("ERROR",t)}},iC=new $("",{providedIn:"root",factory:()=>{let n=L(Se),t=L(En);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function t0(n,t){return T0(n,t)}function oC(n){return T0(D0,n)}var jg=(t0.required=oC,t0);function sC(){return Wi(_t(),te())}function Wi(n,t){return new yt(In(n,t))}var yt=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=sC}return n})();function aC(n){return n instanceof yt?n.nativeElement:n}function lC(n){return typeof n=="function"&&n[Zt]!==void 0}function Ko(n,t){let e=tu(n,t?.equal),r=e[Zt];return e.set=i=>Do(r,i),e.update=i=>nu(r,i),e.asReadonly=cC.bind(e),e}function cC(){let n=this[Zt];if(n.readonlyFn===void 0){let t=()=>this();t[Zt]=n,n.readonlyFn=t}return n.readonlyFn}function Ug(n){return lC(n)&&typeof n.set=="function"}function dC(){return this._results[Symbol.iterator]()}var Ku=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ne}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=Hx(t);(this._changesDetected=!Bx(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=dC};function Bg(n){return(n.flags&128)===128}var Hg=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Hg||{}),$g=new Map,uC=0;function pC(){return uC++}function fC(n){$g.set(n[Ll],n)}function Ju(n){$g.delete(n[Ll])}var n0="__ngContext__";function Jo(n,t){fr(t)?(n[n0]=t[Ll],fC(t)):n[n0]=t}function zg(n){return Wg(n[Bo])}function Gg(n){return Wg(n[dn])}function Wg(n){for(;n!==null&&!Kn(n);)n=n[dn];return n}var Xu;function qg(n){Xu=n}function mC(){if(Xu!==void 0)return Xu;if(typeof document<"u")return document;throw new H(210,!1)}var Yp=new $("",{providedIn:"root",factory:()=>hC}),hC="ng",Zp=new $(""),qi=new $("",{providedIn:"platform",factory:()=>"unknown"});var Qp=new $("",{providedIn:"root",factory:()=>mC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gC="h",vC="b";var Yg=!1,_C=new $("",{providedIn:"root",factory:()=>Yg});var Kp=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Kp||{}),Yi=new $(""),r0=new Set;function Xo(n){r0.has(n)||(r0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Zg=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=yC}return n})();function yC(){return new Zg(te(),_t())}var Ti=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ti||{}),Qg=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),bC=[Ti.EarlyRead,Ti.Write,Ti.MixedReadWrite,Ti.Read],xC=(()=>{class n{ngZone=L(Se);scheduler=L(Ni);errorHandler=L(En,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){L(Yi,{optional:!0})}execute(){let e=this.sequences.size>0;e&&xe(16),this.executing=!0;for(let r of bC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&xe(17)}register(e){let{view:r}=e;r!==void 0?((r[Ai]??=[]).push(e),Zo(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Kp.AFTER_NEXT_RENDER,e):e()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),ep=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o,s=null){this.impl=t,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Ai];t&&(this.view[Ai]=t.filter(e=>e!==this))}};function Jp(n,t){!t?.injector&&rw(Jp);let e=t?.injector??L(At);return Xo("NgAfterNextRender"),CC(n,e,t,!0)}function wC(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function CC(n,t,e,r){let i=t.get(Qg);i.impl??=t.get(xC);let o=t.get(Yi,null,{optional:!0}),s=e?.phase??Ti.MixedReadWrite,c=e?.manualCleanup!==!0?t.get(zi):null,u=t.get(Zg,null,{optional:!0}),f=new ep(i.impl,wC(n,s),u?.view,r,c,o?.snapshot(null));return i.impl.register(f),f}var EC=(n,t,e,r)=>{};function SC(n,t,e,r){EC(n,t,e,r)}var MC=()=>null;function Kg(n,t,e=!1){return MC(n,t,e)}function Jg(n,t){let e=n.contentQueries;if(e!==null){let r=re(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let c=n.data[s];Lp(o),c.contentQueries(2,t[s],s)}}}finally{re(r)}}}function tp(n,t,e){Lp(0);let r=re(null);try{t(n,e)}finally{re(r)}}function Xg(n,t,e){if(K0(t)){let r=re(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=e[s];c.contentQueries(1,u,s)}}}finally{re(r)}}}var Sn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Sn||{});var Ja;function IC(){if(Ja===void 0&&(Ja=null,gt.trustedTypes))try{Ja=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ja}function i0(n){return IC()?.createScriptURL(n)||n}var El=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${M0})`}};function es(n){return n instanceof El?n.changingThisBreaksApplicationSecurity:n}function ev(n,t){let e=DC(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${M0})`)}return e===t}function DC(n){return n instanceof El&&n.getTypeName()||null}var TC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kC(n){return n=String(n),n.match(TC)?n:"unsafe:"+n}var Xp=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Xp||{});function Dn(n){let t=nv();return t?t.sanitize(Xp.URL,n)||"":ev(n,"URL")?es(n):kC(_n(n))}function AC(n){let t=nv();if(t)return i0(t.sanitize(Xp.RESOURCE_URL,n)||"");if(ev(n,"ResourceURL"))return i0(es(n));throw new H(904,!1)}function OC(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?AC:Dn}function tv(n,t,e){return OC(t,e)(n)}function nv(){let n=te();return n&&n[qn].sanitizer}function rv(n){return n.ownerDocument.defaultView}function iv(n){return n instanceof Function?n():n}function PC(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var ov="ng-template";function FC(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&PC(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(ef(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function ef(n){return n.type===4&&n.value!==ov}function RC(n,t,e){let r=n.type===4&&!e?ov:n.value;return t===r}function NC(n,t,e){let r=4,i=n.attrs,o=i!==null?jC(i):0,s=!1;for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="number"){if(!s&&!ln(r)&&!ln(u))return!1;if(s&&ln(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!RC(n,u,e)||u===""&&t.length===1){if(ln(r))return!1;s=!0}}else if(r&8){if(i===null||!FC(n,i,u,e)){if(ln(r))return!1;s=!0}}else{let f=t[++c],m=VC(u,i,ef(n),e);if(m===-1){if(ln(r))return!1;s=!0;continue}if(f!==""){let v;if(m>o?v="":v=i[m+1].toLowerCase(),r&2&&f!==v){if(ln(r))return!1;s=!0}}}}return ln(r)||s}function ln(n){return(n&1)===0}function VC(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=t[++i];for(;typeof c=="string";)c=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return UC(t,n)}function LC(n,t,e=!1){for(let r=0;r<t.length;r++)if(NC(n,t[r],e))return!0;return!1}function jC(n){for(let t=0;t<n.length;t++){let e=n[t];if(wg(e))return t}return n.length}function UC(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function o0(n,t){return n?":not("+t.trim()+")":t}function BC(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let c=n[++e];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ln(s)&&(t+=o0(o,i),i=""),r=s,o=o||!ln(r);e++}return i!==""&&(t+=o0(o,i)),t}function HC(n){return n.map(BC).join(",")}function $C(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!ln(i))break;i=o}r++}return e.length&&t.push(1,...e),t}var Pt={};function zC(n,t){return n.createText(t)}function GC(n,t,e){n.setValue(t,e)}function sv(n,t,e){return n.createElement(t,e)}function Sl(n,t,e,r,i){n.insertBefore(t,e,r,i)}function av(n,t,e){n.appendChild(t,e)}function s0(n,t,e,r,i){r!==null?Sl(n,t,e,r,i):av(n,t,e)}function WC(n,t,e){n.removeChild(null,t,e)}function qC(n,t,e){n.setAttribute(t,"style",e)}function YC(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function lv(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&Lw(n,t,r),i!==null&&YC(n,t,i),o!==null&&qC(n,t,o)}function tf(n,t,e,r,i,o,s,c,u,f,m){let v=$t+r,S=v+i,b=ZC(v,S),T=typeof f=="function"?f():f;return b[ee]={type:n,blueprint:b,template:e,queries:null,viewQuery:c,declTNode:t,data:b.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:m}}function ZC(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Pt);return e}function QC(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=tf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function nf(n,t,e,r,i,o,s,c,u,f,m){let v=t.blueprint.slice();return v[Qn]=i,v[Y]=r|4|128|8|64|1024,(f!==null||n&&n[Y]&2048)&&(v[Y]|=2048),og(v),v[ct]=v[Bi]=n,v[kt]=e,v[qn]=s||n&&n[qn],v[$e]=c||n&&n[$e],v[Fi]=u||n&&n[Fi]||null,v[un]=o,v[Ll]=pC(),v[ul]=m,v[Z0]=f,v[bn]=t.type==2?n[bn]:v,v}function KC(n,t,e){let r=In(t,n),i=QC(e),o=n[qn].rendererFactory,s=rf(n,nf(n,i,null,cv(e),r,t,null,o.createRenderer(r,e),null,null,null));return n[t.index]=s}function cv(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function dv(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function rf(n,t){return n[Bo]?n[zh][dn]=t:n[Bo]=t,n[zh]=t,t}function p(n=1){uv(it(),te(),Xn()+n,!1)}function uv(n,t,e,r){if(!r)if((t[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&nl(t,o,e)}else{let o=n.preOrderHooks;o!==null&&rl(t,o,0,e)}Br(e)}var Hl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Hl||{});function np(n,t,e,r){let i=re(null);try{let[o,s,c]=n.inputs[e],u=null;(s&Hl.SignalBased)!==0&&(u=t[o][Zt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(t,r)),n.setInput!==null?n.setInput(t,u,r,e,o):J0(t,u,o,r)}finally{re(i)}}function pv(n,t,e,r,i){let o=Xn(),s=r&2;try{Br(-1),s&&t.length>$t&&uv(n,t,$t,!1),xe(s?2:0,i),e(r,i)}finally{Br(o),xe(s?3:1,i)}}function of(n,t,e){rE(n,t,e),(e.flags&64)===64&&iE(n,t,e)}function fv(n,t,e=In){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?e(t,n):n[s];n[i++]=c}}}function JC(n,t,e,r){let o=r.get(_C,Yg)||e===Sn.ShadowDom,s=n.selectRootElement(t,o);return XC(s),s}function XC(n){eE(n)}var eE=()=>null;function tE(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function mv(n,t,e,r,i,o,s,c){if(!c&&sf(t,n,e,r,i)){Hi(t)&&nE(e,t.index);return}if(t.type&3){let u=In(t,e);r=tE(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(u,r,i)}else t.type&12}function nE(n,t){let e=Cn(t,n);e[Y]&16||(e[Y]|=64)}function rE(n,t,e){let r=e.directiveStart,i=e.directiveEnd;Hi(e)&&KC(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||bl(e,t);let o=e.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=$o(t,n,s,e);if(Jo(u,t),o!==null&&lE(t,s-r,u,c,e,o),xn(c)){let f=Cn(e.index,t);f[kt]=$o(t,n,s,e)}}}function iE(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=Dw();try{Br(o);for(let c=r;c<i;c++){let u=n.data[c],f=t[c];zu(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&oE(u,f)}}finally{Br(-1),zu(s)}}function oE(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function hv(n,t){let e=n.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];LC(t,o.selectors,!1)&&(r??=[],xn(o)?r.unshift(o):r.push(o))}return r}function sE(n,t,e,r,i,o){let s=In(n,t);aE(t[$e],s,o,n.value,e,r,i)}function aE(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let c=s==null?_n(o):s(o,r||"",i);n.setAttribute(t,i,c,e)}}function lE(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],f=s[c+1];np(r,e,u,f)}}function cE(n,t){let e=n[Fi],r=e?e.get(En,null):null;r&&r.handleError(t)}function sf(n,t,e,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let f=s[u],m=s[u+1],v=t.data[f];np(v,e[f],m,i),c=!0}if(o)for(let u of o){let f=e[u],m=t.data[u];np(m,f,r,i),c=!0}return c}function dE(n,t){let e=Cn(t,n),r=e[ee];uE(r,e);let i=e[Qn];i!==null&&e[ul]===null&&(e[ul]=Kg(i,e[Fi])),xe(18),af(r,e,e[kt]),xe(19,e[kt])}function uE(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function af(n,t,e){jp(t);try{let r=n.viewQuery;r!==null&&tp(1,r,e);let i=n.template;i!==null&&pv(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Yn]?.finishViewCreation(n),n.staticContentQueries&&Jg(n,t),n.staticViewQueries&&tp(2,n.viewQuery,e);let o=n.components;o!==null&&pE(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[Y]&=-5,Up()}}function pE(n,t){for(let e=0;e<t.length;e++)dE(n,t[e])}function fE(n,t,e,r){let i=re(null);try{let o=t.tView,c=n[Y]&4096?4096:16,u=nf(n,o,e,c,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),f=n[t.index];u[Lr]=f;let m=n[Yn];return m!==null&&(u[Yn]=m.createEmbeddedView(o)),af(o,u,e),u}finally{re(i)}}function a0(n,t){return!t||t.firstChild===null||Bg(n)}var mE;function lf(n,t){return mE(n,t)}var Zn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Zn||{});function gv(n){return(n.flags&32)===32}function ki(n,t,e,r,i){if(r!=null){let o,s=!1;Kn(r)?o=r:fr(r)&&(s=!0,r=r[Qn]);let c=wn(r);n===0&&e!==null?i==null?av(t,e,c):Sl(t,e,c,i||null,!0):n===1&&e!==null?Sl(t,e,c,i||null,!0):n===2?WC(t,c,s):n===3&&t.destroyNode(c),o!=null&&ME(t,n,o,e,i)}}function hE(n,t){vv(n,t),t[Qn]=null,t[un]=null}function gE(n,t,e,r,i,o){r[Qn]=i,r[un]=t,$l(n,r,e,1,i,o)}function vv(n,t){t[qn].changeDetectionScheduler?.notify(9),$l(n,t,t[$e],2,null,null)}function vE(n){let t=n[Bo];if(!t)return Su(n[ee],n);for(;t;){let e=null;if(fr(t))e=t[Bo];else{let r=t[Ht];r&&(e=r)}if(!e){for(;t&&!t[dn]&&t!==n;)fr(t)&&Su(t[ee],t),t=t[ct];t===null&&(t=n),fr(t)&&Su(t[ee],t),e=t&&t[dn]}t=e}}function cf(n,t){let e=n[Ri],r=e.indexOf(t);e.splice(r,1)}function _v(n,t){if($i(t))return;let e=t[$e];e.destroyNode&&$l(n,t,e,3,null,null),vE(t)}function Su(n,t){if($i(t))return;let e=re(null);try{t[Y]&=-129,t[Y]|=256,t[Kt]&&Jd(t[Kt]),yE(n,t),_E(n,t),t[ee].type===1&&t[$e].destroy();let r=t[Lr];if(r!==null&&Kn(t[ct])){r!==t[ct]&&cf(r,t);let i=t[Yn];i!==null&&i.detachView(n)}Ju(t)}finally{re(e)}}function _E(n,t){let e=n.cleanup,r=t[pl];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let c=e[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[e[s+1]];e[s].call(c)}r!==null&&(t[pl]=null);let i=t[pr];if(i!==null){t[pr]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=t[fl];if(o!==null){t[fl]=null;for(let s of o)s.destroy()}}function yE(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof Hr)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];xe(4,c,u);try{u.call(c)}finally{xe(5,c,u)}}else{xe(4,i,o);try{o.call(i)}finally{xe(5,i,o)}}}}}function bE(n,t,e){return xE(n,t.parent,e)}function xE(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[Qn];if(Hi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Sn.None||i===Sn.Emulated)return null}return In(r,e)}function wE(n,t,e){return EE(n,t,e)}function CE(n,t,e){return n.type&40?In(n,e):null}var EE=CE,l0;function df(n,t,e,r){let i=bE(n,r,t),o=t[$e],s=r.parent||t[un],c=wE(s,r,t);if(i!=null)if(Array.isArray(e))for(let u=0;u<e.length;u++)s0(o,i,e[u],c,!1);else s0(o,i,e,c,!1);l0!==void 0&&l0(o,r,t,e,i)}function No(n,t){if(t!==null){let e=t.type;if(e&3)return In(t,n);if(e&4)return rp(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return No(n,r);{let i=n[t.index];return Kn(i)?rp(-1,i):wn(i)}}else{if(e&128)return No(n,t.next);if(e&32)return lf(t,n)()||wn(n[t.index]);{let r=yv(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Ur(n[bn]);return No(i,r)}else return No(n,t.next)}}}return null}function yv(n,t){if(t!==null){let r=n[bn][un],i=t.projection;return r.projection[i]}return null}function rp(n,t){let e=Ht+n+1;if(e<t.length){let r=t[e],i=r[ee].firstChild;if(i!==null)return No(r,i)}return t[jr]}function uf(n,t,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let c=r[e.index],u=e.type;if(s&&t===0&&(c&&Jo(wn(c),r),e.flags|=2),!gv(e))if(u&8)uf(n,t,e.child,r,i,o,!1),ki(t,n,i,c,o);else if(u&32){let f=lf(e,r),m;for(;m=f();)ki(t,n,i,m,o);ki(t,n,i,c,o)}else u&16?SE(n,t,r,e,i,o):ki(t,n,i,c,o);e=s?e.projectionNext:e.next}}function $l(n,t,e,r,i,o){uf(e,r,n.firstChild,t,i,o,!1)}function SE(n,t,e,r,i,o){let s=e[bn],u=s[un].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++){let m=u[f];ki(t,n,i,m,o)}else{let f=u,m=s[ct];Bg(r)&&(f.flags|=128),uf(n,t,f,m,i,o,!0)}}function ME(n,t,e,r,i){let o=e[jr],s=wn(e);o!==s&&ki(t,n,r,o,i);for(let c=Ht;c<e.length;c++){let u=e[c];$l(u[ee],u,n,t,r,o)}}function IE(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Zn.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zn.Important),n.setStyle(e,r,i,o))}}function Ml(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(wn(o)),Kn(o)&&DE(o,r);let s=e.type;if(s&8)Ml(n,t,e.child,r);else if(s&32){let c=lf(e,t),u;for(;u=c();)r.push(u)}else if(s&16){let c=yv(t,e);if(Array.isArray(c))r.push(...c);else{let u=Ur(t[bn]);Ml(u[ee],u,c,r,!0)}}e=i?e.projectionNext:e.next}return r}function DE(n,t){for(let e=Ht;e<n.length;e++){let r=n[e],i=r[ee].firstChild;i!==null&&Ml(r[ee],r,i,t)}n[jr]!==n[Qn]&&t.push(n[jr])}function bv(n){if(n[Ai]!==null){for(let t of n[Ai])t.impl.addSequence(t);n[Ai].length=0}}var xv=[];function TE(n){return n[Kt]??kE(n)}function kE(n){let t=xv.pop()??Object.create(OE);return t.lView=n,t}function AE(n){n.lView[Kt]!==n&&(n.lView=null,xv.push(n))}var OE=G(P({},Mo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Zo(n.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});function PE(n){let t=n[Kt]??Object.create(FE);return t.lView=n,t}var FE=G(P({},Mo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Ur(n.lView);for(;t&&!wv(t[ee]);)t=Ur(t);t&&sg(t)},consumerOnSignalRead(){this.lView[Kt]=this}});function wv(n){return n.type!==2}function Cv(n){if(n[fl]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[fl])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[Y]&8192)}}var RE=100;function Ev(n,t=!0,e=0){let i=n[qn].rendererFactory,o=!1;o||i.begin?.();try{NE(n,e)}catch(s){throw t&&cE(n,s),s}finally{o||i.end?.()}}function NE(n,t){let e=ug();try{Wh(!0),ip(n,t);let r=0;for(;jl(n);){if(r===RE)throw new H(103,!1);r++,ip(n,1)}}finally{Wh(e)}}function VE(n,t,e,r){if($i(t))return;let i=t[Y],o=!1,s=!1;jp(t);let c=!0,u=null,f=null;o||(wv(n)?(f=TE(t),u=Ca(f)):Wd()===null?(c=!1,f=PE(t),u=Ca(f)):t[Kt]&&(Jd(t[Kt]),t[Kt]=null));try{og(t),Sw(n.bindingStartIndex),e!==null&&pv(n,t,e,2,r);let m=(i&3)===3;if(!o)if(m){let b=n.preOrderCheckHooks;b!==null&&nl(t,b,null)}else{let b=n.preOrderHooks;b!==null&&rl(t,b,0,null),Cu(t,0)}if(s||LE(t),Cv(t),Sv(t,0),n.contentQueries!==null&&Jg(n,t),!o)if(m){let b=n.contentCheckHooks;b!==null&&nl(t,b)}else{let b=n.contentHooks;b!==null&&rl(t,b,1),Cu(t,1)}UE(n,t);let v=n.components;v!==null&&Iv(t,v,0);let S=n.viewQuery;if(S!==null&&tp(2,S,r),!o)if(m){let b=n.viewCheckHooks;b!==null&&nl(t,b)}else{let b=n.viewHooks;b!==null&&rl(t,b,2),Cu(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[wu]){for(let b of t[wu])b();t[wu]=null}o||(bv(t),t[Y]&=-73)}catch(m){throw o||Zo(t),m}finally{f!==null&&(Qd(f,u),c&&AE(f)),Up()}}function Sv(n,t){for(let e=zg(n);e!==null;e=Gg(e))for(let r=Ht;r<e.length;r++){let i=e[r];Mv(i,t)}}function LE(n){for(let t=zg(n);t!==null;t=Gg(t)){if(!(t[Y]&2))continue;let e=t[Ri];for(let r=0;r<e.length;r++){let i=e[r];sg(i)}}}function jE(n,t,e){xe(18);let r=Cn(t,n);Mv(r,e),xe(19,r[kt])}function Mv(n,t){Rp(n)&&ip(n,t)}function ip(n,t){let r=n[ee],i=n[Y],o=n[Kt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Kd(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)VE(r,n,r.template,n[kt]);else if(i&8192){Cv(n),Sv(n,1);let c=r.components;c!==null&&Iv(n,c,1),bv(n)}}function Iv(n,t,e){for(let r=0;r<t.length;r++)jE(n,t[r],e)}function UE(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Br(~i);else{let o=i,s=e[++r],c=e[++r];Iw(s,o);let u=t[o];xe(24,u),c(2,u),xe(25,u)}}}finally{Br(-1)}}function pf(n,t){let e=ug()?64:1088;for(n[qn].changeDetectionScheduler?.notify(t);n;){n[Y]|=e;let r=Ur(n);if(hl(n)&&!r)return n;n=r}return null}function Dv(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function BE(n,t,e,r=!0){let i=t[ee];if(HE(i,t,n,e),r){let s=rp(e,n),c=t[$e],u=c.parentNode(n[jr]);u!==null&&gE(i,n[un],c,t,u,s)}let o=t[ul];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function op(n,t){if(n.length<=Ht)return;let e=Ht+t,r=n[e];if(r){let i=r[Lr];i!==null&&i!==n&&cf(i,r),t>0&&(n[e-1][dn]=r[dn]);let o=cl(n,Ht+t);hE(r[ee],r);let s=o[Yn];s!==null&&s.detachView(o[ee]),r[ct]=null,r[dn]=null,r[Y]&=-129}return r}function HE(n,t,e,r){let i=Ht+r,o=e.length;r>0&&(e[i-1][dn]=t),r<o-Ht?(t[dn]=e[i],U0(e,Ht+r,t)):(e.push(t),t[dn]=null),t[ct]=e;let s=t[Lr];s!==null&&e!==s&&Tv(s,t);let c=t[Yn];c!==null&&c.insertView(n),Hu(t),t[Y]|=128}function Tv(n,t){let e=n[Ri],r=t[ct];if(fr(r))n[Y]|=2;else{let i=r[ct][bn];t[bn]!==i&&(n[Y]|=2)}e===null?n[Ri]=[t]:e.push(t)}var zo=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[ee];return Ml(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[kt]}set context(t){this._lView[kt]=t}get destroyed(){return $i(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ct];if(Kn(t)){let e=t[ml],r=e?e.indexOf(this):-1;r>-1&&(op(t,r),cl(e,r))}this._attachedToViewContainer=!1}_v(this._lView[ee],this._lView)}onDestroy(t){ag(this._lView,t)}markForCheck(){pf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Hu(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,Ev(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=hl(this._lView),e=this._lView[Lr];e!==null&&!t&&cf(e,this._lView),vv(this._lView[ee],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=t;let e=hl(this._lView),r=this._lView[Lr];r!==null&&!e&&Tv(r,this._lView),Hu(this._lView)}};var $r=(()=>{class n{static __NG_ELEMENT_ID__=GE}return n})(),$E=$r,zE=class extends $E{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=fE(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new zo(i)}};function GE(){return zl(_t(),te())}function zl(n,t){return n.type&4?new zE(t,n,Wi(n,t)):null}function ff(n,t,e,r,i){let o=n.data[t];if(o===null)o=WE(n,t,e,r,i),Mw()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=ww();o.injectorIndex=s===null?-1:s.injectorIndex}return Qo(o,!0),o}function WE(n,t,e,r,i){let o=cg(),s=dg(),c=s?o:o&&o.parent,u=n.data[t]=YE(n,c,e,t,r,i);return qE(n,u,o,s),u}function qE(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function YE(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,c=0;return yw()&&(c|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var EL=new RegExp(`^(\\d+)*(${vC}|${gC})*(.*)`);var ZE=()=>null;function c0(n,t){return ZE(n,t)}var QE=class{},kv=class{},sp=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Dt(t)}.`)}},Gl=class{static NULL=new sp},Vi=class{},pn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>KE()}return n})();function KE(){let n=te(),t=_t(),e=Cn(t.index,n);return(fr(e)?e:n)[$e]}var JE=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var Mu={},ap=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=Nl(r);let i=this.injector.get(t,Mu,r);return i!==Mu||e===Mu?i:this.parentInjector.get(t,e,r)}};function d0(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number")o=c;else if(o==1)i=Fu(i,c);else if(o==2){let u=c,f=t[++s];r=Fu(r,u+": "+f+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function R(n,t=X.Default){let e=te();if(e===null)return U(n,t);let r=_t();return Tg(r,e,vt(n),t)}function Av(){let n="invalid";throw new Error(n)}function Ov(n,t,e,r,i){let o=r===null?null:{"":-1},s=i(n,e);if(s!==null){let c,u=null,f=null,m=e2(s);m===null?c=s:[c,u,f]=m,r2(n,t,e,c,o,u,f)}o!==null&&r!==null&&XE(e,r,o)}function XE(n,t,e){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new H(-301,!1);r.push(t[i],o)}}function e2(n){let t=null,e=!1;for(let s=0;s<n.length;s++){let c=n[s];if(s===0&&xn(c)&&(t=c),c.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,t2(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?n:n.slice(1)),[r,i,o]):null}function t2(n,t,e,r){let i=t.length;n.findHostDirectiveDefs(n,t,r),e.set(n,[i,t.length-1])}function n2(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function r2(n,t,e,r,i,o,s){let c=r.length,u=!1;for(let S=0;S<c;S++){let b=r[S];!u&&xn(b)&&(u=!0,n2(n,e,S)),Wu(bl(e,t),n,b.type)}c2(e,n.data.length,c);for(let S=0;S<c;S++){let b=r[S];b.providersResolver&&b.providersResolver(b)}let f=!1,m=!1,v=dv(n,t,c,null);c>0&&(e.directiveToIndex=new Map);for(let S=0;S<c;S++){let b=r[S];if(e.mergedAttrs=Ho(e.mergedAttrs,b.hostAttrs),o2(n,e,t,v,b),l2(v,b,i),s!==null&&s.has(b)){let[N,j]=s.get(b);e.directiveToIndex.set(b.type,[v,N+e.directiveStart,j+e.directiveStart])}else(o===null||!o.has(b))&&e.directiveToIndex.set(b.type,v);b.contentQueries!==null&&(e.flags|=4),(b.hostBindings!==null||b.hostAttrs!==null||b.hostVars!==0)&&(e.flags|=64);let T=b.type.prototype;!f&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),f=!0),!m&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),m=!0),v++}i2(n,e,o)}function i2(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=n.data[r];if(e===null||!e.has(i))u0(0,t,i,r),u0(1,t,i,r),f0(t,r,!1);else{let o=e.get(i);p0(0,t,o,r),p0(1,t,o,r),f0(t,r,!0)}}}function u0(n,t,e,r){let i=n===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Pv(t,o)}}function p0(n,t,e,r){let i=n===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=t.hostDirectiveInputs??={}:c=t.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),Pv(t,s)}}function Pv(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function f0(n,t,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!e&&i===null||e&&o===null||ef(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!e&&i.hasOwnProperty(u)){let f=i[u];for(let m of f)if(m===t){s??=[],s.push(u,r[c+1]);break}}else if(e&&o.hasOwnProperty(u)){let f=o[u];for(let m=0;m<f.length;m+=2)if(f[m]===t){s??=[],s.push(f[m+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function o2(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=Rr(i.type,!0)),s=new Hr(o,xn(i),R);n.blueprint[r]=s,e[r]=s,s2(n,t,r,dv(n,e,i.hostVars,Pt),i)}function s2(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~t.index;a2(s)!=c&&s.push(c),s.push(e,r,o)}}function a2(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function l2(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;xn(t)&&(e[""]=n)}}function c2(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Fv(n,t,e,r,i,o,s,c){let u=t.consts,f=gl(u,s),m=ff(t,n,2,r,f);return o&&Ov(t,e,m,gl(u,c),i),m.mergedAttrs=Ho(m.mergedAttrs,m.attrs),m.attrs!==null&&d0(m,m.attrs,!1),m.mergedAttrs!==null&&d0(m,m.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,m),m}function Rv(n,t){bg(n,t),K0(t)&&n.queries.elementEnd(t)}var Il=class extends Gl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Vr(t);return new Li(e,this.ngModule)}};function d2(n){return Object.keys(n).map(t=>{let[e,r,i]=n[t],o={propName:e,templateName:t,isSignal:(r&Hl.SignalBased)!==0};return i&&(o.transform=i),o})}function u2(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function p2(n,t,e){let r=t instanceof Tt?t:t?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new ap(e,r):e}function f2(n){let t=n.get(Vi,null);if(t===null)throw new H(407,!1);let e=n.get(JE,null),r=n.get(Ni,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:r}}function m2(n,t){let e=(n.selectors[0][0]||"div").toLowerCase();return sv(t,e,e==="svg"?ng:e==="math"?cw:null)}var Li=class extends kv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=d2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=u2(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=HC(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,i){xe(22);let o=re(null);try{let s=this.componentDef,c=r?["ng-version","19.2.14"]:$C(this.componentDef.selectors[0]),u=tf(0,null,null,1,0,null,null,null,null,[c],null),f=p2(s,i||this.ngModule,t),m=f2(f),v=m.rendererFactory.createRenderer(null,s),S=r?JC(v,r,s.encapsulation,f):m2(s,v),b=nf(null,u,null,512|cv(s),null,null,m,v,f,null,Kg(S,f,!0));b[$t]=S,jp(b);let T=null;try{let N=Fv($t,u,b,"#host",()=>[this.componentDef],!0,0);S&&(lv(v,S,N),Jo(S,b)),of(u,b,N),Xg(u,N,b),Rv(u,N),e!==void 0&&h2(N,this.ngContentSelectors,e),T=Cn(N.index,b),b[kt]=T[kt],af(u,b,null)}catch(N){throw T!==null&&Ju(T),Ju(b),N}finally{xe(23),Up()}return new lp(this.componentType,b)}finally{re(o)}}},lp=class extends QE{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=ig(e[ee],$t),this.location=Wi(this._tNode,e),this.instance=Cn(this._tNode.index,e)[kt],this.hostView=this.changeDetectorRef=new zo(e,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let i=this._rootLView,o=sf(r,i[ee],i,t,e);this.previousInputValues.set(t,e);let s=Cn(r.index,i);pf(s,1)}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function h2(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var hr=(()=>{class n{static __NG_ELEMENT_ID__=g2}return n})();function g2(){let n=_t();return Vv(n,te())}var v2=hr,Nv=class extends v2{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Wi(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){let t=zp(this._hostTNode,this._hostLView);if(Cg(t)){let e=_l(t,this._hostLView),r=vl(t),i=e[ee].data[r+8];return new Fr(i,e)}else return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=m0(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=c0(this._lContainer,t.ssrId),c=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(c,i,a0(this._hostTNode,s)),c}createComponent(t,e,r,i,o){let s=t&&!ow(t),c;if(s)c=e;else{let T=e||{};c=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?t:new Li(Vr(t)),f=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?f:this.parentInjector).get(Tt,null);N&&(o=N)}let m=Vr(u.componentType??{}),v=c0(this._lContainer,m?.id??null),S=v?.firstChild??null,b=u.create(f,i,S,o);return this.insertImpl(b.hostView,c,a0(this._hostTNode,v)),b}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(pw(i)){let c=this.indexOf(t);if(c!==-1)this.detach(c);else{let u=i[ct],f=new Nv(u,u[un],u[ct]);f.detach(f.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return BE(s,i,o,r),t.attachToViewContainerRef(),U0(Iu(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=m0(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=op(this._lContainer,e);r&&(cl(Iu(this._lContainer),e),_v(r[ee],r))}detach(t){let e=this._adjustIndex(t,-1),r=op(this._lContainer,e);return r&&cl(Iu(this._lContainer),e)!=null?new zo(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function m0(n){return n[ml]}function Iu(n){return n[ml]||(n[ml]=[])}function Vv(n,t){let e,r=t[n.index];return Kn(r)?e=r:(e=Dv(r,t,null,n),t[n.index]=e,rf(t,e)),y2(e,t,n,r),new Nv(e,n,t)}function _2(n,t){let e=n[$e],r=e.createComment(""),i=In(t,n),o=e.parentNode(i);return Sl(e,o,r,e.nextSibling(i),!1),r}var y2=w2,b2=()=>!1;function x2(n,t,e){return b2(n,t,e)}function w2(n,t,e,r){if(n[jr])return;let i;e.type&8?i=wn(r):i=_2(t,e),n[jr]=i}var cp=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},dp=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)mf(t,e).matches!==null&&this.queries[e].setDirty()}},up=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=k2(t):this.predicate=t}},pp=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},fp=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,e,C2(e,o)),this.matchTNodeWithReadOption(t,e,il(e,t,o,!1,!1))}else r===$r?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,il(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===yt||i===hr||i===$r&&e.type&4)this.addMatch(e.index,-2);else{let o=il(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function C2(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function E2(n,t){return n.type&11?Wi(n,t):n.type&4?zl(n,t):null}function S2(n,t,e,r){return e===-1?E2(t,n):e===-2?M2(n,t,r):$o(n,n[ee],e,t)}function M2(n,t,e){if(e===yt)return Wi(t,n);if(e===$r)return zl(t,n);if(e===hr)return Vv(t,n)}function Lv(n,t,e,r){let i=t[Yn].queries[r];if(i.matches===null){let o=n.data,s=e.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let f=s[u];if(f<0)c.push(null);else{let m=o[f];c.push(S2(t,m,s[u+1],e.metadata.read))}}i.matches=c}return i.matches}function mp(n,t,e,r){let i=n.queries.getByIndex(e),o=i.matches;if(o!==null){let s=Lv(n,t,i,e);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let f=o[c+1],m=t[-u];for(let v=Ht;v<m.length;v++){let S=m[v];S[Lr]===S[ct]&&mp(S[ee],S,f,r)}if(m[Ri]!==null){let v=m[Ri];for(let S=0;S<v.length;S++){let b=v[S];mp(b[ee],b,f,r)}}}}}return r}function I2(n,t){return n[Yn].queries[t].queryList}function D2(n,t,e){let r=new Ku((e&4)===4);return hw(n,t,r,r.destroy),(t[Yn]??=new dp).queries.push(new cp(r))-1}function T2(n,t,e,r){let i=it();if(i.firstCreatePass){let o=_t();A2(i,new up(t,e,r),o.index),O2(i,n),(e&2)===2&&(i.staticContentQueries=!0)}return D2(i,te(),e)}function k2(n){return n.split(",").map(t=>t.trim())}function A2(n,t,e){n.queries===null&&(n.queries=new pp),n.queries.track(new fp(t,e))}function O2(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function mf(n,t){return n.queries.getByIndex(t)}function P2(n,t){let e=n[ee],r=mf(e,t);return r.crossesNgTemplate?mp(e,n,t,[]):Lv(e,n,r,t)}function F2(n){let t=[],e=new Map;function r(i){let o=e.get(i);if(!o){let s=n(i);e.set(i,o=s.then(L2))}return o}return Dl.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(f=>{i.template=f}));let c=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=c,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let f=i.styles.length,m=i.styleUrls;i.styleUrls.forEach((v,S)=>{c.push(""),s.push(r(v).then(b=>{c[f+S]=b,m.splice(m.indexOf(v),1),m.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(f=>{c.push(f),i.styleUrl=void 0}));let u=Promise.all(s).then(()=>j2(o));t.push(u)}),N2(),Promise.all(t).then(()=>{})}var Dl=new Map,R2=new Set;function N2(){let n=Dl;return Dl=new Map,n}function V2(){return Dl.size===0}function L2(n){return typeof n=="string"?n:n.text()}function j2(n){R2.delete(n)}var ji=class{},hf=class{};var Tl=class extends ji{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Il(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=$0(t);this._bootstrapComponents=iv(o.bootstrap),this._r3Injector=Og(t,e,[{provide:ji,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver},...r],Dt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},kl=class extends hf{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Tl(this.moduleType,t,[])}};function U2(n,t,e){return new Tl(n,t,e,!1)}var hp=class extends ji{injector;componentFactoryResolver=new Il(this);instance=null;constructor(t){super();let e=new Uo([...t.providers,{provide:ji,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],t.parent||Ap(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ts(n,t,e=null){return new hp({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var B2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=G0(!1,e.type),i=r.length>0?ts([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(U(Tt))})}return n})();function le(n){return qo(()=>{let t=jv(n),e=G(P({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Hg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(B2).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Sn.Emulated,styles:n.styles||It,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Xo("NgStandalone"),Uv(e);let r=n.dependencies;return e.directiveDefs=h0(r,!1),e.pipeDefs=h0(r,!0),e.id=W2(e),e})}function H2(n){return Vr(n)||Gx(n)}function $2(n){return n!==null}function ut(n){return qo(()=>({type:n.type,bootstrap:n.bootstrap||It,declarations:n.declarations||It,imports:n.imports||It,exports:n.exports||It,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function z2(n,t){if(n==null)return Nr;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Hl.None,u=null),e[o]=[r,c,u],t[o]=s}return e}function G2(n){if(n==null)return Nr;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function ge(n){return qo(()=>{let t=jv(n);return Uv(t),t})}function Wl(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function jv(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Nr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||It,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:z2(n.inputs,t),outputs:G2(n.outputs),debugInfo:null}}function Uv(n){n.features?.forEach(t=>t(n))}function h0(n,t){if(!n)return null;let e=t?Wx:H2;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter($2)}function W2(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function q2(n){return Object.getPrototypeOf(n.prototype).constructor}function pt(n){let t=q2(n.type),e=!0,r=[n];for(;t;){let i;if(xn(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new H(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=Du(n.inputs),s.declaredInputs=Du(n.declaredInputs),s.outputs=Du(n.outputs);let c=i.hostBindings;c&&J2(n,c);let u=i.viewQuery,f=i.contentQueries;if(u&&Q2(n,u),f&&K2(n,f),Y2(n,i),wx(n.outputs,i.outputs),xn(i)&&i.data.animation){let m=n.data;m.animation=(m.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===pt&&(e=!1)}}t=Object.getPrototypeOf(t)}Z2(r)}function Y2(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function Z2(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ho(i.hostAttrs,e=Ho(e,i.hostAttrs))}}function Du(n){return n===Nr?{}:n===It?[]:n}function Q2(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function K2(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function J2(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function Bv(n){return eS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function X2(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function eS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ns(n,t,e){return n[t]=e}function tS(n,t){return n[t]}function Mn(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function Go(n,t,e,r){let i=Mn(n,t,e);return Mn(n,t+1,r)||i}function nS(n,t,e,r,i){let o=Go(n,t,e,r);return Mn(n,t+2,i)||o}function Hv(n,t,e,r,i,o){let s=Go(n,t,e,r);return Go(n,t+2,i,o)||s}function rS(n,t,e,r,i,o,s,c,u){let f=t.consts,m=ff(t,n,4,s||null,c||null);lg()&&Ov(t,e,m,gl(f,u),hv),m.mergedAttrs=Ho(m.mergedAttrs,m.attrs),bg(t,m);let v=m.tView=tf(2,m,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f,null);return t.queries!==null&&(t.queries.template(t,m),v.queries=t.queries.embeddedTView(m)),m}function iS(n,t,e,r,i,o,s,c,u,f){let m=e+$t,v=t.firstCreatePass?rS(m,t,n,r,i,o,s,c,u):t.data[m];Qo(v,!1);let S=oS(t,n,v,e);Hp()&&df(t,n,S,v),Jo(S,n);let b=Dv(S,n,S,v);return n[m]=b,rf(n,b),x2(b,v,n),Pp(v)&&of(t,n,v),u!=null&&fv(n,v,f),v}function x(n,t,e,r,i,o,s,c){let u=te(),f=it(),m=gl(f.consts,o);return iS(u,f,n,t,e,r,i,m,s,c),x}var oS=sS;function sS(n,t,e,r){return $p(!0),t[$e].createComment("")}var $v=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var gf=new $(""),rs=new $(""),ql=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,r,i){this._ngZone=e,this.registry=r,Op()&&(this._destroyRef=L(zi,{optional:!0})??void 0),vf||(aS(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(e)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}static \u0275fac=function(r){return new(r||n)(U(Se),U(Yl),U(rs))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Yl=(()=>{class n{_applications=new Map;registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return vf?.findTestabilityInTree(this,e,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function aS(n){vf=n}var vf,lS=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new gp})}return n})(),gp=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}};function Wr(n){return!!n&&typeof n.then=="function"}function zv(n){return!!n&&typeof n.subscribe=="function"}var Gv=new $("");function _f(n){return z0([{provide:Gv,multi:!0,useValue:n}])}var Wv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=L(Gv,{optional:!0})??[];injector=L(At);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=Jt(this.injector,i);if(Wr(o))e.push(o);else if(zv(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yf=new $("");function cS(){eu(()=>{throw new H(600,!1)})}function dS(n){return n.isBoundToModule}var uS=10;function qv(n,t){return Array.isArray(t)?t.reduce(qv,n):P(P({},n),t)}var mr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(iC);afterRenderManager=L(Qg);zonelessEnabled=L(Fg);rootEffectScheduler=L(lS);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ne;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=L(Gi).hasPendingTasks.pipe(se(e=>!e));constructor(){L(Yi,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=L(Tt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=At.NULL){xe(10);let o=e instanceof kv;if(!this._injector.get(Wv).done){let b="";throw new H(405,b)}let c;o?c=e:c=this._injector.get(Gl).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let u=dS(c)?void 0:this._injector.get(ji),f=r||c.selector,m=c.create(i,[],f,u),v=m.location.nativeElement,S=m.injector.get(gf,null);return S?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),ol(this.components,m),S?.unregisterApplication(v)}),this._loadComponent(m),xe(11,m),m}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Kp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let e=re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,re(e),this.afterTick.next(),xe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Vi,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<uS;)xe(14),this.synchronizeOnce(),xe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)pS(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>jl(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;ol(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(yf,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ol(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new H(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ol(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function pS(n,t,e,r){if(!e&&!jl(n))return;Ev(n,t,e&&!r?0:1)}function Je(n,t,e,r){let i=te(),o=Ul();if(Mn(i,o,t)){let s=it(),c=Bp();sE(c,i,n,t,e,r)}return Je}function fS(n,t,e,r){return Mn(n,Ul(),e)?t+_n(e)+r:Pt}function mS(n,t,e,r,i,o){let s=pg(),c=Go(n,s,e,i);return Bl(2),c?t+_n(e)+r+_n(i)+o:Pt}function hS(n,t,e,r,i,o,s,c,u,f){let m=pg(),v=Hv(n,m,e,i,s,u);return Bl(4),v?t+_n(e)+r+_n(i)+o+_n(s)+c+_n(u)+f:Pt}function Xa(n,t){return n<<17|t<<2}function zr(n){return n>>17&32767}function gS(n){return(n&2)==2}function vS(n,t){return n&131071|t<<17}function vp(n){return n|2}function Ui(n){return(n&131068)>>2}function Tu(n,t){return n&-131069|t<<2}function _S(n){return(n&1)===1}function _p(n){return n|1}function yS(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,c=zr(s),u=Ui(s);n[r]=e;let f=!1,m;if(Array.isArray(e)){let v=e;m=v[1],(m===null||Yo(v,m)>0)&&(f=!0)}else m=e;if(i)if(u!==0){let S=zr(n[c+1]);n[r+1]=Xa(S,c),S!==0&&(n[S+1]=Tu(n[S+1],r)),n[c+1]=vS(n[c+1],r)}else n[r+1]=Xa(c,0),c!==0&&(n[c+1]=Tu(n[c+1],r)),c=r;else n[r+1]=Xa(u,0),c===0?c=r:n[u+1]=Tu(n[u+1],r),u=r;f&&(n[r+1]=vp(n[r+1])),g0(n,m,r,!0),g0(n,m,r,!1),bS(t,m,n,r,o),s=Xa(c,u),o?t.classBindings=s:t.styleBindings=s}function bS(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Yo(o,t)>=0&&(e[r+1]=_p(e[r+1]))}function g0(n,t,e,r){let i=n[e+1],o=t===null,s=r?zr(i):Ui(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],f=n[s+1];xS(u,t)&&(c=!0,n[s+1]=r?_p(f):vp(f)),s=r?zr(f):Ui(f)}c&&(n[e+1]=r?vp(i):_p(i))}function xS(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Yo(n,t)>=0:!1}var cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wS(n){return n.substring(cn.key,cn.keyEnd)}function CS(n){return ES(n),Yv(n,Zv(n,0,cn.textEnd))}function Yv(n,t){let e=cn.textEnd;return e===t?-1:(t=cn.keyEnd=SS(n,cn.key=t,e),Zv(n,t,e))}function ES(n){cn.key=0,cn.keyEnd=0,cn.value=0,cn.valueEnd=0,cn.textEnd=n.length}function Zv(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function SS(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function h(n,t,e){let r=te(),i=Ul();if(Mn(r,i,t)){let o=it(),s=Bp();mv(o,s,r,n,t,r[$e],e,!1)}return h}function yp(n,t,e,r,i){sf(t,n,e,i?"class":"style",r)}function bf(n,t,e){return Qv(n,t,e,!1),bf}function Ft(n,t){return Qv(n,t,null,!0),Ft}function he(n){IS(PS,MS,n,!0)}function MS(n,t){for(let e=CS(t);e>=0;e=Yv(t,e))Tp(n,wS(t),!0)}function Qv(n,t,e,r){let i=te(),o=it(),s=Bl(2);if(o.firstUpdatePass&&Jv(o,n,s,r),t!==Pt&&Mn(i,s,t)){let c=o.data[Xn()];Xv(o,c,i,i[$e],n,i[s+1]=RS(t,e),r,s)}}function IS(n,t,e,r){let i=it(),o=Bl(2);i.firstUpdatePass&&Jv(i,null,o,r);let s=te();if(e!==Pt&&Mn(s,o,e)){let c=i.data[Xn()];if(e_(c,r)&&!Kv(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(e=Fu(u,e||"")),yp(i,c,s,e,r)}else FS(i,c,s,s[$e],s[o+1],s[o+1]=OS(n,t,e),r,o)}}function Kv(n,t){return t>=n.expandoStartIndex}function Jv(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[Xn()],s=Kv(n,e);e_(o,r)&&t===null&&!s&&(t=!1),t=DS(i,o,t,r),yS(i,o,t,e,s,r)}}function DS(n,t,e,r){let i=Tw(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=ku(null,n,t,e,r),e=Wo(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=ku(i,n,t,e,r),o===null){let u=TS(n,t,r);u!==void 0&&Array.isArray(u)&&(u=ku(null,n,t,u[1],r),u=Wo(u,t.attrs,r),kS(n,t,r,u))}else o=AS(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function TS(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Ui(r)!==0)return n[zr(r)]}function kS(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[zr(i)]=r}function AS(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Wo(r,s,e)}return Wo(r,t.attrs,e)}function ku(n,t,e,r,i){let o=null,s=e.directiveEnd,c=e.directiveStylingLast;for(c===-1?c=e.directiveStart:c++;c<s&&(o=t[c],r=Wo(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(e.directiveStylingLast=c),r}function Wo(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Tp(n,s,e?!0:t[++o]))}return n===void 0?null:n}function OS(n,t,e){if(e==null||e==="")return It;let r=[],i=es(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function PS(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&Tp(n,r,e)}function FS(n,t,e,r,i,o,s,c){i===Pt&&(i=It);let u=0,f=0,m=0<i.length?i[0]:null,v=0<o.length?o[0]:null;for(;m!==null||v!==null;){let S=u<i.length?i[u+1]:void 0,b=f<o.length?o[f+1]:void 0,T=null,N;m===v?(u+=2,f+=2,S!==b&&(T=v,N=b)):v===null||m!==null&&m<v?(u+=2,T=m):(f+=2,T=v,N=b),T!==null&&Xv(n,t,e,r,T,N,s,c),m=u<i.length?i[u]:null,v=f<o.length?o[f]:null}}function Xv(n,t,e,r,i,o,s,c){if(!(t.type&3))return;let u=n.data,f=u[c+1],m=_S(f)?v0(u,t,e,i,Ui(f),s):void 0;if(!Al(m)){Al(o)||gS(f)&&(o=v0(u,null,e,i,c,s));let v=rg(Xn(),e);IE(r,s,v,i,o)}}function v0(n,t,e,r,i,o){let s=t===null,c;for(;i>0;){let u=n[i],f=Array.isArray(u),m=f?u[1]:u,v=m===null,S=e[i+1];S===Pt&&(S=v?It:void 0);let b=v?bu(S,r):m===r?S:void 0;if(f&&!Al(b)&&(b=bu(u,r)),Al(b)&&(c=b,s))return c;let T=n[i+1];i=s?zr(T):Ui(T)}if(t!==null){let u=o?t.residualClasses:t.residualStyles;u!=null&&(c=bu(u,r))}return c}function Al(n){return n!==void 0}function RS(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Dt(es(n)))),n}function e_(n,t){return(n.flags&(t?8:16))!==0}function a(n,t,e,r){let i=te(),o=it(),s=$t+n,c=i[$e],u=o.firstCreatePass?Fv(s,o,i,t,hv,lg(),e,r):o.data[s],f=NS(o,i,u,c,t,n);i[s]=f;let m=Pp(u);return Qo(u,!0),lv(c,f,u),!gv(u)&&Hp()&&df(o,i,f,u),(gw()===0||m)&&Jo(f,i),vw(),m&&(of(o,i,u),Xg(o,u,i)),r!==null&&fv(i,u),a}function l(){let n=_t();dg()?Cw():(n=n.parent,Qo(n,!1));let t=n;bw(t)&&xw(),_w();let e=it();return e.firstCreatePass&&Rv(e,t),t.classesWithoutHost!=null&&Nw(t)&&yp(e,t,te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Vw(t)&&yp(e,t,te(),t.stylesWithoutHost,!1),l}function _(n,t,e,r){return a(n,t,e,r),l(),_}var NS=(n,t,e,r,i,o)=>($p(!0),sv(r,i,Pw()));function V(){return te()}var Or=void 0;function VS(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var LS=["en",[["a","p"],["AM","PM"],Or],[["AM","PM"],Or,Or],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Or,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Or,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Or,"{1} 'at' {0}",Or],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",VS],Au={};function Gt(n){let t=jS(n),e=_0(t);if(e)return e;let r=t.split("-")[0];if(e=_0(r),e)return e;if(r==="en")return LS;throw new H(701,!1)}function _0(n){return n in Au||(Au[n]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[n]),Au[n]}var Pe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Pe||{});function jS(n){return n.toLowerCase().replace(/_/g,"-")}var Ol="en-US";var US=Ol;function BS(n){typeof n=="string"&&(US=n.toLowerCase().replace(/_/g,"-"))}function y0(n,t,e){return function r(i){if(i===Function)return e;let o=Hi(n)?Cn(n.index,t):t;pf(o,5);let s=t[kt],c=b0(t,s,e,i),u=r.__ngNextListenerFn__;for(;u;)c=b0(t,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function b0(n,t,e,r){let i=re(null);try{return xe(6,t,e),e(r)!==!1}catch(o){return HS(n,o),!1}finally{xe(7,t,e),re(i)}}function HS(n,t){let e=n[Fi],r=e?e.get(En,null):null;r&&r.handleError(t)}function x0(n,t,e,r,i,o){let s=t[e],c=t[ee],f=c.data[e].outputs[r],m=s[f],v=c.firstCreatePass?Vp(c):null,S=Np(t),b=m.subscribe(o),T=S.length;S.push(o,b),v&&v.push(i,n.index,T,-(T+1))}function E(n,t,e,r){let i=te(),o=it(),s=_t();return t_(o,i,i[$e],s,n,t,r),E}function $S(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let c=t[pl],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function t_(n,t,e,r,i,o,s){let c=Pp(r),f=n.firstCreatePass?Vp(n):null,m=Np(t),v=!0;if(r.type&3||s){let S=In(r,t),b=s?s(S):S,T=m.length,N=s?z=>s(wn(z[r.index])):r.index,j=null;if(!s&&c&&(j=$S(n,t,i,r.index)),j!==null){let z=j.__ngLastListenerFn__||j;z.__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,v=!1}else{o=y0(r,t,o),SC(t,b,i,o);let z=e.listen(b,i,o);m.push(o,z),f&&f.push(i,N,T,T+1)}}else o=y0(r,t,o);if(v){let S=r.outputs?.[i],b=r.hostDirectiveOutputs?.[i];if(b&&b.length)for(let T=0;T<b.length;T+=2){let N=b[T],j=b[T+1];x0(r,t,N,j,i,o)}if(S&&S.length)for(let T of S)x0(r,t,T,i,i,o)}}function g(n=1){return Aw(n)}function n_(n,t,e,r){T2(n,t,e,r)}function r_(n){let t=te(),e=it(),r=fg();Lp(r+1);let i=mf(e,r);if(n.dirty&&uw(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=P2(t,r);n.reset(o,aC),n.notifyOnChanges()}return!0}return!1}function i_(){return I2(te(),fg())}function Fe(n){let t=Ew();return Fp(t,$t+n)}function d(n,t=""){let e=te(),r=it(),i=n+$t,o=r.firstCreatePass?ff(r,i,1,t,null):r.data[i],s=zS(r,e,o,t,n);e[i]=s,Hp()&&df(r,e,s,o),Qo(o,!1)}var zS=(n,t,e,r,i)=>($p(!0),zC(t[$e],r));function M(n){return D("",n,""),M}function D(n,t,e){let r=te(),i=fS(r,n,t,e);return i!==Pt&&wf(r,Xn(),i),D}function ke(n,t,e,r,i){let o=te(),s=mS(o,n,t,e,r,i);return s!==Pt&&wf(o,Xn(),s),ke}function xf(n,t,e,r,i,o,s,c,u){let f=te(),m=hS(f,n,t,e,r,i,o,s,c,u);return m!==Pt&&wf(f,Xn(),m),xf}function wf(n,t,e){let r=rg(t,n);GC(n[$e],r,e)}function k(n,t,e){Ug(t)&&(t=t());let r=te(),i=Ul();if(Mn(r,i,t)){let o=it(),s=Bp();mv(o,s,r,n,t,r[$e],e,!1)}return k}function O(n,t){let e=Ug(n);return e&&n.set(t),e}function A(n,t){let e=te(),r=it(),i=_t();return t_(r,e,e[$e],i,n,t),A}function GS(n,t,e){let r=it();if(r.firstCreatePass){let i=xn(n);bp(e,r.data,r.blueprint,i,!0),bp(t,r.data,r.blueprint,i,!1)}}function bp(n,t,e,r,i){if(n=vt(n),Array.isArray(n))for(let o=0;o<n.length;o++)bp(n[o],t,e,r,i);else{let o=it(),s=te(),c=_t(),u=Pi(n)?n:vt(n.provide),f=Y0(n),m=c.providerIndexes&1048575,v=c.directiveStart,S=c.providerIndexes>>20;if(Pi(n)||!n.multi){let b=new Hr(f,i,R),T=Pu(u,t,i?m:m+S,v);T===-1?(Wu(bl(c,s),o,u),Ou(o,n,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(b),s.push(b)):(e[T]=b,s[T]=b)}else{let b=Pu(u,t,m+S,v),T=Pu(u,t,m,m+S),N=b>=0&&e[b],j=T>=0&&e[T];if(i&&!j||!i&&!N){Wu(bl(c,s),o,u);let z=YS(i?qS:WS,e.length,i,r,f);!i&&j&&(e[T].providerFactory=z),Ou(o,n,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(z),s.push(z)}else{let z=o_(e[i?T:b],f,!i&&r);Ou(o,n,b>-1?b:T,z)}!i&&r&&j&&e[T].componentProviders++}}}function Ou(n,t,e,r){let i=Pi(t),o=Kx(t);if(i||o){let u=(o?vt(t.useClass):t).prototype.ngOnDestroy;if(u){let f=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let m=f.indexOf(e);m===-1?f.push(e,[r,u]):f[m+1].push(r,u)}else f.push(e,u)}}}function o_(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Pu(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function WS(n,t,e,r,i){return xp(this.multi,[])}function qS(n,t,e,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=$o(r,r[ee],this.providerFactory.index,i);s=u.slice(0,c),xp(o,s);for(let f=c;f<u.length;f++)s.push(u[f])}else s=[],xp(o,s);return s}function xp(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function YS(n,t,e,r,i){let o=new Hr(n,e,R);return o.multi=[],o.index=t,o.componentProviders=0,o_(o,i,r&&!e),o}function Xt(n,t=[]){return e=>{e.providersResolver=(r,i)=>GS(r,i?i(n):n,t)}}function is(n,t,e){let r=Gr()+n,i=te();return i[r]===Pt?ns(i,r,e?t.call(e):t()):tS(i,r)}function Cf(n,t,e,r){return a_(te(),Gr(),n,t,e,r)}function Zi(n,t,e,r,i){return l_(te(),Gr(),n,t,e,r,i)}function s_(n,t,e,r,i,o){return ZS(te(),Gr(),n,t,e,r,i,o)}function Zl(n,t,e,r,i,o,s){return QS(te(),Gr(),n,t,e,r,i,o,s)}function Ql(n,t){let e=n[t];return e===Pt?void 0:e}function a_(n,t,e,r,i,o){let s=t+e;return Mn(n,s,i)?ns(n,s+1,o?r.call(o,i):r(i)):Ql(n,s+1)}function l_(n,t,e,r,i,o,s){let c=t+e;return Go(n,c,i,o)?ns(n,c+2,s?r.call(s,i,o):r(i,o)):Ql(n,c+2)}function ZS(n,t,e,r,i,o,s,c){let u=t+e;return nS(n,u,i,o,s)?ns(n,u+3,c?r.call(c,i,o,s):r(i,o,s)):Ql(n,u+3)}function QS(n,t,e,r,i,o,s,c,u){let f=t+e;return Hv(n,f,i,o,s,c)?ns(n,f+4,u?r.call(u,i,o,s,c):r(i,o,s,c)):Ql(n,f+4)}function Le(n,t){let e=it(),r,i=n+$t;e.firstCreatePass?(r=KS(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Rr(r.type,!0)),s,c=Mt(R);try{let u=yl(!1),f=o();return yl(u),dw(e,te(),i,f),f}finally{Mt(c)}}function KS(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function os(n,t,e){let r=n+$t,i=te(),o=Fp(i,r);return c_(i,r)?a_(i,Gr(),t,o.transform,e,o):o.transform(e)}function ot(n,t,e,r){let i=n+$t,o=te(),s=Fp(o,i);return c_(o,i)?l_(o,Gr(),t,s.transform,e,r,s):s.transform(e,r)}function c_(n,t){return n[ee].data[t].pure}function Tn(n,t){return zl(n,t)}var el=null;function JS(n){el!==null&&(n.defaultEncapsulation!==el.defaultEncapsulation||n.preserveWhitespaces!==el.preserveWhitespaces)||(el=n)}var wp=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},d_=(()=>{class n{compileModuleSync(e){return new kl(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=$0(e),o=iv(i.declarations).reduce((s,c)=>{let u=Vr(c);return u&&s.push(new Li(u)),s},[]);return new wp(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XS=new $("");function eM(n,t,e){let r=new kl(e);return Promise.resolve(r)}function w0(n){for(let t=n.length-1;t>=0;t--)if(n[t]!==void 0)return n[t]}var tM=(()=>{class n{zone=L(Se);changeDetectionScheduler=L(Ni);applicationRef=L(mr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nM({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Se(G(P({},u_()),{scheduleInRootZone:e})),[{provide:Se,useFactory:n},{provide:jo,multi:!0,useFactory:()=>{let r=L(tM,{optional:!0});return()=>r.initialize()}},{provide:jo,multi:!0,useFactory:()=>{let r=L(rM);return()=>{r.initialize()}}},t===!0?{provide:Rg,useValue:!0}:[],{provide:Ng,useValue:e??Pg}]}function u_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var rM=(()=>{class n{subscription=new De;initialized=!1;zone=L(Se);pendingTasks=L(Gi);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iM=(()=>{class n{appRef=L(mr);taskService=L(Gi);ngZone=L(Se);zonelessEnabled=L(Fg);tracing=L(Yi,{optional:!0});disableScheduling=L(Rg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new De;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(Ng,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cl||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Jh:Vg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oM(){return typeof $localize<"u"&&$localize.locale||Ol}var ss=new $("",{providedIn:"root",factory:()=>L(ss,X.Optional|X.SkipSelf)||oM()});var Pl=new $(""),sM=new $("");function Fo(n){return!n.moduleRef}function aM(n){let t=Fo(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Se);return e.run(()=>{Fo(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(En,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Fo(n)){let o=()=>t.destroy(),s=n.platformInjector.get(Pl);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Pl);s.add(o),n.moduleRef.onDestroy(()=>{ol(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return cM(r,e,()=>{let o=t.get(Wv);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(ss,Ol);if(BS(s||Ol),!t.get(sM,!0))return Fo(n)?t.get(mr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Fo(n)){let u=t.get(mr);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return lM(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function lM(n,t){let e=n.injector.get(mr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new H(-403,!1);t.push(n)}function cM(n,t,e){try{let r=e();return Wr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var p_=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,r){let i=r?.scheduleInRootZone,o=()=>rC(r?.ngZone,G(P({},u_({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,c=[nM({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Ni,useExisting:iM}],u=U2(e.moduleType,this.injector,c);return aM({moduleRef:u,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,r=[]){let i=qv({},r);return eM(this.injector,i,e).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new H(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let e=this._injector.get(Pl,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||n)(U(At))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Lo=null,f_=new $("");function dM(n){if(Lo&&!Lo.get(f_,!1))throw new H(400,!1);cS(),Lo=n;let t=n.get(p_);return fM(n),t}function Ef(n,t,e=[]){let r=`Platform: ${t}`,i=new $(r);return(o=[])=>{let s=m_();if(!s||s.injector.get(f_,!1)){let c=[...e,...o,{provide:i,useValue:!0}];n?n(c):dM(uM(c,r))}return pM(i)}}function uM(n=[],t){return At.create({name:t,providers:[{provide:Vl,useValue:"platform"},{provide:Pl,useValue:new Set([()=>Lo=null])},...n]})}function pM(n){let t=m_();if(!t)throw new H(401,!1);return t}function m_(){return Lo?.get(p_)??null}function fM(n){let t=n.get(Zp,null);Jt(n,()=>{t?.forEach(e=>e())})}var gr=(()=>{class n{static __NG_ELEMENT_ID__=mM}return n})();function mM(n){return hM(_t(),te(),(n&16)===16)}function hM(n,t,e){if(Hi(n)&&!e){let r=Cn(n.index,t);return new zo(r,r)}else if(n.type&175){let r=t[bn];return new zo(r,t)}return null}var Cp=class{constructor(){}supports(t){return Bv(t)}create(t){return new Ep(t)}},gM=(n,t)=>t,Ep=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||gM}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<C0(r,i,o)?e:r,c=C0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let f=c-i,m=u-i;if(f!=m){for(let S=0;S<f;S++){let b=S<o.length?o[S]:o[S]=0,T=b+S;m<=T&&T<f&&(o[S]=b+1)}let v=s.previousIndex;o[v]=m-f}}c!==u&&t(s,c,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Bv(t))throw new H(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)o=t[c],s=this._trackByFn(c,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,c),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,X2(t,c=>{s=this._trackByFn(i,c),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,c,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,c,s,i)),Object.is(e.item,c)||this._addIdentityChange(e,c)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new Sp(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Fl),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Sp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Mp=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Fl=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new Mp,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function C0(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function E0(){return new Sf([new Cp])}var Sf=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:E0});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||E0()),deps:[[n,new Ux,new jx]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new H(901,!1)}}return n})();var h_=Ef(null,"core",[]),g_=(()=>{class n{constructor(e){}static \u0275fac=function(r){return new(r||n)(U(mr))};static \u0275mod=ut({type:n});static \u0275inj=dt({})}return n})();function vr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function er(n){return ru(n)}function as(n,t){return Xd(n,t?.equal)}var S0=class{[Zt];constructor(t){this[Zt]=t}destroy(){this[Zt].destroy()}};function v_(n){let t=Vr(n);if(!t)return null;let e=new Li(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Xe=new $("");var b_=null;function Wt(){return b_}function Mf(n){b_??=n}var ls=class{},cs=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(x_),providedIn:"platform"})}return n})(),If=new $(""),x_=(()=>{class n extends cs{_location;_history;_doc=L(Xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wt().getBaseHref(this._doc)}onPopState(e){let r=Wt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Wt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Kl(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function __(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function fn(n){return n&&n[0]!=="?"?`?${n}`:n}var mn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(Xl),providedIn:"root"})}return n})(),Jl=new $(""),Xl=(()=>{class n extends mn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Kl(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+fn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+fn(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+fn(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(U(cs),U(Jl,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_r=(()=>{class n{_subject=new Ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=yM(__(y_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+fn(r))}normalize(e){return n.stripTrailingSlash(_M(this._basePath,y_(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=fn;static joinWithSlash=Kl;static stripTrailingSlash=__;static \u0275fac=function(r){return new(r||n)(U(mn))};static \u0275prov=B({token:n,factory:()=>vM(),providedIn:"root"})}return n})();function vM(){return new _r(U(mn))}function _M(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function y_(n){return n.replace(/\/index.html$/,"")}function yM(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Ff=(()=>{class n extends mn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Kl(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+fn(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+fn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(U(cs),U(Jl,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var Rf=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Rf||{});var ft=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(ft||{}),_e=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(_e||{}),Rt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Rt||{}),Nt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function I_(n){return Gt(n)[Pe.LocaleId]}function D_(n,t,e){let r=Gt(n),i=[r[Pe.DayPeriodsFormat],r[Pe.DayPeriodsStandalone]],o=en(i,t);return en(o,e)}function T_(n,t,e){let r=Gt(n),i=[r[Pe.DaysFormat],r[Pe.DaysStandalone]],o=en(i,t);return en(o,e)}function k_(n,t,e){let r=Gt(n),i=[r[Pe.MonthsFormat],r[Pe.MonthsStandalone]],o=en(i,t);return en(o,e)}function A_(n,t){let r=Gt(n)[Pe.Eras];return en(r,t)}function ds(n,t){let e=Gt(n);return en(e[Pe.DateFormat],t)}function us(n,t){let e=Gt(n);return en(e[Pe.TimeFormat],t)}function ps(n,t){let r=Gt(n)[Pe.DateTimeFormat];return en(r,t)}function kn(n,t){let e=Gt(n),r=e[Pe.NumberSymbols][t];if(typeof r>"u"){if(t===Nt.CurrencyDecimal)return e[Pe.NumberSymbols][Nt.Decimal];if(t===Nt.CurrencyGroup)return e[Pe.NumberSymbols][Nt.Group]}return r}function O_(n,t){return Gt(n)[Pe.NumberFormats][t]}function P_(n){if(!n[Pe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Pe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function F_(n){let t=Gt(n);return P_(t),(t[Pe.ExtraData][2]||[]).map(r=>typeof r=="string"?Df(r):[Df(r[0]),Df(r[1])])}function R_(n,t,e){let r=Gt(n);P_(r);let i=[r[Pe.ExtraData][0],r[Pe.ExtraData][1]],o=en(i,t)||[];return en(o,e)||[]}function en(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Df(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var bM=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ec={},xM=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function N_(n,t,e,r){let i=kM(n);t=tr(e,t)||t;let s=[],c;for(;t;)if(c=xM.exec(t),c){s=s.concat(c.slice(1));let m=s.pop();if(!m)break;t=m}else{s.push(t);break}let u=i.getTimezoneOffset();r&&(u=L_(r,u),i=TM(i,r));let f="";return s.forEach(m=>{let v=IM(m);f+=v?v(i,e,u):m==="''"?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function oc(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function tr(n,t){let e=I_(n);if(ec[e]??={},ec[e][t])return ec[e][t];let r="";switch(t){case"shortDate":r=ds(n,Rt.Short);break;case"mediumDate":r=ds(n,Rt.Medium);break;case"longDate":r=ds(n,Rt.Long);break;case"fullDate":r=ds(n,Rt.Full);break;case"shortTime":r=us(n,Rt.Short);break;case"mediumTime":r=us(n,Rt.Medium);break;case"longTime":r=us(n,Rt.Long);break;case"fullTime":r=us(n,Rt.Full);break;case"short":let i=tr(n,"shortTime"),o=tr(n,"shortDate");r=tc(ps(n,Rt.Short),[i,o]);break;case"medium":let s=tr(n,"mediumTime"),c=tr(n,"mediumDate");r=tc(ps(n,Rt.Medium),[s,c]);break;case"long":let u=tr(n,"longTime"),f=tr(n,"longDate");r=tc(ps(n,Rt.Long),[u,f]);break;case"full":let m=tr(n,"fullTime"),v=tr(n,"fullDate");r=tc(ps(n,Rt.Full),[m,v]);break}return r&&(ec[e][t]=r),r}function tc(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function hn(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function wM(n,t){return hn(n,3).substring(0,t)}function ze(n,t,e=0,r=!1,i=!1){return function(o,s){let c=CM(n,o);if((e>0||c>-e)&&(c+=e),n===3)c===0&&e===-12&&(c=12);else if(n===6)return wM(c,t);let u=kn(s,Nt.MinusSign);return hn(c,t,u,r,i)}}function CM(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function we(n,t,e=ft.Format,r=!1){return function(i,o){return EM(i,o,n,t,e,r)}}function EM(n,t,e,r,i,o){switch(e){case 2:return k_(t,i,r)[n.getMonth()];case 1:return T_(t,i,r)[n.getDay()];case 0:let s=n.getHours(),c=n.getMinutes();if(o){let f=F_(t),m=R_(t,i,r),v=f.findIndex(S=>{if(Array.isArray(S)){let[b,T]=S,N=s>=b.hours&&c>=b.minutes,j=s<T.hours||s===T.hours&&c<T.minutes;if(b.hours<T.hours){if(N&&j)return!0}else if(N||j)return!0}else if(S.hours===s&&S.minutes===c)return!0;return!1});if(v!==-1)return m[v]}return D_(t,i,r)[s<12?0:1];case 3:return A_(t,r)[n.getFullYear()<=0?0:1];default:let u=e;throw new Error(`unexpected translation type ${u}`)}}function nc(n){return function(t,e,r){let i=-1*r,o=kn(e,Nt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+hn(s,2,o)+hn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+hn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+hn(s,2,o)+":"+hn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+hn(s,2,o)+":"+hn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var SM=0,ic=4;function MM(n){let t=oc(n,SM,1).getDay();return oc(n,0,1+(t<=ic?ic:ic+7)-t)}function V_(n){let t=n.getDay(),e=t===0?-3:ic-t;return oc(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Tf(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=V_(e),s=MM(o.getFullYear()),c=o.getTime()-s.getTime();i=1+Math.round(c/6048e5)}return hn(i,n,kn(r,Nt.MinusSign))}}function rc(n,t=!1){return function(e,r){let o=V_(e).getFullYear();return hn(o,n,kn(r,Nt.MinusSign),t)}}var kf={};function IM(n){if(kf[n])return kf[n];let t;switch(n){case"G":case"GG":case"GGG":t=we(3,_e.Abbreviated);break;case"GGGG":t=we(3,_e.Wide);break;case"GGGGG":t=we(3,_e.Narrow);break;case"y":t=ze(0,1,0,!1,!0);break;case"yy":t=ze(0,2,0,!0,!0);break;case"yyy":t=ze(0,3,0,!1,!0);break;case"yyyy":t=ze(0,4,0,!1,!0);break;case"Y":t=rc(1);break;case"YY":t=rc(2,!0);break;case"YYY":t=rc(3);break;case"YYYY":t=rc(4);break;case"M":case"L":t=ze(1,1,1);break;case"MM":case"LL":t=ze(1,2,1);break;case"MMM":t=we(2,_e.Abbreviated);break;case"MMMM":t=we(2,_e.Wide);break;case"MMMMM":t=we(2,_e.Narrow);break;case"LLL":t=we(2,_e.Abbreviated,ft.Standalone);break;case"LLLL":t=we(2,_e.Wide,ft.Standalone);break;case"LLLLL":t=we(2,_e.Narrow,ft.Standalone);break;case"w":t=Tf(1);break;case"ww":t=Tf(2);break;case"W":t=Tf(1,!0);break;case"d":t=ze(2,1);break;case"dd":t=ze(2,2);break;case"c":case"cc":t=ze(7,1);break;case"ccc":t=we(1,_e.Abbreviated,ft.Standalone);break;case"cccc":t=we(1,_e.Wide,ft.Standalone);break;case"ccccc":t=we(1,_e.Narrow,ft.Standalone);break;case"cccccc":t=we(1,_e.Short,ft.Standalone);break;case"E":case"EE":case"EEE":t=we(1,_e.Abbreviated);break;case"EEEE":t=we(1,_e.Wide);break;case"EEEEE":t=we(1,_e.Narrow);break;case"EEEEEE":t=we(1,_e.Short);break;case"a":case"aa":case"aaa":t=we(0,_e.Abbreviated);break;case"aaaa":t=we(0,_e.Wide);break;case"aaaaa":t=we(0,_e.Narrow);break;case"b":case"bb":case"bbb":t=we(0,_e.Abbreviated,ft.Standalone,!0);break;case"bbbb":t=we(0,_e.Wide,ft.Standalone,!0);break;case"bbbbb":t=we(0,_e.Narrow,ft.Standalone,!0);break;case"B":case"BB":case"BBB":t=we(0,_e.Abbreviated,ft.Format,!0);break;case"BBBB":t=we(0,_e.Wide,ft.Format,!0);break;case"BBBBB":t=we(0,_e.Narrow,ft.Format,!0);break;case"h":t=ze(3,1,-12);break;case"hh":t=ze(3,2,-12);break;case"H":t=ze(3,1);break;case"HH":t=ze(3,2);break;case"m":t=ze(4,1);break;case"mm":t=ze(4,2);break;case"s":t=ze(5,1);break;case"ss":t=ze(5,2);break;case"S":t=ze(6,1);break;case"SS":t=ze(6,2);break;case"SSS":t=ze(6,3);break;case"Z":case"ZZ":case"ZZZ":t=nc(0);break;case"ZZZZZ":t=nc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=nc(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=nc(2);break;default:return null}return kf[n]=t,t}function L_(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function DM(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function TM(n,t,e){let i=n.getTimezoneOffset(),o=L_(t,i);return DM(n,-1*(o-i))}function kM(n){if(w_(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(c=>+c);return oc(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(bM))return AM(r)}let t=new Date(n);if(!w_(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function AM(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,c=Number(n[5]||0)-r,u=Number(n[6]||0),f=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,c,u,f),t}function w_(n){return n instanceof Date&&!isNaN(n.valueOf())}var OM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,C_=22,sc=".",fs="0",PM=";",FM=",",Af="#";function RM(n,t,e,r,i,o,s=!1){let c="",u=!1;if(!isFinite(n))c=kn(e,Nt.Infinity);else{let f=LM(n);s&&(f=VM(f));let m=t.minInt,v=t.minFrac,S=t.maxFrac;if(o){let ye=o.match(OM);if(ye===null)throw new Error(`${o} is not a valid digit info`);let Ae=ye[1],W=ye[3],ve=ye[5];Ae!=null&&(m=Of(Ae)),W!=null&&(v=Of(W)),ve!=null?S=Of(ve):W!=null&&v>S&&(S=v)}jM(f,v,S);let b=f.digits,T=f.integerLen,N=f.exponent,j=[];for(u=b.every(ye=>!ye);T<m;T++)b.unshift(0);for(;T<0;T++)b.unshift(0);T>0?j=b.splice(T,b.length):(j=b,b=[0]);let z=[];for(b.length>=t.lgSize&&z.unshift(b.splice(-t.lgSize,b.length).join(""));b.length>t.gSize;)z.unshift(b.splice(-t.gSize,b.length).join(""));b.length&&z.unshift(b.join("")),c=z.join(kn(e,r)),j.length&&(c+=kn(e,i)+j.join("")),N&&(c+=kn(e,Nt.Exponential)+"+"+N)}return n<0&&!u?c=t.negPre+c+t.negSuf:c=t.posPre+c+t.posSuf,c}function j_(n,t,e){let r=O_(t,Rf.Decimal),i=NM(r,kn(t,Nt.MinusSign));return RM(n,i,t,Nt.Group,Nt.Decimal,e)}function NM(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(PM),i=r[0],o=r[1],s=i.indexOf(sc)!==-1?i.split(sc):[i.substring(0,i.lastIndexOf(fs)+1),i.substring(i.lastIndexOf(fs)+1)],c=s[0],u=s[1]||"";e.posPre=c.substring(0,c.indexOf(Af));for(let m=0;m<u.length;m++){let v=u.charAt(m);v===fs?e.minFrac=e.maxFrac=m+1:v===Af?e.maxFrac=m+1:e.posSuf+=v}let f=c.split(FM);if(e.gSize=f[1]?f[1].length:0,e.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,o){let m=i.length-e.posPre.length-e.posSuf.length,v=o.indexOf(Af);e.negPre=o.substring(0,v).replace(/'/g,""),e.negSuf=o.slice(v+m).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function VM(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function LM(n){let t=Math.abs(n)+"",e=0,r,i,o,s,c;for((i=t.indexOf(sc))>-1&&(t=t.replace(sc,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===fs;o++);if(o===(c=t.length))r=[0],i=1;else{for(c--;t.charAt(c)===fs;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(t.charAt(o))}return i>C_&&(r=r.splice(0,C_-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function jM(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(t,i),e),s=o+n.integerLen,c=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let v=s;v<r.length;v++)r[v]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let v=1;v<s;v++)r[v]=0}if(c>=5)if(s-1<0){for(let v=0;v>s;v--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,f=t+n.integerLen,m=r.reduceRight(function(v,S,b,T){return S=S+v,T[b]=S<10?S:S-10,u&&(T[b]===0&&b>=f?T.pop():u=!1),S>=10?1:0},0);m&&(r.unshift(m),n.integerLen++)}function Of(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}var Pf=/\s+/,E_=[],st=(()=>{class n{_ngEl;_renderer;initialClasses=E_;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Pf):E_}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Pf):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Pf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(R(yt),R(pn))};static \u0275dir=ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var ac=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ce=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ac(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),S_(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);S_(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(R(hr),R($r),R(Sf))};static \u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function S_(n,t){n.context.$implicit=t.item}var pe=(()=>{class n{_viewContainer;_context=new lc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){M_(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){M_(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(R(hr),R($r))};static \u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),lc=class{$implicit=null;ngIf=null};function M_(n,t){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}function Nf(n,t){return new H(2100,!1)}var UM=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,ms=(()=>{class n{transform(e){if(e==null)return null;if(typeof e!="string")throw Nf(n,e);return e.replace(UM,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Wl({name:"titlecase",type:n,pure:!0})}return n})();var BM="mediumDate",U_=new $(""),B_=new $(""),nr=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??BM,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return N_(e,s,o||this.locale,c)}catch(s){throw Nf(n,s.message)}}static \u0275fac=function(r){return new(r||n)(R(ss,16),R(U_,24),R(B_,24))};static \u0275pipe=Wl({name:"date",type:n,pure:!0})}return n})();var hs=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,r,i){if(!HM(e))return null;i||=this._locale;try{let o=$M(e);return j_(o,i,r)}catch(o){throw Nf(n,o.message)}}static \u0275fac=function(r){return new(r||n)(R(ss,16))};static \u0275pipe=Wl({name:"number",type:n,pure:!0})}return n})();function HM(n){return!(n==null||n===""||n!==n)}function $M(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Vf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({})}return n})();function Lf(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var jf="browser",H_="server";function cc(n){return n===H_}var gs=class{};var $_=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new Uf(L(Xe),window)})}return n})(),Uf=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=GM(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function GM(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var pc=new $(""),zf=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(U(pc),U(Se))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),vs=class{_doc;constructor(t){this._doc=t}manager},dc="ng-app-id";function z_(n){for(let t of n)t.remove()}function G_(n,t){let e=t.createElement("style");return e.textContent=n,e}function WM(n,t,e,r){let i=n.head?.querySelectorAll(`style[${dc}="${t}"],link[${dc}="${t}"]`);if(i)for(let o of i)o.removeAttribute(dc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Hf(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Gf=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=cc(o),WM(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,G_);r?.forEach(i=>this.addUsage(i,this.external,Hf))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(z_(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])z_(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,G_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Hf(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(dc,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(U(Xe),U(Yp),U(Qp,8),U(qi))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Bf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wf=/%COMP%/g;var q_="%COMP%",qM=`_nghost-${q_}`,YM=`_ngcontent-${q_}`,ZM=!0,QM=new $("",{providedIn:"root",factory:()=>ZM});function KM(n){return YM.replace(Wf,n)}function JM(n){return qM.replace(Wf,n)}function Y_(n,t){return t.map(e=>e.replace(Wf,n))}var qf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,c,u,f=null,m=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=f,this.tracingService=m,this.platformIsServer=cc(c),this.defaultRenderer=new _s(e,s,u,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Sn.ShadowDom&&(r=G(P({},r),{encapsulation:Sn.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof uc?i.applyToHost(e):i instanceof ys&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,v=this.platformIsServer,S=this.tracingService;switch(r.encapsulation){case Sn.Emulated:o=new uc(u,f,r,this.appId,m,s,c,v,S);break;case Sn.ShadowDom:return new $f(u,f,e,r,s,c,this.nonce,v,S);default:o=new ys(u,f,r,m,s,c,v,S);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(U(zf),U(Gf),U(Yp),U(QM),U(Xe),U(qi),U(Se),U(Qp),U(Yi,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),_s=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Bf[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(W_(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(W_(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new H(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=Bf[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=Bf[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Zn.DashCase|Zn.Important)?t.style.setProperty(e,r,i&Zn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Zn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Wt().getGlobalEventTarget(this.doc,t),!t))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function W_(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var $f=class extends _s{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,c,u,f){super(t,o,s,u,f),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=Y_(i.id,m);for(let S of m){let b=document.createElement("style");c&&b.setAttribute("nonce",c),b.textContent=S,this.shadowRoot.appendChild(b)}let v=i.getExternalStyles?.();if(v)for(let S of v){let b=Hf(S,o);c&&b.setAttribute("nonce",c),this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ys=class extends _s{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,c,u,f){super(t,o,s,c,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let m=r.styles;this.styles=f?Y_(f,m):m,this.styleUrls=r.getExternalStyles?.(f)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},uc=class extends ys{contentAttr;hostAttr;constructor(t,e,r,i,o,s,c,u,f){let m=i+"-"+r.id;super(t,e,r,o,s,c,u,f,m),this.contentAttr=KM(m),this.hostAttr=JM(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var fc=class n extends ls{supportsDOMEvents=!0;static makeCurrent(){Mf(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=XM();return e==null?null:eI(e)}resetBaseElement(){bs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Lf(document.cookie,t)}},bs=null;function XM(){return bs=bs||document.head.querySelector("base"),bs?bs.getAttribute("href"):null}function eI(n){return new URL(n,document.baseURI).pathname}var mc=class{addToWindow(t){gt.getAngularTestability=(r,i=!0)=>{let o=t.findTestabilityInTree(r,i);if(o==null)throw new H(5103,!1);return o},gt.getAllAngularTestabilities=()=>t.getAllTestabilities(),gt.getAllAngularRootElements=()=>t.getAllRootElements();let e=r=>{let i=gt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(c=>{c.whenStable(s)})};gt.frameworkStabilizers||(gt.frameworkStabilizers=[]),gt.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,r){if(e==null)return null;let i=t.getTestability(e);return i??(r?Wt().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},tI=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Q_=(()=>{class n extends vs{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(U(Xe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Z_=["alt","control","meta","shift"],nI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rI={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},K_=(()=>{class n extends vs{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wt().onAndCancel(e,s.domEventName,c,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),Z_.forEach(f=>{let m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(e,r){let i=nI[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Z_.forEach(s=>{if(s!==i){let c=rI[s];c(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(U(Xe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function iI(){fc.makeCurrent()}function oI(){return new En}function sI(){return qg(document),document}var aI=[{provide:qi,useValue:jf},{provide:Zp,useValue:iI,multi:!0},{provide:Xe,useFactory:sI}],Yf=Ef(h_,"browser",aI);var lI=[{provide:rs,useClass:mc},{provide:gf,useClass:ql,deps:[Se,Yl,rs]},{provide:ql,useClass:ql,deps:[Se,Yl,rs]}],cI=[{provide:Vl,useValue:"root"},{provide:En,useFactory:oI},{provide:pc,useClass:Q_,multi:!0,deps:[Xe]},{provide:pc,useClass:K_,multi:!0,deps:[Xe]},qf,Gf,zf,{provide:Vi,useExisting:qf},{provide:gs,useClass:tI},[]],Zf=(()=>{class n{constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({providers:[...cI,...lI],imports:[Vf,g_]})}return n})();var J_=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(U(Xe))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J="primary",Ps=Symbol("RouteTitle"),em=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Zr(n){return new em(n)}function ay(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function dI(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!An(n[e],t[e]))return!1;return!0}function An(n,t){let e=n?tm(n):void 0,r=t?tm(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!ly(n[i],t[i]))return!1;return!0}function tm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ly(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function cy(n){return n.length>0?n[n.length-1]:null}function Cr(n){return mu(n)?n:Wr(n)?oe(Promise.resolve(n)):q(n)}var uI={exact:uy,subset:py},dy={exact:pI,subset:fI,ignored:()=>!0};function ey(n,t,e){return uI[e.paths](n.root,t.root,e.matrixParams)&&dy[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function pI(n,t){return An(n,t)}function uy(n,t,e){if(!qr(n.segments,t.segments)||!vc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!uy(n.children[r],t.children[r],e))return!1;return!0}function fI(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ly(n[e],t[e]))}function py(n,t,e){return fy(n,t,t.segments,e)}function fy(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!qr(i,e)||t.hasChildren()||!vc(i,e,r))}else if(n.segments.length===e.length){if(!qr(n.segments,e)||!vc(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!py(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!qr(n.segments,i)||!vc(n.segments,i,r)||!n.children[J]?!1:fy(n.children[J],t,o,r)}}function vc(n,t,e){return t.every((r,i)=>dy[e](n[i].parameters,r.parameters))}var Pn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new fe([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zr(this.queryParams),this._queryParamMap}toString(){return gI.serialize(this)}},fe=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _c(this)}},yr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Zr(this.parameters),this._parameterMap}toString(){return hy(this)}};function mI(n,t){return qr(n,t)&&n.every((e,r)=>An(e.parameters,t[r].parameters))}function qr(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function hI(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===J&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==J&&(e=e.concat(t(i,r)))}),e}var Qr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new br,providedIn:"root"})}return n})(),br=class{parse(t){let e=new rm(t);return new Pn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${xs(t.root,!0)}`,r=yI(t.queryParams),i=typeof t.fragment=="string"?`#${vI(t.fragment)}`:"";return`${e}${r}${i}`}},gI=new br;function _c(n){return n.segments.map(t=>hy(t)).join("/")}function xs(n,t){if(!n.hasChildren())return _c(n);if(t){let e=n.children[J]?xs(n.children[J],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${xs(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=hI(n,(r,i)=>i===J?[xs(n.children[J],!1)]:[`${i}:${xs(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[J]!=null?`${_c(n)}/${e[0]}`:`${_c(n)}/(${e.join("//")})`}}function my(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hc(n){return my(n).replace(/%3B/gi,";")}function vI(n){return encodeURI(n)}function nm(n){return my(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yc(n){return decodeURIComponent(n)}function ty(n){return yc(n.replace(/\+/g,"%20"))}function hy(n){return`${nm(n.path)}${_I(n.parameters)}`}function _I(n){return Object.entries(n).map(([t,e])=>`;${nm(t)}=${nm(e)}`).join("")}function yI(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${hc(e)}=${hc(i)}`).join("&"):`${hc(e)}=${hc(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var bI=/^[^\/()?;#]+/;function Qf(n){let t=n.match(bI);return t?t[0]:""}var xI=/^[^\/()?;=#]+/;function wI(n){let t=n.match(xI);return t?t[0]:""}var CI=/^[^=?&#]+/;function EI(n){let t=n.match(CI);return t?t[0]:""}var SI=/^[^&#]+/;function MI(n){let t=n.match(SI);return t?t[0]:""}var rm=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[J]=new fe(t,e)),r}parseSegment(){let t=Qf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(t),new yr(yc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=wI(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Qf(this.remaining);i&&(r=i,this.capture(r))}t[yc(e)]=yc(r)}parseQueryParam(t){let e=EI(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=MI(this.remaining);s&&(r=s,this.capture(r))}let i=ty(e),o=ty(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=J);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[J]:new fe([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new H(4011,!1)}};function gy(n){return n.segments.length>0?new fe([],{[J]:n}):n}function vy(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=vy(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))t[s]=c;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new fe(n.segments,t);return II(e)}function II(n){if(n.numberOfChildren===1&&n.children[J]){let t=n.children[J];return new fe(n.segments.concat(t.segments),t.children)}return n}function xr(n){return n instanceof Pn}function _y(n,t,e=null,r=null){let i=yy(n);return by(i,t,e,r)}function yy(n){let t;function e(o){let s={};for(let u of o.children){let f=e(u);s[u.outlet]=f}let c=new fe(o.url,s);return o===n&&(t=c),c}let r=e(n.root),i=gy(r);return t??i}function by(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return Kf(i,i,i,e,r);let o=DI(t);if(o.toRoot())return Kf(i,i,new fe([],{}),e,r);let s=TI(o,i,n),c=s.processChildren?Cs(s.segmentGroup,s.index,o.commands):wy(s.segmentGroup,s.index,o.commands);return Kf(i,s.segmentGroup,c,e,r)}function xc(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ss(n){return typeof n=="object"&&n!=null&&n.outlets}function Kf(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([u,f])=>{o[u]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`});let s;n===t?s=e:s=xy(n,t,e);let c=gy(vy(s));return new Pn(c,o,i)}function xy(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=xy(o,t,e)}),new fe(n.segments,r)}var wc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&xc(r[0]))throw new H(4003,!1);let i=r.find(Ss);if(i&&i!==cy(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DI(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new wc(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,f])=>{c[u]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?e=!0:c===".."?t++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new wc(e,t,r)}var Ji=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function TI(n,t,e){if(n.isAbsolute)return new Ji(t,!0,0);if(!e)return new Ji(t,!1,NaN);if(e.parent===null)return new Ji(e,!0,0);let r=xc(n.commands[0])?0:1,i=e.segments.length-1+r;return kI(e,i,n.numberOfDoubleDots)}function kI(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Ji(r,!1,i-o)}function AI(n){return Ss(n[0])?n[0].outlets:{[J]:n}}function wy(n,t,e){if(n??=new fe([],{}),n.segments.length===0&&n.hasChildren())return Cs(n,t,e);let r=OI(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new fe(n.segments.slice(0,r.pathIndex),{});return o.children[J]=new fe(n.segments.slice(r.pathIndex),n.children),Cs(o,0,i)}else return r.match&&i.length===0?new fe(n.segments,{}):r.match&&!n.hasChildren()?im(n,t,e):r.match?Cs(n,0,i):im(n,t,e)}function Cs(n,t,e){if(e.length===0)return new fe(n.segments,{});{let r=AI(e),i={};if(Object.keys(r).some(o=>o!==J)&&n.children[J]&&n.numberOfChildren===1&&n.children[J].segments.length===0){let o=Cs(n.children[J],t,e);return new fe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=wy(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(n.segments,i)}}function OI(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],c=e[r];if(Ss(c))break;let u=`${c}`,f=r<e.length-1?e[r+1]:null;if(i>0&&u===void 0)break;if(u&&f&&typeof f=="object"&&f.outlets===void 0){if(!ry(u,f,s))return o;r+=2}else{if(!ry(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function im(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(Ss(o)){let u=PI(o.outlets);return new fe(r,u)}if(i===0&&xc(e[0])){let u=n.segments[t];r.push(new yr(u.path,ny(e[0]))),i++;continue}let s=Ss(o)?o.outlets[J]:`${o}`,c=i<e.length-1?e[i+1]:null;s&&c&&xc(c)?(r.push(new yr(s,ny(c))),i+=2):(r.push(new yr(s,{})),i++)}return new fe(r,{})}function PI(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=im(new fe([],{}),0,r))}),t}function ny(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function ry(n,t,e){return n==e.path&&An(t,e.parameters)}var bc="imperative",Ke=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ke||{}),Yt=class{id;url;constructor(t,e){this.id=t,this.url=e}},wr=class extends Yt{type=Ke.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},at=class extends Yt{urlAfterRedirects;type=Ke.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Vt||{}),eo=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(eo||{}),On=class extends Yt{reason;code;type=Ke.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fn=class extends Yt{reason;code;type=Ke.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},to=class extends Yt{error;target;type=Ke.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ms=class extends Yt{urlAfterRedirects;state;type=Ke.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cc=class extends Yt{urlAfterRedirects;state;type=Ke.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ec=class extends Yt{urlAfterRedirects;state;shouldActivate;type=Ke.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sc=class extends Yt{urlAfterRedirects;state;type=Ke.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mc=class extends Yt{urlAfterRedirects;state;type=Ke.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ic=class{route;type=Ke.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Dc=class{route;type=Ke.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tc=class{snapshot;type=Ke.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kc=class{snapshot;type=Ke.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ac=class{snapshot;type=Ke.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oc=class{snapshot;type=Ke.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},no=class{routerEvent;position;anchor;type=Ke.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Is=class{},ro=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function FI(n,t){return n.providers&&!n._injector&&(n._injector=ts(n.providers,t,`Route: ${n.path}`)),n._injector??t}function gn(n){return n.outlet||J}function RI(n,t){let e=n.filter(r=>gn(r)===t);return e.push(...n.filter(r=>gn(r)!==t)),e}function Fs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Pc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Fs(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Kr(this.rootInjector)}},Kr=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Pc(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(U(Tt))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=om(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=om(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=sm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return sm(t,this._root).map(e=>e.value)}};function om(n,t){if(n===t.value)return t;for(let e of t.children){let r=om(n,e);if(r)return r}return null}function sm(n,t){if(n===t.value)return[t];for(let e of t.children){let r=sm(n,e);if(r.length)return r.unshift(t),r}return[]}var qt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ki(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ds=class extends Fc{snapshot;constructor(t,e){super(t),this.snapshot=e,mm(this,t)}toString(){return this.snapshot.toString()}};function Cy(n){let t=NI(n),e=new Oe([new yr("",{})]),r=new Oe({}),i=new Oe({}),o=new Oe({}),s=new Oe(""),c=new bt(e,r,o,s,i,J,n,t.root);return c.snapshot=t.root,new Ds(new qt(c,[]),t)}function NI(n){let t={},e={},r={},i="",o=new Yr([],t,r,i,e,J,n,null,{});return new Ts("",new qt(o,[]))}var bt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(f=>f[Ps]))??q(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(t=>Zr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(t=>Zr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rc(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:P(P({},t.params),n.params),data:P(P({},t.data),n.data),resolve:P(P(P(P({},n.data),t.data),i?.data),n._resolvedData)}:r={params:P({},n.params),data:P({},n.data),resolve:P(P({},n.data),n._resolvedData??{})},i&&Sy(i)&&(r.resolve[Ps]=i.title),r}var Yr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ps]}constructor(t,e,r,i,o,s,c,u,f){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ts=class extends Fc{url;constructor(t,e){super(e),this.url=t,mm(this,e)}toString(){return Ey(this._root)}};function mm(n,t){t.value._routerState=n,t.children.forEach(e=>mm(n,e))}function Ey(n){let t=n.children.length>0?` { ${n.children.map(Ey).join(", ")} } `:"";return`${n.value}${t}`}function Jf(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,An(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),An(t.params,e.params)||n.paramsSubject.next(e.params),dI(t.url,e.url)||n.urlSubject.next(e.url),An(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function am(n,t){let e=An(n.params,t.params)&&mI(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||am(n.parent,t.parent))}function Sy(n){return typeof n.title=="string"||n.title===null}var My=new $(""),Jr=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new He;deactivateEvents=new He;attachEvents=new He;detachEvents=new He;routerOutletData=jg(void 0);parentContexts=L(Kr);location=L(hr);changeDetector=L(gr);inputBinder=L(Rs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new lm(e,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Jn]})}return n})(),lm=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===bt?this.route:t===Kr?this.childContexts:t===My?this.outletData:this.parent.get(t,e)}},Rs=new $(""),hm=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=Oo([r.queryParams,r.params,r.data]).pipe(Qt(([o,s,c],u)=>(c=P(P(P({},o),s),c),u===0?q(c):Promise.resolve(c)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=v_(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of s.inputs)e.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),gm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=le({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_(0,"router-outlet")},dependencies:[Jr],encapsulation:2})}return n})();function vm(n){let t=n.children&&n.children.map(vm),e=t?G(P({},n),{children:t}):P({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==J&&(e.component=gm),e}function VI(n,t,e){let r=ks(n,t._root,e?e._root:void 0);return new Ds(r,t)}function ks(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=LI(n,t,e);return new qt(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(c=>ks(n,c)),s}}let r=jI(t.value),i=t.children.map(o=>ks(n,o));return new qt(r,i)}}function LI(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ks(n,r,i);return ks(n,r)})}function jI(n){return new bt(new Oe(n.url),new Oe(n.params),new Oe(n.queryParams),new Oe(n.fragment),new Oe(n.data),n.outlet,n.component,n)}var io=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Iy="ngNavigationCancelingError";function Nc(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=xr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Dy(!1,Vt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Dy(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Iy]=!0,e.cancellationCode=t,e}function UI(n){return Ty(n)&&xr(n.url)}function Ty(n){return!!n&&n[Iy]}var BI=(n,t,e,r)=>se(i=>(new cm(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),cm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Jf(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Ki(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ki(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ki(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Ki(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Oc(o.value.snapshot))}),t.children.length&&this.forwardEvent(new kc(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(Jf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Jf(c.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Vc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Xi=class{component;route;constructor(t,e){this.component=t,this.route=e}};function HI(n,t,e){let r=n._root,i=t?t._root:null;return ws(r,i,e,[r.value])}function $I(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function so(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!O0(n)?n:t.get(n):r}function ws(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ki(t);return n.children.forEach(s=>{zI(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Es(c,e.getContext(s),i)),i}function zI(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=GI(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Vc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ws(n,t,c?c.children:null,r,i):ws(n,t,e,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Xi(c.outlet.component,s))}else s&&Es(t,c,i),i.canActivateChecks.push(new Vc(r)),o.component?ws(n,null,c?c.children:null,r,i):ws(n,null,e,r,i);return i}function GI(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!qr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!qr(n.url,t.url)||!An(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!am(n,t)||!An(n.queryParams,t.queryParams);case"paramsChange":default:return!am(n,t)}}function Es(n,t,e){let r=Ki(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Es(s,t.children.getContext(o),e):Es(s,null,e):Es(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Xi(t.outlet.component,i)):e.canDeactivateChecks.push(new Xi(null,i)):e.canDeactivateChecks.push(new Xi(null,i))}function Ns(n){return typeof n=="function"}function WI(n){return typeof n=="boolean"}function qI(n){return n&&Ns(n.canLoad)}function YI(n){return n&&Ns(n.canActivate)}function ZI(n){return n&&Ns(n.canActivateChild)}function QI(n){return n&&Ns(n.canDeactivate)}function KI(n){return n&&Ns(n.canMatch)}function ky(n){return n instanceof $n||n?.name==="EmptyError"}var gc=Symbol("INITIAL_VALUE");function oo(){return Qt(n=>Oo(n.map(t=>t.pipe(Gn(1),_u(gc)))).pipe(se(t=>{for(let e of t)if(e!==!0){if(e===gc)return gc;if(e===!1||JI(e))return e}return!0}),nt(t=>t!==gc),Gn(1)))}function JI(n){return xr(n)||n instanceof io}function XI(n,t){return Ve(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?q(G(P({},e),{guardsResult:!0})):eD(s,r,i,n).pipe(Ve(c=>c&&WI(c)?tD(r,o,n,t):q(c)),se(c=>G(P({},e),{guardsResult:c})))})}function eD(n,t,e,r){return oe(n).pipe(Ve(i=>sD(i.component,i.route,e,t,r)),Wn(i=>i!==!0,!0))}function tD(n,t,e,r){return oe(t).pipe(dr(i=>Si(rD(i.route.parent,r),nD(i.route,r),oD(n,i.path,e),iD(n,i.route,e))),Wn(i=>i!==!0,!0))}function nD(n,t){return n!==null&&t&&t(new Ac(n)),q(!0)}function rD(n,t){return n!==null&&t&&t(new Tc(n)),q(!0)}function iD(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Za(()=>{let s=Fs(t)??e,c=so(o,s),u=YI(c)?c.canActivate(t,n):Jt(s,()=>c(t,n));return Cr(u).pipe(Wn())}));return q(i).pipe(oo())}function oD(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>$I(s)).filter(s=>s!==null).map(s=>Za(()=>{let c=s.guards.map(u=>{let f=Fs(s.node)??e,m=so(u,f),v=ZI(m)?m.canActivateChild(r,n):Jt(f,()=>m(r,n));return Cr(v).pipe(Wn())});return q(c).pipe(oo())}));return q(o).pipe(oo())}function sD(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(c=>{let u=Fs(t)??i,f=so(c,u),m=QI(f)?f.canDeactivate(n,t,e,r):Jt(u,()=>f(n,t,e,r));return Cr(m).pipe(Wn())});return q(s).pipe(oo())}function aD(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let c=so(s,n),u=qI(c)?c.canLoad(t,e):Jt(n,()=>c(t,e));return Cr(u)});return q(o).pipe(oo(),Ay(r))}function Ay(n){return du(rt(t=>{if(typeof t!="boolean")throw Nc(n,t)}),se(t=>t===!0))}function lD(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let c=so(s,n),u=KI(c)?c.canMatch(t,e):Jt(n,()=>c(t,e));return Cr(u)});return q(o).pipe(oo(),Ay(r))}var As=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Os=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Qi(n){return Ei(new As(n))}function cD(n){return Ei(new H(4e3,!1))}function dD(n){return Ei(Dy(!1,Vt.GuardRejected))}var dm=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[J])return cD(`${t.redirectTo}`);i=i.children[J]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let c=e,{queryParams:u,fragment:f,routeConfig:m,url:v,outlet:S,params:b,data:T,title:N}=i,j=Jt(o,()=>c({params:b,data:T,queryParams:u,fragment:f,routeConfig:m,url:v,outlet:S,title:N}));if(j instanceof Pn)throw new Os(j);e=j}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new Os(s);return s}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new Pn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=e[c]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(t,u,r,i)}),new fe(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uD(n,t,e,r,i){let o=Oy(n,t,e);return o.matched?(r=FI(t,r),lD(r,t,e,i).pipe(se(s=>s===!0?o:P({},um)))):q(o)}function Oy(n,t,e){if(t.path==="**")return pD(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?P({},um):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||ay)(e,n,t);if(!i)return P({},um);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?P(P({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function pD(n){return{matched:!0,parameters:n.length>0?cy(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function iy(n,t,e,r){return e.length>0&&hD(n,e,r)?{segmentGroup:new fe(t,mD(r,new fe(e,n.children))),slicedSegments:[]}:e.length===0&&gD(n,e,r)?{segmentGroup:new fe(n.segments,fD(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new fe(n.segments,n.children),slicedSegments:e}}function fD(n,t,e,r){let i={};for(let o of e)if(jc(n,t,o)&&!r[gn(o)]){let s=new fe([],{});i[gn(o)]=s}return P(P({},r),i)}function mD(n,t){let e={};e[J]=t;for(let r of n)if(r.path===""&&gn(r)!==J){let i=new fe([],{});e[gn(r)]=i}return e}function hD(n,t,e){return e.some(r=>jc(n,t,r)&&gn(r)!==J)}function gD(n,t,e){return e.some(r=>jc(n,t,r))}function jc(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function vD(n,t,e){return t.length===0&&!n.children[e]}var pm=class{};function _D(n,t,e,r,i,o,s="emptyOnly"){return new fm(n,t,e,r,i,s,o).recognize()}var yD=31,fm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,c){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new dm(this.urlSerializer,this.urlTree)}noMatchError(t){return new H(4002,`'${t.segmentGroup}'`)}recognize(){let t=iy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(se(({children:e,rootSnapshot:r})=>{let i=new qt(r,e),o=new Ts("",i),s=_y(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Yr([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,J,e).pipe(se(r=>({children:r,rootSnapshot:e})),zn(r=>{if(r instanceof Os)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof As?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(se(s=>s instanceof qt?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return oe(o).pipe(dr(s=>{let c=r.children[s],u=RI(e,s);return this.processSegmentGroup(t,u,c,s,i)}),vu((s,c)=>(s.push(...c),s)),ur(null),gu(),Ve(s=>{if(s===null)return Qi(r);let c=Py(s);return bD(c),q(c)}))}processSegment(t,e,r,i,o,s,c){return oe(e).pipe(dr(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,r,i,o,s,c).pipe(zn(f=>{if(f instanceof As)return q(null);throw f}))),Wn(u=>!!u),zn(u=>{if(ky(u))return vD(r,i,o)?q(new pm):Qi(r);throw u}))}processSegmentAgainstRoute(t,e,r,i,o,s,c,u){return gn(r)!==s&&(s===J||!jc(i,o,r))?Qi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,u):Qi(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,c){let{matched:u,parameters:f,consumedSegments:m,positionalParamSegments:v,remainingSegments:S}=Oy(e,i,o);if(!u)return Qi(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yD&&(this.allowRedirects=!1));let b=new Yr(o,f,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,oy(i),gn(i),i.component??i._loadedComponent??null,i,sy(i)),T=Rc(b,c,this.paramsInheritanceStrategy);b.params=Object.freeze(T.params),b.data=Object.freeze(T.data);let N=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,v,b,t);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ve(j=>this.processSegment(t,r,e,j.concat(S),s,!1,c)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let c=uD(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),c.pipe(Qt(u=>u.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Qt(({routes:f})=>{let m=r._loadedInjector??t,{parameters:v,consumedSegments:S,remainingSegments:b}=u,T=new Yr(S,v,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,oy(r),gn(r),r.component??r._loadedComponent??null,r,sy(r)),N=Rc(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(N.params),T.data=Object.freeze(N.data);let{segmentGroup:j,slicedSegments:z}=iy(e,S,b,f);if(z.length===0&&j.hasChildren())return this.processChildren(m,f,j,T).pipe(se(Ae=>new qt(T,Ae)));if(f.length===0&&z.length===0)return q(new qt(T,[]));let ye=gn(r)===o;return this.processSegment(m,f,j,z,ye?J:o,!0,T).pipe(se(Ae=>new qt(T,Ae instanceof qt?[Ae]:[])))}))):Qi(e)))}getChildConfig(t,e,r){return e.children?q({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?q({routes:e._loadedRoutes,injector:e._loadedInjector}):aD(t,e,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(t,e).pipe(rt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):dD(e))):q({routes:[],injector:t})}};function bD(n){n.sort((t,e)=>t.value.outlet===J?-1:e.value.outlet===J?1:t.value.outlet.localeCompare(e.value.outlet))}function xD(n){let t=n.value.routeConfig;return t&&t.path===""}function Py(n){let t=[],e=new Set;for(let r of n){if(!xD(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=Py(r.children);t.push(new qt(r.value,i))}return t.filter(r=>!e.has(r))}function oy(n){return n.data||{}}function sy(n){return n.resolve||{}}function wD(n,t,e,r,i,o){return Ve(s=>_D(n,t,e,r,s.extractedUrl,i,o).pipe(se(({state:c,tree:u})=>G(P({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function CD(n,t){return Ve(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return q(e);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let f of Fy(u))s.add(f);let c=0;return oe(s).pipe(dr(u=>o.has(u)?ED(u,r,n,t):(u.data=Rc(u,u.parent,n).resolve,q(void 0))),rt(()=>c++),Mi(1),Ve(u=>c===s.size?q(e):Et))})}function Fy(n){let t=n.children.map(e=>Fy(e)).flat();return[n,...t]}function ED(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Sy(i)&&(o[Ps]=i.title),SD(o,n,t,r).pipe(se(s=>(n._resolvedData=s,n.data=Rc(n,n.parent,e).resolve,null)))}function SD(n,t,e,r){let i=tm(n);if(i.length===0)return q({});let o={};return oe(i).pipe(Ve(s=>MD(n[s],t,e,r).pipe(Wn(),rt(c=>{if(c instanceof io)throw Nc(new br,c);o[s]=c}))),Mi(1),se(()=>o),zn(s=>ky(s)?Et:Ei(s)))}function MD(n,t,e,r){let i=Fs(t)??r,o=so(n,i),s=o.resolve?o.resolve(t,e):Jt(i,()=>o(t,e));return Cr(s)}function Xf(n){return Qt(t=>{let e=n(t);return e?oe(e).pipe(se(()=>t)):q(t)})}var _m=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(e){return e.data[Ps]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(Ry),providedIn:"root"})}return n})(),Ry=(()=>{class n extends _m{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(U(J_))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xr=new $("",{providedIn:"root",factory:()=>({})}),ao=new $(""),Uc=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(d_);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return q(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Cr(e.loadComponent()).pipe(se(Vy),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Po(()=>{this.componentLoaders.delete(e)})),i=new Ci(r,()=>new Ne).pipe(wi());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Ny(r,this.compiler,e,this.onLoadEndListener).pipe(Po(()=>{this.childrenLoaders.delete(r)})),s=new Ci(o,()=>new Ne).pipe(wi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ny(n,t,e,r){return Cr(n.loadChildren()).pipe(se(Vy),Ve(i=>i instanceof hf||Array.isArray(i)?q(i):oe(t.compileModuleAsync(i))),se(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(e).injector,s=o.get(ao,[],{optional:!0,self:!0}).flat()),{routes:s.map(vm),injector:o}}))}function ID(n){return n&&typeof n=="object"&&"default"in n}function Vy(n){return ID(n)?n.default:n}var Bc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(DD),providedIn:"root"})}return n})(),DD=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ym=new $(""),bm=new $("");function Ly(n,t,e){let r=n.get(bm),i=n.get(Xe);return n.get(Se).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(f=>setTimeout(f));let o,s=new Promise(f=>{o=f}),c=i.startViewTransition(()=>(o(),TD(n))),{onViewTransitionCreated:u}=r;return u&&Jt(n,()=>u({transition:c,from:t,to:e})),s})}function TD(n){return new Promise(t=>{Jp({read:()=>setTimeout(t)},{injector:n})})}var xm=new $(""),Hc=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ne;transitionAbortSubject=new Ne;configLoader=L(Uc);environmentInjector=L(Tt);destroyRef=L(zi);urlSerializer=L(Qr);rootContexts=L(Kr);location=L(_r);inputBindingEnabled=L(Rs,{optional:!0})!==null;titleStrategy=L(_m);options=L(Xr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(Bc);createViewTransition=L(ym,{optional:!0});navigationErrorHandler=L(xm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Ic(i)),r=i=>this.events.next(new Dc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(G(P({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new Oe(null),this.transitions.pipe(nt(r=>r!==null),Qt(r=>{let i=!1,o=!1;return q(r).pipe(Qt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Vt.SupersededByNewNavigation),Et;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?G(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let f="";return this.events.next(new Fn(s.id,this.urlSerializer.serialize(s.rawUrl),f,eo.IgnoredSameUrlNavigation)),s.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return q(s).pipe(Qt(f=>(this.events.next(new wr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Et:Promise.resolve(f))),wD(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=G(P({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new Ms(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:f,extractedUrl:m,source:v,restoredState:S,extras:b}=s,T=new wr(f,this.urlSerializer.serialize(m),v,S);this.events.next(T);let N=Cy(this.rootComponentType).snapshot;return this.currentTransition=r=G(P({},s),{targetSnapshot:N,urlAfterRedirects:m,extras:G(P({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,q(r)}else{let f="";return this.events.next(new Fn(s.id,this.urlSerializer.serialize(s.extractedUrl),f,eo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Et}}),rt(s=>{let c=new Cc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),se(s=>(this.currentTransition=r=G(P({},s),{guards:HI(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),XI(this.environmentInjector,s=>this.events.next(s)),rt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Nc(this.urlSerializer,s.guardsResult);let c=new Ec(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),nt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Vt.GuardRejected),!1)),Xf(s=>{if(s.guards.canActivateChecks.length!==0)return q(s).pipe(rt(c=>{let u=new Sc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Qt(c=>{let u=!1;return q(c).pipe(CD(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Vt.NoDataFromResolver)}}))}),rt(c=>{let u=new Mc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Xf(s=>{let c=u=>{let f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(rt(m=>{u.component=m}),se(()=>{})));for(let m of u.children)f.push(...c(m));return f};return Oo(c(s.targetSnapshot.root)).pipe(ur(null),Gn(1))}),Xf(()=>this.afterPreactivation()),Qt(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?oe(u).pipe(se(()=>r)):q(r)}),se(s=>{let c=VI(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=G(P({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),rt(()=>{this.events.next(new Is)}),BI(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Gn(1),rt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new at(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),yu(this.transitionAbortSubject.pipe(rt(s=>{throw s}))),Po(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),zn(s=>{if(this.destroyed)return r.resolve(!1),Et;if(o=!0,Ty(s))this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),UI(s)?this.events.next(new ro(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new to(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Jt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof io){let{message:f,cancellationCode:m}=Nc(this.urlSerializer,u);this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),f,m)),this.events.next(new ro(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Et}))}))}cancelNavigationTransition(e,r,i){let o=new On(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kD(n){return n!==bc}var jy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(AD),providedIn:"root"})}return n})(),Lc=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},AD=(()=>{class n extends Lc{static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uy=(()=>{class n{urlSerializer=L(Qr);options=L(Xr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(_r);urlHandlingStrategy=L(Bc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof Pn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=Cy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(OD),providedIn:"root"})}return n})(),OD=(()=>{class n extends Uy{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof wr?this.updateStateMemento():e instanceof Fn?this.commitTransition(r):e instanceof Ms?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Is?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof On&&(e.code===Vt.GuardRejected||e.code===Vt.NoDataFromResolver)?this.restoreHistory(r):e instanceof to?this.restoreHistory(r,!0):e instanceof at&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let c=this.browserPageId,u=P(P({},s),this.generateNgRouterState(i,c));this.location.replaceState(e,"",u)}else{let c=P(P({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",c)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $c(n,t){n.events.pipe(nt(e=>e instanceof at||e instanceof On||e instanceof to||e instanceof Fn),se(e=>e instanceof at||e instanceof Fn?0:(e instanceof On?e.code===Vt.Redirect||e.code===Vt.SupersededByNewNavigation:!1)?2:1),nt(e=>e!==2),Gn(1)).subscribe(()=>{t()})}var PD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ce=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L($v);stateManager=L(Uy);options=L(Xr,{optional:!0})||{};pendingTasks=L(Gi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(Hc);urlSerializer=L(Qr);location=L(_r);urlHandlingStrategy=L(Bc);_events=new Ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(jy);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(ao,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(Rs,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new De;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof On&&r.code!==Vt.Redirect&&r.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof at)this.navigated=!0;else if(r instanceof ro){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=P({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kD(i.source)},s);this.scheduleNavigation(c,bc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ND(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=P({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(e);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(vm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s,m=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":m=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let v;try{let S=i?i.snapshot:this.routerState.snapshot.root;v=yy(S)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),v=this.currentUrlTree.root}return by(v,e,m,f??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=xr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,bc,null,r)}navigate(e,r={skipLocationChange:!1}){return RD(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=P({},PD):r===!1?i=P({},FD):i=r,xr(e))return ey(this.currentUrlTree,e,i);let o=this.parseUrl(e);return ey(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,f;s?(c=s.resolve,u=s.reject,f=s.promise):f=new Promise((v,S)=>{c=v,u=S});let m=this.pendingTasks.add();return $c(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(v=>Promise.reject(v))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RD(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new H(4008,!1)}function ND(n){return!(n instanceof Is)&&!(n instanceof ro)}var Rn=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ne;constructor(e,r,i,o,s,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof at&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:tv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:xr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(R(ce),R(bt),Gp("tabindex"),R(pn),R(yt),R(mn))};static \u0275dir=ge({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&E("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Je("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",vr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",vr],replaceUrl:[2,"replaceUrl","replaceUrl",vr],routerLink:"routerLink"},features:[Jn]})}return n})(),Cm=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new He;constructor(e,r,i,o,s){this.router=e,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof at&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(cr()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=oe(e).pipe(cr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=VD(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?e.isActive(o,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(R(ce),R(yt),R(pn),R(gr),R(Rn,8))};static \u0275dir=ge({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&n_(o,Rn,5),r&2){let s;r_(s=i_())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Jn]})}return n})();function VD(n){return!!n.paths}var Vs=class{};var By=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(nt(e=>e instanceof at),dr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ts(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return oe(i).pipe(cr())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=q(null);let o=i.pipe(Ve(s=>s===null?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return oe([o,s]).pipe(cr())}else return o})}static \u0275fac=function(r){return new(r||n)(U(ce),U(Tt),U(Vs),U(Uc))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hy=new $(""),LD=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof wr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof at?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Fn&&e.code===eo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof no&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new no(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Av()};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function jD(n){return n.routerState.root}function Ls(n,t){return{\u0275kind:n,\u0275providers:t}}function UD(){let n=L(At);return t=>{let e=n.get(mr);if(t!==e.components[0])return;let r=n.get(ce),i=n.get($y);n.get(Em)===1&&r.initialNavigation(),n.get(Wy,null,X.Optional)?.setUpPreloading(),n.get(Hy,null,X.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var $y=new $("",{factory:()=>new Ne}),Em=new $("",{providedIn:"root",factory:()=>1});function zy(){let n=[{provide:Em,useValue:0},_f(()=>{let t=L(At);return t.get(If,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(ce),o=t.get($y);$c(i,()=>{r(!0)}),t.get(Hc).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))})];return Ls(2,n)}function Gy(){let n=[_f(()=>{L(ce).setUpLocationChangeListener()}),{provide:Em,useValue:2}];return Ls(3,n)}var Wy=new $("");function qy(n){return Ls(0,[{provide:Wy,useExisting:By},{provide:Vs,useExisting:n}])}function Yy(){return Ls(8,[hm,{provide:Rs,useExisting:hm}])}function Zy(n){Xo("NgRouterViewTransitions");let t=[{provide:ym,useValue:Ly},{provide:bm,useValue:P({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ls(9,t)}var Qy=[_r,{provide:Qr,useClass:br},ce,Kr,{provide:bt,useFactory:jD,deps:[ce]},Uc,[]],zc=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[Qy,[],{provide:ao,multi:!0,useValue:e},[],r?.errorHandler?{provide:xm,useValue:r.errorHandler}:[],{provide:Xr,useValue:r||{}},r?.useHash?HD():$D(),BD(),r?.preloadingStrategy?qy(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?zD(r):[],r?.bindToComponentInputs?Yy().\u0275providers:[],r?.enableViewTransitions?Zy().\u0275providers:[],GD()]}}static forChild(e){return{ngModule:n,providers:[{provide:ao,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({})}return n})();function BD(){return{provide:Hy,useFactory:()=>{let n=L($_),t=L(Se),e=L(Xr),r=L(Hc),i=L(Qr);return e.scrollOffset&&n.setOffset(e.scrollOffset),new LD(i,r,n,t,e)}}}function HD(){return{provide:mn,useClass:Ff}}function $D(){return{provide:mn,useClass:Xl}}function zD(n){return[n.initialNavigation==="disabled"?Gy().\u0275providers:[],n.initialNavigation==="enabledBlocking"?zy().\u0275providers:[]]}var wm=new $("");function GD(){return[{provide:wm,useFactory:UD},{provide:yf,multi:!0,useExisting:wm}]}var WD={1:"admin",2:"candidato",3:"reclutador",4:"reclutador",5:"candidato",6:"reclutador"},qD={reclutador:{type:"reclutador",title:"Acceso para Reclutadores",description:"Gestiona ofertas laborales, revisa candidatos y programa entrevistas",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",color:"blue",themeClass:"recruiter-theme"},candidato:{type:"candidato",title:"Acceso para Candidatos",description:"Crea tu CV, aplica a empleos y gestiona tus postulaciones",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",color:"green",themeClass:"candidate-theme"}},YD={reclutador:"/dashboard",candidato:"/dashboard",admin:"/dashboard"};function Er(n){return WD[n]||"candidato"}function lo(n,t){let e=Er(n);return e==="admin"?!0:e===t}function rr(n){return qD[n]}function Ky(n){return YD[n]}var Jy=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var js=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},Gc=class extends js{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Us=class extends js{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Bs=class extends js{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Sm=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(Sm||{});var ZD=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},Hs=class{constructor(t,{headers:e={},customFetch:r,region:i=Sm.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=Jy(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return ZD(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,c={},{region:u}=e;u||(u=this.region);let f=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let m;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",m=s):typeof s=="string"?(c["Content-Type"]="text/plain",m=s):typeof FormData<"u"&&s instanceof FormData?m=s:(c["Content-Type"]="application/json",m=JSON.stringify(s)));let v=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:m}).catch(N=>{throw new Gc(N)}),S=v.headers.get("x-relay-error");if(S&&S==="true")throw new Us(v);if(!v.ok)throw new Bs(v);let b=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),T;return b==="application/json"?T=yield v.json():b==="application/octet-stream"?T=yield v.blob():b==="text/event-stream"?T=v:b==="multipart/form-data"?T=yield v.formData():T=yield v.text(),{data:T,error:null,response:v}}catch(i){return{data:null,error:i,response:i instanceof Bs||i instanceof Us?i.context:void 0}}})}};var u1=Bb(d1(),1),{PostgrestClient:p1,PostgrestQueryBuilder:k7,PostgrestFilterBuilder:A7,PostgrestTransformBuilder:O7,PostgrestBuilder:P7,PostgrestError:aT}=u1.default;function f1(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var m1=f1();var h1="2.11.15";var g1=`realtime-js/${h1}`,v1="1.0.0";var Zc=1e4,_1=1e3,Zs=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Zs||{}),ht=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(ht||{}),tn=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(tn||{}),Vm=function(n){return n.websocket="websocket",n}(Vm||{}),ei=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(ei||{});var Qc=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,c=r.decode(t.slice(s,s+i));s=s+i;let u=r.decode(t.slice(s,s+o));s=s+o;let f=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:c,event:u,payload:f}}};var uo=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Me=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Me||{}),jm=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=lT(s,n,t,i),o),{})},lT=(n,t,e,r)=>{let i=t.find(c=>c.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?y1(o,s):Lm(s)},y1=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return pT(t,e)}switch(n){case Me.bool:return cT(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return dT(t);case Me.json:case Me.jsonb:return uT(t);case Me.timestamp:return fT(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Lm(t);default:return Lm(t)}},Lm=n=>n,cT=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},dT=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},uT=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},pT=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(c=>y1(t,c))}return n},fT=n=>typeof n=="string"?n.replace(" ","T"):n,Kc=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var po=class{constructor(t,e,r={},i=Zc){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Qs=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(u=>{this.state=n.syncDiff(this.state,u,o,s)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),c())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),c={},u={};return this.map(o,(f,m)=>{s[f]||(u[f]=m)}),this.map(s,(f,m)=>{let v=o[f];if(v){let S=m.map(j=>j.presence_ref),b=v.map(j=>j.presence_ref),T=m.filter(j=>b.indexOf(j.presence_ref)<0),N=v.filter(j=>S.indexOf(j.presence_ref)<0);T.length>0&&(c[f]=T),N.length>0&&(u[f]=N)}else c[f]=m}),this.syncDiff(o,{joins:c,leaves:u},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(c,u)=>{var f;let m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(u),m.length>0){let v=t[c].map(b=>b.presence_ref),S=m.filter(b=>v.indexOf(b.presence_ref)<0);t[c].unshift(...S)}r(c,m,u)}),this.map(s,(c,u)=>{let f=t[c];if(!f)return;let m=u.map(v=>v.presence_ref);f=f.filter(v=>m.indexOf(v.presence_ref)<0),t[c]=f,i(c,f,u),f.length===0&&delete t[c]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ir=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(ir||{});var Ks=class n{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new po(this,tn.join,this.params,this.timeout),this.rejoinTimer=new uo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Qs(this),this.broadcastEndpointURL=Kc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){let{config:{broadcast:o,presence:s,private:c}}=this.params;this._onError(m=>t?.(ir.CHANNEL_ERROR,m)),this._onClose(()=>t?.(ir.CLOSED));let u={},f={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",v=>y(this,[v],function*({postgres_changes:m}){var S;if(this.socket.setAuth(),m===void 0){t?.(ir.SUBSCRIBED);return}else{let b=this.bindings.postgres_changes,T=(S=b?.length)!==null&&S!==void 0?S:0,N=[];for(let j=0;j<T;j++){let z=b[j],{filter:{event:ye,schema:Ae,table:W,filter:ve}}=z,sn=m&&m[j];if(sn&&sn.event===ye&&sn.schema===Ae&&sn.table===W&&sn.filter===ve)N.push(Object.assign(Object.assign({},z),{id:sn.id}));else{this.unsubscribe(),this.state=ht.errored,t?.(ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(ir.SUBSCRIBED);return}})).receive("error",m=>{this.state=ht.errored,t?.(ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t?.(ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return y(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return y(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this._on(t,e,r)}send(r){return y(this,arguments,function*(t,e={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{let m=yield this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=m.body)===null||o===void 0?void 0:o.cancel(),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,u,f;let m=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ht.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new po(this,tn.leave,{},t),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(t,e,r){return y(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new po(this,t,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:c,error:u,leave:f,join:m}=tn;if(r&&[c,u,f,m].indexOf(s)>=0&&r!==this._joinRef())return;let S=this._onMessage(s,e,r);if(e&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var T,N,j;return((T=b.filter)===null||T===void 0?void 0:T.event)==="*"||((j=(N=b.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===s}).map(b=>b.callback(S,r)):(o=this.bindings[s])===null||o===void 0||o.filter(b=>{var T,N,j,z,ye,Ae;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in b){let W=b.id,ve=(T=b.filter)===null||T===void 0?void 0:T.event;return W&&((N=e.ids)===null||N===void 0?void 0:N.includes(W))&&(ve==="*"||ve?.toLocaleLowerCase()===((j=e.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{let W=(ye=(z=b?.filter)===null||z===void 0?void 0:z.event)===null||ye===void 0?void 0:ye.toLocaleLowerCase();return W==="*"||W===((Ae=e?.event)===null||Ae===void 0?void 0:Ae.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===s}).map(b=>{if(typeof S=="object"&&"ids"in S){let T=S.data,{schema:N,table:j,commit_timestamp:z,type:ye,errors:Ae}=T;S=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:z,eventType:ye,new:{},old:{},errors:Ae}),this._getPayloadRecords(T))}b.callback(S,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=jm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=jm(t.columns,t.old_record)),e}};var b1=()=>{},hT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Js=class{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zc,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=b1,this.ref=0,this.logger=b1,this.conn=null,this.sendBuffer=[],this.serializer=new Qc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...c)=>import("./chunk-X2RIVRQM.js").then(({default:u})=>u(...c)):s=fetch,(...c)=>s(...c)},this.endPoint=`${t}/${Vm.websocket}`,this.httpEndpoint=Kc(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new uo(()=>y(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=m1),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:v1}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(t){return y(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return y(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zs.connecting:return ei.Connecting;case Zs.open:return ei.Open;case Zs.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}channel(t,e={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ks(`realtime:${t}`,e,this);return this.channels.push(o),o}}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return y(this,null,function*(){let e=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let i={access_token:e,version:g1};e&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(tn.access_token,{access_token:e})}))})}sendHeartbeat(){return y(this,null,function*(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(_1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(e.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(c=>c(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([hT],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var fo=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ge(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Jc=class extends fo{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},ti=class extends fo{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var gT=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},ed=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},x1=()=>gT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),Xc=n=>{if(Array.isArray(n))return n.map(e=>Xc(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Xc(r)}),t};var ni=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},Um=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),vT=(n,t,e)=>ni(void 0,void 0,void 0,function*(){let r=yield x1();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{t(new Jc(Um(i),n.status||500))}).catch(i=>{t(new ti(Um(i),i))}):t(new ti(Um(n),n))}),_T=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Xs(n,t,e,r,i,o){return ni(this,void 0,void 0,function*(){return new Promise((s,c)=>{n(e,_T(t,r,i,o)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>vT(u,c,r))})})}function mo(n,t,e,r){return ni(this,void 0,void 0,function*(){return Xs(n,"GET",t,e,r)})}function Nn(n,t,e,r,i){return ni(this,void 0,void 0,function*(){return Xs(n,"POST",t,r,i,e)})}function w1(n,t,e,r,i){return ni(this,void 0,void 0,function*(){return Xs(n,"PUT",t,r,i,e)})}function C1(n,t,e,r){return ni(this,void 0,void 0,function*(){return Xs(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function td(n,t,e,r,i){return ni(this,void 0,void 0,function*(){return Xs(n,"DELETE",t,r,i,e)})}var jt=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},yT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},E1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},nd=class{constructor(t,e={},r,i){this.url=t,this.headers=e,this.bucketId=r,this.fetch=ed(i)}uploadOrUpdate(t,e,r,i){return jt(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},E1),i),c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),u=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",this.encodeMetadata(u))):(o=r,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));let f=this._removeEmptyFolders(e),m=this._getFinalPath(f),v=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:o,headers:c},s?.duplex?{duplex:s.duplex}:{})),S=yield v.json();return v.ok?{data:{path:f,id:S.Id,fullPath:S.Key},error:null}:{data:null,error:S}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}upload(t,e,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return jt(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",e);try{let u,f=Object.assign({upsert:E1.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);let v=yield this.fetch(c.toString(),{method:"PUT",body:u,headers:m}),S=yield v.json();return v.ok?{data:{path:o,fullPath:S.Key},error:null}:{data:null,error:S}}catch(u){if(Ge(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,e){return jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Nn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),c=s.searchParams.get("token");if(!c)throw new fo("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}update(t,e,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return jt(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}copy(t,e,r){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield Nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return jt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Nn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return jt(this,void 0,void 0,function*(){try{let i=yield Nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}download(t,e){return jt(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let c=this._getFinalPath(t);return{data:yield(yield mo(this.fetch,`${this.url}/${i}/${c}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Ge(c))return{data:null,error:c};throw c}})}info(t){return jt(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield mo(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Xc(r),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}exists(t){return jt(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield C1(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ge(r)&&r instanceof ti){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let c=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return jt(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}list(t,e,r){return jt(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},yT),e),{prefix:t||""});return{data:yield Nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var S1="2.7.1";var M1={"X-Client-Info":`storage-js/${S1}`};var ho=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},rd=class{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},M1),e),this.fetch=ed(r)}listBuckets(){return ho(this,void 0,void 0,function*(){try{return{data:yield mo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}getBucket(t){return ho(this,void 0,void 0,function*(){try{return{data:yield mo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return ho(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return ho(this,void 0,void 0,function*(){try{return{data:yield w1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ho(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}deleteBucket(t){return ho(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}};var ea=class extends rd{constructor(t,e={},r){super(t,e,r)}from(t){return new nd(this.url,this.headers,t,this.fetch)}};var I1="2.50.5";var ta="";typeof Deno<"u"?ta="deno":typeof document<"u"?ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ta="react-native":ta="node";var bT={"X-Client-Info":`supabase-js-${ta}/${I1}`},D1={headers:bT},T1={schema:"public"},k1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A1={};ah();var xT=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},wT=n=>{let t;return n?t=n:typeof fetch>"u"?t=oh:t=fetch,(...e)=>t(...e)},CT=()=>typeof Headers>"u"?sh:Headers,O1=(n,t,e)=>{let r=wT(e),i=CT();return(o,s)=>xT(void 0,void 0,void 0,function*(){var c;let u=(c=yield t())!==null&&c!==void 0?c:n,f=new i(s?.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),r(o,Object.assign(Object.assign({},s),{headers:f}))})};var ET=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})};function P1(n){return n.endsWith("/")?n:n+"/"}function F1(n,t){var e,r;let{db:i,auth:o,realtime:s,global:c}=n,{db:u,auth:f,realtime:m,global:v}=t,S={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},m),s),global:Object.assign(Object.assign(Object.assign({},v),c),{headers:Object.assign(Object.assign({},(e=v?.headers)!==null&&e!==void 0?e:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ET(this,void 0,void 0,function*(){return""})};return n.accessToken?S.accessToken=n.accessToken:delete S.accessToken,S}var id="2.70.0";var ri=30*1e3,od=3,sd=od*ri,R1="http://localhost:9999",N1="supabase.auth.token";var V1={"X-Client-Info":`gotrue-js/${id}`};var na="X-Supabase-Api-Version",Bm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j1=6e5;var ra=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function Z(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var ad=class extends ra{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function U1(n){return Z(n)&&n.name==="AuthApiError"}var go=class extends ra{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Vn=class extends ra{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}},nn=class extends Vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function B1(n){return Z(n)&&n.name==="AuthSessionMissingError"}var ii=class extends Vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},oi=class extends Vn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},si=class extends Vn{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function H1(n){return Z(n)&&n.name==="AuthImplicitGrantRedirectError"}var ia=class extends Vn{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},vo=class extends Vn{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function ld(n){return Z(n)&&n.name==="AuthRetryableFetchError"}var oa=class extends Vn{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var or=class extends Vn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$1=` 	
\r=`.split(""),ST=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<$1.length;t+=1)n[$1[t].charCodeAt(0)]=-2;for(let t=0;t<cd.length;t+=1)n[cd[t].charCodeAt(0)]=t;return n})();function z1(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(cd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(cd[r]),t.queuedBits-=6}}function G1(n,t,e){let r=ST[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Hm(n){let t=[],e=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{DT(s,r,e)};for(let s=0;s<n.length;s+=1)G1(n.charCodeAt(s),i,o);return t.join("")}function MT(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function IT(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}MT(r,t)}}function DT(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function W1(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)G1(n.charCodeAt(i),e,r);return new Uint8Array(t)}function q1(n){let t=[];return IT(n,e=>t.push(e)),new Uint8Array(t)}function Y1(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};return n.forEach(i=>z1(i,e,r)),z1(null,e,r),t.join("")}function Z1(n){return Math.round(Date.now()/1e3)+n}function Q1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var rn=()=>typeof window<"u"&&typeof document<"u",ai={tested:!1,writable:!1},Sr=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ai.tested)return ai.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ai.tested=!0,ai.writable=!0}catch{ai.tested=!0,ai.writable=!1}return ai.writable};function K1(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var dd=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},J1=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",$m=(n,t,e)=>y(null,null,function*(){yield n.setItem(t,JSON.stringify(e))}),aa=(n,t)=>y(null,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),la=(n,t)=>y(null,null,function*(){yield n.removeItem(t)}),sa=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};sa.promiseConstructor=Promise;function ud(n){let t=n.split(".");if(t.length!==3)throw new or("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!L1.test(t[r]))throw new or("JWT not in base64url format");return{header:JSON.parse(Hm(t[0])),payload:JSON.parse(Hm(t[1])),signature:W1(t[2]),raw:{header:t[0],payload:t[1]}}}function X1(n){return y(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function eb(n,t){return new Promise((r,i)=>{y(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function TT(n){return("0"+n.toString(16)).substr(-2)}function kT(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,TT).join("")}function AT(n){return y(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function OT(n){return y(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield AT(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function li(n,t,e=!1){return y(this,null,function*(){let r=kT(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield $m(n,`${t}-code-verifier`,i);let o=yield OT(r);return[o,r===o?"plain":"s256"]})}var PT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tb(n){let t=n.headers.get(na);if(!t||!t.match(PT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nb(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function rb(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var FT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ci(n){if(!FT.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var RT=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},di=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),NT=[502,503,504];function ib(n){return y(this,null,function*(){var t;if(!J1(n))throw new vo(di(n),0);if(NT.includes(n.status))throw new vo(di(n),n.status);let e;try{e=yield n.json()}catch(o){throw new go(di(o),o)}let r,i=tb(n);if(i&&i.getTime()>=Bm["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new oa(di(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new nn}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new oa(di(e),n.status,e.weak_password.reasons);throw new ad(di(e),n.status||500,r)})}var VT=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function ne(n,t,e,r){return y(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[na]||(o[na]=Bm["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=yield LT(n,t,e+c,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}})}function LT(n,t,e,r,i,o){return y(this,null,function*(){let s=VT(t,r,i,o),c;try{c=yield n(e,Object.assign({},s))}catch(u){throw console.error(u),new vo(di(u),0)}if(c.ok||(yield ib(c)),r?.noResolveJson)return c;try{return yield c.json()}catch(u){yield ib(u)}})}function Ln(n){var t;let e=null;jT(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=Z1(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function zm(n){let t=Ln(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function jn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function ob(n){return{data:n,error:null}}function sb(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=RT(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},s);return{data:{properties:c,user:u},error:null}}function ab(n){return n}function jT(n){return n.access_token&&n.refresh_token&&n.expires_in}var pd=["global","local","others"];var UT=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},_o=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=dd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return y(this,arguments,function*(t,e=pd[0]){if(pd.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pd.join(", ")}`);try{return yield ne(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return y(this,arguments,function*(t,e={}){try{return yield ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:jn})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return y(this,null,function*(){try{let{options:e}=t,r=UT(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:sb,redirectTo:e?.redirectTo})}catch(e){if(Z(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return y(this,null,function*(){try{return yield ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jn})}catch(e){if(Z(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return y(this,null,function*(){var e,r,i,o,s,c,u;try{let f={nextPage:null,lastPage:0,total:0},m=yield ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:ab});if(m.error)throw m.error;let v=yield m.json(),S=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return b.length>0&&(b.forEach(T=>{let N=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(T.split(";")[1].split("=")[1]);f[`${j}Page`]=N}),f.total=parseInt(S)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(Z(f))return{data:{users:[]},error:f};throw f}})}getUserById(t){return y(this,null,function*(){ci(t);try{return yield ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jn})}catch(e){if(Z(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return y(this,null,function*(){ci(t);try{return yield ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:jn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return y(this,null,function*(){ci(t);try{return yield ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:jn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return y(this,null,function*(){ci(t.userId);try{let{data:e,error:r}=yield ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return y(this,null,function*(){ci(t.userId),ci(t.id);try{return{data:yield ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}};var lb={getItem:n=>Sr()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{Sr()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{Sr()&&globalThis.localStorage.removeItem(n)}};function Gm(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function cb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var ui={debug:!!(globalThis&&Sr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ca=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},fd=class extends ca{};function Wm(n,t,e){return y(this,null,function*(){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>y(null,null,function*(){if(i){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield e()}finally{ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new fd(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ui.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}cb();var BT={url:R1,storageKey:N1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function db(n,t,e){return y(this,null,function*(){return yield e()})}var qm=(()=>{class n{constructor(e){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&rn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},BT),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new _o({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=dd(o.fetch),this.lock=o.lock||db,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:rn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Wm:this.lock=db,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Sr()?this.storage=lb:(this.memoryStorage={},this.storage=Gm(this.memoryStorage)):(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>y(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${id}) ${new Date().toISOString()}`,...e),this}initialize(){return y(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=y(this,null,function*(){return yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return y(this,null,function*(){var e;try{let r=K1(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),rn()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),H1(s)){let f=(e=s.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),yield this._saveSession(c),setTimeout(()=>y(this,null,function*(){u==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",c):yield this._notifyAllSubscribers("SIGNED_IN",c)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new go("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return y(this,null,function*(){var r,i,o;try{let s=yield ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ln}),{data:c,error:u}=s;if(u||!c)return{data:{user:null,session:null},error:u};let f=c.session,m=c.user;return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return y(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:v,password:S,options:b}=e,T=null,N=null;this.flowType==="pkce"&&([T,N]=yield li(this.storage,this.storageKey)),s=yield ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:S,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:T,code_challenge_method:N},xform:Ln})}else if("phone"in e){let{phone:v,password:S,options:b}=e;s=yield ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:S,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ln})}else throw new oi("You must provide either an email or phone number and a password");let{data:c,error:u}=s;if(u||!c)return{data:{user:null,session:null},error:u};let f=c.session,m=c.user;return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return y(this,null,function*(){try{let r;if("email"in e){let{email:s,password:c,options:u}=e;r=yield ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:zm})}else if("phone"in e){let{phone:s,password:c,options:u}=e;r=yield ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:zm})}else throw new oi("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ii}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return y(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return y(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>y(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return y(this,null,function*(){let{chain:r}=e;if(r==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(e){return y(this,null,function*(){var r,i,o,s,c,u,f,m,v,S,b,T;let N,j;if("message"in e)N=e.message,j=e.signature;else{let{chain:z,wallet:ye,statement:Ae,options:W}=e,ve;if(rn())if(typeof ye=="object")ve=ye;else{let Re=window;if("solana"in Re&&typeof Re.solana=="object"&&("signIn"in Re.solana&&typeof Re.solana.signIn=="function"||"signMessage"in Re.solana&&typeof Re.solana.signMessage=="function"))ve=Re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ye!="object"||!W?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ve=ye}let sn=new URL((r=W?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in ve&&ve.signIn){let Re=yield ve.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},W?.signInWithSolana),{version:"1",domain:sn.host,uri:sn.href}),Ae?{statement:Ae}:null)),Ut;if(Array.isArray(Re)&&Re[0]&&typeof Re[0]=="object")Ut=Re[0];else if(Re&&typeof Re=="object"&&"signedMessage"in Re&&"signature"in Re)Ut=Re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ut&&"signature"in Ut&&(typeof Ut.signedMessage=="string"||Ut.signedMessage instanceof Uint8Array)&&Ut.signature instanceof Uint8Array)N=typeof Ut.signedMessage=="string"?Ut.signedMessage:new TextDecoder().decode(Ut.signedMessage),j=Ut.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ve)||typeof ve.signMessage!="function"||!("publicKey"in ve)||typeof ve!="object"||!ve.publicKey||!("toBase58"in ve.publicKey)||typeof ve.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${sn.host} wants you to sign in with your Solana account:`,ve.publicKey.toBase58(),...Ae?["",Ae,""]:[""],"Version: 1",`URI: ${sn.href}`,`Issued At: ${(o=(i=W?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=W?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${W.signInWithSolana.notBefore}`]:[],...!((c=W?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${W.signInWithSolana.expirationTime}`]:[],...!((u=W?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${W.signInWithSolana.chainId}`]:[],...!((f=W?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${W.signInWithSolana.nonce}`]:[],...!((m=W?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${W.signInWithSolana.requestId}`]:[],...!((S=(v=W?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||S===void 0)&&S.length?["Resources",...W.signInWithSolana.resources.map(Ut=>`- ${Ut}`)]:[]].join(`
`);let Re=yield ve.signMessage(new TextEncoder().encode(N),"utf8");if(!Re||!(Re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=Re}}try{let{data:z,error:ye}=yield ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Y1(j)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Ln});if(ye)throw ye;return!z||!z.session||!z.user?{data:{user:null,session:null},error:new ii}:(z.session&&(yield this._saveSession(z.session),yield this._notifyAllSubscribers("SIGNED_IN",z.session)),{data:Object.assign({},z),error:ye})}catch(z){if(Z(z))return{data:{user:null,session:null},error:z};throw z}})}_exchangeCodeForSession(e){return y(this,null,function*(){let r=yield aa(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:c}=yield ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ln});if(yield la(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ii}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:c})}catch(s){if(Z(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return y(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:c}=e,u=yield ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ln}),{data:f,error:m}=u;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ii}:(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:m})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return y(this,null,function*(){var r,i,o,s,c;try{if("email"in e){let{email:u,options:f}=e,m=null,v=null;this.flowType==="pkce"&&([m,v]=yield li(this.storage,this.storageKey));let{error:S}=yield ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:S}}if("phone"in e){let{phone:u,options:f}=e,{data:m,error:v}=yield ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new oi("You must provide either an email or phone number.")}catch(u){if(Z(u))return{data:{user:null,session:null},error:u};throw u}})}verifyOtp(e){return y(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:c,error:u}=yield ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Ln});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");let f=c.session,m=c.user;return f?.access_token&&(yield this._saveSession(f),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(e){return y(this,null,function*(){var r,i,o;try{let s=null,c=null;return this.flowType==="pkce"&&([s,c]=yield li(this.storage,this.storageKey)),yield ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:ob})}catch(s){if(Z(s))return{data:null,error:s};throw s}})}reauthenticate(){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return y(this,null,function*(){try{return yield this._useSession(e=>y(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new nn;let{error:o}=yield ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return y(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:c}=yield ne(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:c,error:u}=yield ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new oi("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return this._useSession(r=>y(this,null,function*(){return r}))}))})}_acquireLock(e,r){return y(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=y(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(y(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>y(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(y(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return y(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return y(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield aa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<sd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,m,v))})}return{data:{session:e},error:null}}let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return y(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return y(this,null,function*(){try{return e?yield ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jn}):yield this._useSession(r=>y(this,null,function*(){var i,o,s;let{data:c,error:u}=r;if(u)throw u;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:yield ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:jn})}))}catch(r){if(Z(r))return B1(r)&&(yield this._removeSession(),yield la(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return y(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return y(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>y(this,null,function*(){let{data:s,error:c}=o;if(c)throw c;if(!s.session)throw new nn;let u=s.session,f=null,m=null;this.flowType==="pkce"&&e.email!=null&&([f,m]=yield li(this.storage,this.storageKey));let{data:v,error:S}=yield ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:m}),jwt:u.access_token,xform:jn});if(S)throw S;return u.user=v.user,yield this._saveSession(u),yield this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}}))}catch(o){if(Z(o))return{data:{user:null},error:o};throw o}})}setSession(e){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return y(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new nn;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:c}=ud(e.access_token);if(c.exp&&(i=c.exp,o=i<=r),o){let{session:u,error:f}=yield this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};s=u}else{let{data:u,error:f}=yield this._getUser(e.access_token);if(f)throw f;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Z(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;if(!e){let{data:c,error:u}=r;if(u)throw u;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new nn;let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return y(this,null,function*(){try{if(!rn())throw new si("No browser detected.");if(e.error||e.error_description||e.error_code)throw new si(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ia("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new si("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ia("No code detected.");let{data:Ae,error:W}=yield this._exchangeCodeForSession(e.code);if(W)throw W;let ve=new URL(window.location.href);return ve.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ve.toString()),{data:{session:Ae.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:c,expires_in:u,expires_at:f,token_type:m}=e;if(!s||!u||!c||!m)throw new si("No session defined in URL");let v=Math.round(Date.now()/1e3),S=parseInt(u),b=v+S;f&&(b=parseInt(f));let T=b-v;T*1e3<=ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${S}s`);let N=b-S;v-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,b,v):v-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,b,v);let{data:j,error:z}=yield this._getUser(s);if(z)throw z;let ye={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:S,expires_at:b,refresh_token:c,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ye,redirectType:e.type},error:null}}catch(i){if(Z(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return y(this,null,function*(){let r=yield aa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return y(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return y(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){let{error:u}=yield this.admin.signOut(c,e);if(u&&!(U1(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(yield this._removeSession(),yield la(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=Q1(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),y(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return y(this,null,function*(){return yield this._useSession(r=>y(this,null,function*(){var i,o;try{let{data:{session:s},error:c}=r;if(c)throw c;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return y(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield li(this.storage,this.storageKey,!0));try{return yield ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(Z(c))return{data:null,error:c};throw c}})}getUserIdentities(){return y(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}linkIdentity(e){return y(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>y(this,null,function*(){var c,u,f,m,v;let{data:S,error:b}=s;if(b)throw b;let T=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return yield ne(this.fetch,"GET",T,{headers:this.headers,jwt:(v=(m=S.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})}));if(o)throw o;return rn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(Z(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i,o;let{data:s,error:c}=r;if(c)throw c;return yield ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(Z(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return y(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield eb(o=>y(this,null,function*(){return o>0&&(yield X1(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ln})}),(o,s)=>{let c=200*Math.pow(2,o);return s&&ld(s)&&Date.now()+c-i<ri})}catch(i){if(this._debug(r,"error",i),Z(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return y(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),rn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return y(this,null,function*(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield aa(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<sd;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${sd}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),ld(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return y(this,null,function*(){var r,i;if(!e)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new sa;let{data:s,error:c}=yield this._refreshAccessToken(e);if(c)throw c;if(!s.session)throw new nn;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let u={session:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(o,"error",s),Z(s)){let c={session:null,error:s};return ld(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return y(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],c=Array.from(this.stateChangeEmitters.values()).map(u=>y(this,null,function*(){try{yield u.callback(e,r)}catch(f){s.push(f)}}));if(yield Promise.all(c),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return y(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield $m(this.storage,this.storageKey,e)})}_removeSession(){return y(this,null,function*(){this._debug("#_removeSession()"),yield la(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return y(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),ri);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>y(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return y(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return y(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>y(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>y(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ri}ms, refresh threshold is ${od} ticks`),o<=od&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof ca)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return y(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!rn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>y(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return y(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return y(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,c]=yield li(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(Z(r))return{data:null,error:r};throw r}})}_enroll(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i,o;let{data:s,error:c}=r;if(c)return{data:null,error:c};let u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:m}=yield ne(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})}))}catch(r){if(Z(r))return{data:null,error:r};throw r}})}_verify(e){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:c,error:u}=yield ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})}))}catch(r){if(Z(r))return{data:null,error:r};throw r}}))})}_challenge(e){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(Z(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return y(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return y(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),s=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){return yield this._useSession(e=>y(this,null,function*(){var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:c}=ud(o.access_token),u=null;c.aal&&(u=c.aal);let f=u;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(S=>S.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");let v=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:v},error:null}}))}))})}fetchJwk(i){return y(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(u=>u.kid===e);if(o||(o=this.jwks.keys.find(u=>u.kid===e),o&&this.jwks_cached_at+j1>Date.now()))return o;let{data:s,error:c}=yield ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;if(!s.keys||s.keys.length===0)throw new or("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),o=s.keys.find(u=>u.kid===e),!o)throw new or("No matching signing key found in JWKS");return o})}getClaims(i){return y(this,arguments,function*(e,r={keys:[]}){try{let o=e;if(!o){let{data:N,error:j}=yield this.getSession();if(j||!N.session)return{data:null,error:j};o=N.session.access_token}let{header:s,payload:c,signature:u,raw:{header:f,payload:m}}=ud(o);if(nb(c.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:N}=yield this.getUser(o);if(N)throw N;return{data:{claims:c,header:s,signature:u},error:null}}let v=rb(s.alg),S=yield this.fetchJwk(s.kid,r),b=yield crypto.subtle.importKey("jwk",S,v,!0,["verify"]);if(!(yield crypto.subtle.verify(v,b,u,q1(`${f}.${m}`))))throw new or("Invalid JWT signature");return{data:{claims:c,header:s,signature:u},error:null}}catch(o){if(Z(o))return{data:null,error:o};throw o}})}}return n.nextInstanceID=0,n})();var HT=qm,Ym=HT;var md=class extends Ym{constructor(t){super(t)}};var $T=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},hd=class{constructor(t,e,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let c=P1(t),u=new URL(c);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);let f=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:T1,realtime:A1,auth:Object.assign(Object.assign({},k1),{storageKey:f}),global:D1},v=F1(r??{},m);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(S,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=v.auth)!==null&&s!==void 0?s:{},this.headers,v.global.fetch),this.fetch=O1(e,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new p1(new URL("rest/v1",u).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new Hs(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ea(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return $T(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:c,debug:u},f,m){let v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new md({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),f),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:c,debug:u,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Js(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var ub=(n,t,e)=>new hd(n,t,e);var Zm={production:!1,supabaseUrl:"https://zmucgxqnyzpzeawxoyxy.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InptdWNneHFueXpwemVhd3hveXh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIyNDUwODYsImV4cCI6MjA2NzgyMTA4Nn0.GPhhRuJPijeemNiy_UsTBKm-toCeU5_cXWyENOLB0Iw",socialProviders:{google:!0,facebook:!0}};var We=class n{supabase;currentUserSubject=new Oe(null);currentUser$=this.currentUserSubject.asObservable();constructor(){this.supabase=ub(Zm.supabaseUrl,Zm.supabaseKey),this.supabase.auth.onAuthStateChange((t,e)=>{this.currentUserSubject.next(e?.user??null)}),this.getCurrentUser()}signUp(t,e,r){return y(this,null,function*(){return yield this.supabase.auth.signUp({email:t,password:e,options:{data:r}})})}signIn(t,e){return y(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:t,password:e})})}signInWithGoogle(){return y(this,null,function*(){let{data:t,error:e}=yield this.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});return{data:t,error:e}})}signInWithFacebook(){return y(this,null,function*(){let{data:t,error:e}=yield this.supabase.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:`${window.location.origin}/dashboard`}});return{data:t,error:e}})}signOut(){return y(this,null,function*(){let{error:t}=yield this.supabase.auth.signOut();return this.currentUserSubject.next(null),{error:t}})}getCurrentUser(){return y(this,null,function*(){try{let{data:{user:t},error:e}=yield this.supabase.auth.getUser();if(e)throw e;return this.currentUserSubject.next(t),t}catch(t){return console.error("Error obteniendo usuario actual:",t),null}})}resetPassword(t){return y(this,null,function*(){let{error:e}=yield this.supabase.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});return{error:e}})}updatePassword(t){return y(this,null,function*(){let{error:e}=yield this.supabase.auth.updateUser({password:t});return{error:e}})}getProfile(t){return y(this,null,function*(){try{let e=t||this.currentUserSubject.value?.id;if(!e)throw new Error("No user ID provided");let{data:r,error:i}=yield this.supabase.from("profiles").select("*").eq("id",e).single();if(i)throw i;return r}catch(e){return console.error("Error obteniendo perfil:",e),null}})}updateProfile(t){return y(this,null,function*(){try{let e=this.currentUserSubject.value?.id;if(!e)throw new Error("No authenticated user");let{data:r,error:i}=yield this.supabase.from("profiles").update(G(P({},t),{updated_at:new Date().toISOString()})).eq("id",e).select().single();if(i)throw i;return r}catch(e){throw console.error("Error actualizando perfil:",e),e}})}uploadAvatar(t){return y(this,null,function*(){try{let e=this.currentUserSubject.value?.id;if(!e)throw new Error("No authenticated user");let r=t.name.split(".").pop(),o=`avatars/${`${e}-${Math.random()}.${r}`}`,{error:s}=yield this.supabase.storage.from("avatars").upload(o,t);if(s)throw s;let{data:c}=this.supabase.storage.from("avatars").getPublicUrl(o);return c.publicUrl}catch(e){return console.error("Error subiendo avatar:",e),null}})}getData(t){return y(this,null,function*(){try{let{data:e,error:r}=yield this.supabase.from(t).select("*").order("id",{ascending:!1});if(r)throw r;return e}catch(e){throw console.error("Error en getData:",e),e}})}insertData(t,e){return y(this,null,function*(){try{let{data:r,error:i}=yield this.supabase.from(t).insert(e).select();if(i)throw i;return r}catch(r){throw console.error("Error en insertData:",r),r}})}deleteData(t,e){return y(this,null,function*(){try{let{error:r}=yield this.supabase.from(t).delete().eq("id",e);if(r)throw r;return!0}catch(r){throw console.error("Error en deleteData:",r),r}})}updateData(t,e,r){return y(this,null,function*(){try{let{data:i,error:o}=yield this.supabase.from(t).update(r).eq("id",e).select();if(o)throw o;return i}catch(i){throw console.error("Error en updateData:",i),i}})}get client(){return this.supabase}isAuthenticated(){return this.currentUserSubject.value!==null}getCurrentUser$(){return this.currentUser$}static \u0275fac=function(e){return new(e||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var de=class n{constructor(t,e){this.supabaseService=t;this.router=e;this.loadUserFromStorage()}currentUser=null;loadUserFromStorage(){let t=localStorage.getItem("currentUser");if(t)try{this.currentUser=JSON.parse(t)}catch(e){console.error("Error parsing stored user:",e),localStorage.removeItem("currentUser")}}login(t){return y(this,null,function*(){try{console.log("Intentando login con:",t.username,"Tipo:",t.userType);let{data:e,error:r}=yield this.supabaseService.client.from("profiles").select("*").eq("username",t.username).eq("status",1);if(console.log("Respuesta de Supabase:",{users:e,error:r}),r)return console.error("Error de Supabase:",r),{success:!1,message:"Error al conectar con la base de datos"};if(!e||e.length===0)return{success:!1,message:"Usuario no encontrado o inactivo"};let i=e[0];if(i.password!==t.password)return{success:!1,message:"Contrase\xF1a incorrecta"};let o={id:i.id,username:i.username,full_name:i.full_name,password:i.password,status:i.status,id_perfil:i.id_perfil,created_at:i.created_at};if(t.userType&&o.id_perfil&&!this.validateUserTypeAccess(o,t.userType)){let s=Er(o.id_perfil);return{success:!1,message:`Su cuenta es de tipo "${s}". No puede acceder como "${t.userType}".`+(s==="admin"?" Los administradores pueden acceder como cualquier tipo.":"")}}return this.currentUser=o,localStorage.setItem("currentUser",JSON.stringify(o)),console.log("Login exitoso para:",o.username,"Perfil:",o.id_perfil),{success:!0,message:"Login exitoso",user:o,userType:t.userType||Er(o.id_perfil||2)}}catch(e){return console.error("Error en login:",e),{success:!1,message:"Error inesperado del servidor"}}})}register(t){return y(this,null,function*(){try{console.log("Intentando registrar usuario:",t.username,"Tipo:",t.userType);let{data:e,error:r}=yield this.supabaseService.client.from("profiles").select("username").eq("username",t.username);if(console.log("Verificaci\xF3n de usuario existente:",{existingUser:e,checkError:r}),r)return console.error("Error verificando usuario:",r),{success:!1,message:"Error al verificar usuario existente"};if(e&&e.length>0)return{success:!1,message:"El nombre de usuario ya existe"};let i=t.id_perfil;!i&&t.userType&&(i=t.userType==="reclutador"?3:2),i||(i=2);let o={username:t.username,full_name:t.full_name,password:t.password,status:1,id_perfil:i};console.log("Datos a insertar:",o);let{data:s,error:c}=yield this.supabaseService.client.from("profiles").insert(o).select();return console.log("Resultado de inserci\xF3n:",{newUser:s,insertError:c}),c?(console.error("Error insertando usuario:",c),{success:!1,message:"Error al crear usuario: "+c.message}):s&&s.length>0?(console.log("Usuario creado exitosamente:",s[0]),{success:!0,message:"Usuario creado exitosamente",user:{id:s[0].id,username:s[0].username,full_name:s[0].full_name,password:s[0].password,status:s[0].status,id_perfil:s[0].id_perfil,created_at:s[0].created_at}}):{success:!1,message:"Error al crear usuario - no se recibieron datos"}}catch(e){return console.error("Error en registro:",e),{success:!1,message:"Error inesperado del servidor"}}})}logout(){console.log("Cerrando sesi\xF3n"),this.currentUser=null,localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}getCurrentUser(){return this.currentUser}isAuthenticated(){return this.getCurrentUser()!==null}getCurrentUserProfile(){return this.getCurrentUser()?.id_perfil||null}hasProfile(t){return this.getCurrentUserProfile()===t}isAdmin(){return this.hasProfile(1)}validateUserTypeAccess(t,e){return t.id_perfil?lo(t.id_perfil,e):!1}getCurrentUserType(){let t=this.getCurrentUser();return!t||!t.id_perfil?null:Er(t.id_perfil)}canAccessAsRecruiter(){let t=this.getCurrentUser();return!t||!t.id_perfil?!1:lo(t.id_perfil,"reclutador")}canAccessAsCandidate(){let t=this.getCurrentUser();return!t||!t.id_perfil?!1:lo(t.id_perfil,"candidato")}isCandidate(){return this.hasProfile(2)}isRecruiter(){return this.hasProfile(3)}getUserProfileInfo(){let t=this.getCurrentUser();return!t||!t.id_perfil?{id:null,type:null}:{id:t.id_perfil,type:Er(t.id_perfil)}}debugUserInfo(){let t=this.getCurrentUser();console.log("=== DEBUG USER INFO ==="),console.log("Usuario:",t?.username),console.log("Perfil ID:",t?.id_perfil),console.log("Tipo:",this.getCurrentUserType()),console.log("Puede acceder como reclutador:",this.canAccessAsRecruiter()),console.log("Puede acceder como candidato:",this.canAccessAsCandidate()),console.log("Es admin:",this.isAdmin()),console.log("======================")}static \u0275fac=function(e){return new(e||n)(U(We),U(ce))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var ar=class n{constructor(t,e){this.supabaseService=t;this.authService=e}userMenuSubject=new Oe([]);userMenu$=this.userMenuSubject.asObservable();userPermissionsSubject=new Oe([]);userPermissions$=this.userPermissionsSubject.asObservable();loadUserMenu(){return y(this,null,function*(){let t=this.authService.getCurrentUser();if(!t?.id)return this.userMenuSubject.next([]),[];try{let{data:e,error:r}=yield this.supabaseService.client.rpc("get_user_menu",{p_user_id:t.id});if(r)return console.error("Error obteniendo men\xFA del usuario:",r),this.userMenuSubject.next([]),[];let i=this.buildMenuTree(e||[]);return this.userMenuSubject.next(i),i}catch(e){return console.error("Error en loadUserMenu:",e),this.userMenuSubject.next([]),[]}})}loadUserPermissions(){return y(this,null,function*(){let t=this.authService.getCurrentUser();if(!t?.id)return this.userPermissionsSubject.next([]),[];try{let{data:e,error:r}=yield this.supabaseService.client.from("v_permisos_usuario").select("*").eq("user_id",t.id).eq("granted",!0);if(r)return console.error("Error obteniendo permisos del usuario:",r),this.userPermissionsSubject.next([]),[];let i=e||[];return this.userPermissionsSubject.next(i),i}catch(e){return console.error("Error en loadUserPermissions:",e),this.userPermissionsSubject.next([]),[]}})}getCurrentUserMenu(){return y(this,null,function*(){return yield this.loadUserMenu()})}hasPermission(t,e){return y(this,null,function*(){let r=this.authService.getCurrentUser();if(!r?.id)return!1;try{let{data:i,error:o}=yield this.supabaseService.client.rpc("user_has_permission",{p_user_id:r.id,p_route:t,p_permission_code:e});return o?(console.error("Error verificando permiso:",o),!1):i===!0}catch(i){return console.error("Error en hasPermission:",i),!1}})}canAccessRoute(t){return y(this,null,function*(){return yield this.hasPermission(t,"view")})}hasAnyPermission(t,e){return y(this,null,function*(){for(let r of e)if(yield this.hasPermission(t,r))return!0;return!1})}getUserPermissions(){return y(this,null,function*(){return yield this.loadUserPermissions()})}buildMenuTree(t){let e=new Map,r=[];return t.forEach(i=>{let o={id_modulo:i.modulo_id||i.id_modulo,nombre:i.nombre,descripcion:i.descripcion,icono:i.icono,ruta:i.ruta,orden:i.orden,es_padre:i.es_padre,modulo_padre_id:i.modulo_padre_id,permisos:i.permisos||[],children:[],expanded:!1};e.set(o.id_modulo,o)}),e.forEach(i=>{if(i.modulo_padre_id===null)r.push(i);else{let o=e.get(i.modulo_padre_id);o&&(o.children||(o.children=[]),o.children.push(i))}}),this.sortMenuItems(r),r}sortMenuItems(t){t.sort((e,r)=>e.orden-r.orden),t.forEach(e=>{e.children&&e.children.length>0&&this.sortMenuItems(e.children)})}canView(t){return y(this,null,function*(){return yield this.hasPermission(t,"view")})}canCreate(t){return y(this,null,function*(){return yield this.hasPermission(t,"create")})}canEdit(t){return y(this,null,function*(){return yield this.hasPermission(t,"edit")})}canDelete(t){return y(this,null,function*(){return yield this.hasPermission(t,"delete")})}canExport(t){return y(this,null,function*(){return yield this.hasPermission(t,"export")})}canAdmin(t){return y(this,null,function*(){return yield this.hasPermission(t,"admin")})}clearUserData(){this.userMenuSubject.next([]),this.userPermissionsSubject.next([])}refreshUserData(){return y(this,null,function*(){yield Promise.all([this.loadUserMenu(),this.loadUserPermissions()])})}getUserMenu(){return this.userMenu$}getUserPermissionsObservable(){return this.userPermissions$}createDefaultMenu(){let t=[{id_modulo:1,nombre:"Dashboard",descripcion:"Panel principal",icono:"fas fa-tachometer-alt",ruta:"/dashboard",orden:1,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:2,nombre:"Usuarios",descripcion:"Gesti\xF3n de usuarios",icono:"fas fa-users",ruta:"/usuarios",orden:2,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:3,nombre:"Reportes",descripcion:"Sistema de reportes",icono:"fas fa-chart-bar",ruta:"/reportes",orden:3,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:4,nombre:"Configuraci\xF3n",descripcion:"Configuraci\xF3n del sistema",icono:"fas fa-cog",ruta:"/configuracion",orden:4,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1}];return this.userMenuSubject.next(t),t}static \u0275fac=function(e){return new(e||n)(U(We),U(de))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var wt=class n{constructor(t,e,r){this.authService=t;this.permissionsService=e;this.router=r}canActivate(t,e){return y(this,null,function*(){if(!this.authService.isAuthenticated())return console.log("Usuario no autenticado, redirigiendo a login"),this.router.navigate(["/login"]),!1;if(!this.authService.getCurrentUser())return console.log("No se pudo obtener el usuario actual"),this.router.navigate(["/login"]),!1;let i=e.url;console.log("\u{1F510} Verificando acceso a ruta:",i);let o=["/dashboard","/login","/register"],c=["/cv","/cv/mis-cvs","/cv/crear","/cv/editar","/cv/ver"].some(u=>i.startsWith(u));if(o.includes(i)||c)return console.log("\u2705 Ruta permitida sin verificaci\xF3n de permisos:",i),!0;try{return(yield this.permissionsService.canAccessRoute(i))?(console.log("\u2705 Acceso autorizado a:",i),!0):(console.log("\u274C Usuario sin permisos para acceder a:",i),this.router.navigate(["/dashboard"],{queryParams:{error:"no_permissions",attempted_route:i}}),!1)}catch(u){return console.error("\u{1F4A5} Error verificando permisos:",u),console.log("\u26A0\uFE0F Permitiendo acceso por error en verificaci\xF3n"),!0}})}static \u0275fac=function(e){return new(e||n)(U(de),U(ar),U(ce))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})},da=class n{constructor(t,e,r){this.authService=t;this.permissionsService=e;this.router=r}canActivate(t,e){return y(this,null,function*(){if(!this.authService.isAuthenticated())return this.router.navigate(["/login"]),!1;let r=t.data.permissions,i=e.url;if(!r||r.length===0)return yield this.permissionsService.canAccessRoute(i);try{return(yield this.permissionsService.hasAnyPermission(i,r))?!0:(console.log("Permisos insuficientes para:",i,"Requeridos:",r),this.router.navigate(["/dashboard"],{queryParams:{error:"insufficient_permissions",required:r.join(","),attempted_route:i}}),!1)}catch(o){return console.error("Error en PermissionGuard:",o),!1}})}static \u0275fac=function(e){return new(e||n)(U(de),U(ar),U(ce))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})},vn=class n{constructor(t,e){this.authService=t;this.router=e}canActivate(t,e){if(!this.authService.isAuthenticated())return this.router.navigate(["/login"]),!1;let r=this.authService.getCurrentUser(),i=t.data.profiles;if(!i||i.length===0)return!0;if(!r)return console.log("Usuario no encontrado"),this.router.navigate(["/dashboard"],{queryParams:{error:"user_not_found"}}),!1;let o=r.id_perfil;return o==null?(console.log("Usuario sin perfil asignado"),this.router.navigate(["/dashboard"],{queryParams:{error:"no_profile"}}),!1):i.includes(o)?!0:(console.log("Perfil insuficiente:",o,"Requeridos:",i),this.router.navigate(["/dashboard"],{queryParams:{error:"insufficient_role",required:i.join(",")}}),!1)}static \u0275fac=function(e){return new(e||n)(U(de),U(ce))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var xb=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(R(pn),R(yt))};static \u0275dir=ge({type:n})}return n})(),va=(()=>{class n extends xb{static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=ge({type:n,features:[pt]})}return n})(),wo=new $(""),zT={provide:wo,useExisting:Ot(()=>_a),multi:!0},_a=(()=>{class n extends va{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xt([zT]),pt]})}return n})(),GT={provide:wo,useExisting:Ot(()=>Ee),multi:!0};function WT(){let n=Wt()?Wt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var qT=new $(""),Ee=(()=>{class n extends xb{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!WT())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(R(pn),R(yt),R(qT,8))};static \u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&E("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Xt([GT]),pt]})}return n})();function YT(n){return n==null||wb(n)===0}function wb(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Co=new $(""),Cb=new $("");function ZT(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function QT(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function KT(n){return YT(n.value)?{required:!0}:null}function JT(n){return t=>{let e=t.value?.length??wb(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function pb(n){return null}function Eb(n){return n!=null}function Sb(n){return Wr(n)?oe(n):n}function Mb(n){let t={};return n.forEach(e=>{t=e!=null?P(P({},t),e):t}),Object.keys(t).length===0?null:t}function Ib(n,t){return t.map(e=>e(n))}function XT(n){return!n.validate}function Db(n){return n.map(t=>XT(t)?t:e=>t.validate(e))}function e3(n){if(!n)return null;let t=n.filter(Eb);return t.length==0?null:function(e){return Mb(Ib(e,t))}}function eh(n){return n!=null?e3(Db(n)):null}function t3(n){if(!n)return null;let t=n.filter(Eb);return t.length==0?null:function(e){let r=Ib(e,t).map(Sb);return hu(r).pipe(se(Mb))}}function th(n){return n!=null?t3(Db(n)):null}function fb(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function n3(n){return n._rawValidators}function r3(n){return n._rawAsyncValidators}function Km(n){return n?Array.isArray(n)?n:[n]:[]}function vd(n,t){return Array.isArray(n)?n.includes(t):n===t}function mb(n,t){let e=Km(t);return Km(n).forEach(i=>{vd(e,i)||e.push(i)}),e}function hb(n,t){return Km(t).filter(e=>!vd(n,e))}var _d=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=eh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=th(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},xo=class extends _d{name;get formDirective(){return null}get path(){return null}},ga=class extends _d{_parent=null;name=null;valueAccessor=null},yd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},i3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},HB=G(P({},i3),{"[class.ng-submitted]":"isSubmitted"}),Te=(()=>{class n extends yd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(R(ga,2))};static \u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ft("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[pt]})}return n})(),qe=(()=>{class n extends yd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(R(xo,10))};static \u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ft("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[pt]})}return n})();var ua="VALID",gd="INVALID",yo="PENDING",pa="DISABLED",Mr=class{},bd=class extends Mr{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ma=class extends Mr{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},ha=class extends Mr{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},bo=class extends Mr{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Jm=class extends Mr{source;constructor(t){super(),this.source=t}},Xm=class extends Mr{source;constructor(t){super(),this.source=t}};function Tb(n){return(Cd(n)?n.validators:n)||null}function o3(n){return Array.isArray(n)?eh(n):n||null}function kb(n,t){return(Cd(t)?t.asyncValidators:n)||null}function s3(n){return Array.isArray(n)?th(n):n||null}function Cd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function a3(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new H(1e3,"");if(!r[e])throw new H(1001,"")}function l3(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new H(1002,"")})}var xd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return er(this.statusReactive)}set status(t){er(()=>this.statusReactive.set(t))}_status=as(()=>this.statusReactive());statusReactive=Ko(void 0);get valid(){return this.status===ua}get invalid(){return this.status===gd}get pending(){return this.status==yo}get disabled(){return this.status===pa}get enabled(){return this.status!==pa}errors;get pristine(){return er(this.pristineReactive)}set pristine(t){er(()=>this.pristineReactive.set(t))}_pristine=as(()=>this.pristineReactive());pristineReactive=Ko(!0);get dirty(){return!this.pristine}get touched(){return er(this.touchedReactive)}set touched(t){er(()=>this.touchedReactive.set(t))}_touched=as(()=>this.touchedReactive());touchedReactive=Ko(!1);get untouched(){return!this.touched}_events=new Ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(mb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(mb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(hb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(hb(t,this._rawAsyncValidators))}hasValidator(t){return vd(this._rawValidators,t)}hasAsyncValidator(t){return vd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(G(P({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new ha(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new ha(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(G(P({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new ma(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new ma(!0,r))}markAsPending(t={}){this.status=yo;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(G(P({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=pa,this.errors=null,this._forEachChild(i=>{i.disable(G(P({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bd(this.value,r)),this._events.next(new bo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(P({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ua,this._forEachChild(r=>{r.enable(G(P({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(G(P({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ua||this.status===yo)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bd(this.value,e)),this._events.next(new bo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(G(P({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pa:ua}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=yo,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=Sb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new bo(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?pa:this.errors?gd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yo)?yo:this._anyControlsHaveStatus(gd)?gd:ua}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new ma(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ha(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Cd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=o3(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=s3(this._rawAsyncValidators)}},wd=class extends xd{constructor(t,e,r){super(Tb(e),kb(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){l3(this,!0,t),Object.keys(t).forEach(r=>{a3(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ed=new $("",{providedIn:"root",factory:()=>Sd}),Sd="always";function c3(n,t){return[...t.path,n]}function Ab(n,t,e=Sd){Ob(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),u3(n,t),f3(n,t),p3(n,t),d3(n,t)}function gb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function d3(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Ob(n,t){let e=n3(n);t.validator!==null?n.setValidators(fb(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=r3(n);t.asyncValidator!==null?n.setAsyncValidators(fb(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();gb(t._rawValidators,i),gb(t._rawAsyncValidators,i)}function u3(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Pb(n,t)})}function p3(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Pb(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Pb(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function f3(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function m3(n,t){n==null,Ob(n,t)}function h3(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function g3(n){return Object.getPrototypeOf(n.constructor)===va}function v3(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _3(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===Ee?e=o:g3(o)?r=o:i=o}),i||r||e||null}var y3={provide:xo,useExisting:Ot(()=>je)},fa=Promise.resolve(),je=(()=>{class n extends xo{callSetDisabledState;get submitted(){return er(this.submittedReactive)}_submitted=as(()=>this.submittedReactive());submittedReactive=Ko(!1);_directives=new Set;form;ngSubmit=new He;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new wd({},eh(e),th(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){fa.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Ab(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){fa.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){fa.then(()=>{let r=this._findContainer(e.path),i=new wd({});m3(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){fa.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){fa.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),v3(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Jm(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new Xm(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||n)(R(Co,10),R(Cb,10),R(Ed,8))};static \u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&E("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Xt([y3]),pt]})}return n})();function vb(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function _b(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var b3=class extends xd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(Tb(e),kb(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(_b(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){vb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){vb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){_b(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var x3={provide:ga,useExisting:Ot(()=>Ie)},yb=Promise.resolve(),Ie=(()=>{class n extends ga{_changeDetectorRef;callSetDisabledState;control=new b3;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new He;constructor(e,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_3(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),h3(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ab(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){yb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&vr(r);yb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?c3(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(R(xo,9),R(Co,10),R(Cb,10),R(wo,10),R(gr,8),R(Ed,8))};static \u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Xt([x3]),pt,Jn]})}return n})();var Ye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),w3={provide:wo,useExisting:Ot(()=>pi),multi:!0},pi=(()=>{class n extends va{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&E("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xt([w3]),pt]})}return n})();var C3=new $("");var E3={provide:wo,useExisting:Ot(()=>Ze),multi:!0};function Fb(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function S3(n){return n.split(":")[0]}var Ze=(()=>{class n extends va{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=Fb(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=S3(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xt([E3]),pt]})}return n})(),et=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Fb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(R(yt),R(pn),R(Ze,9))};static \u0275dir=ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),M3={provide:wo,useExisting:Ot(()=>Rb),multi:!0};function bb(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function I3(n){return n.split(":")[0]}var Rb=(()=>{class n extends va{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],f=this._getOptionValue(u.value);i.push(f)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let f=this._getOptionValue(u.value);i.push(f)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=I3(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xt([M3]),pt]})}return n})(),tt=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(bb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(bb(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(R(yt),R(pn),R(Rb,9))};static \u0275dir=ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function D3(n){return typeof n=="number"?n:parseInt(n,10)}function Nb(n){return typeof n=="number"?n:parseFloat(n)}var Md=(()=>{class n{_validator=pb;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pb,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,features:[Jn]})}return n})(),T3={provide:Co,useExisting:Ot(()=>ya),multi:!0},ya=(()=>{class n extends Md{max;inputName="max";normalizeInput=e=>Nb(e);createValidator=e=>QT(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Je("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Xt([T3]),pt]})}return n})(),k3={provide:Co,useExisting:Ot(()=>fi),multi:!0},fi=(()=>{class n extends Md{min;inputName="min";normalizeInput=e=>Nb(e);createValidator=e=>ZT(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Je("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Xt([k3]),pt]})}return n})(),A3={provide:Co,useExisting:Ot(()=>Ue),multi:!0};var Ue=(()=>{class n extends Md{required;inputName="required";normalizeInput=vr;createValidator=e=>KT;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Je("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Xt([A3]),pt]})}return n})();var O3={provide:Co,useExisting:Ot(()=>nh),multi:!0},nh=(()=>{class n extends Md{maxlength;inputName="maxlength";normalizeInput=e=>D3(e);createValidator=e=>JT(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Je("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Xt([O3]),pt]})}return n})();var Vb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({})}return n})();var Lb=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ed,useValue:e.callSetDisabledState??Sd}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({imports:[Vb]})}return n})(),jb=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:C3,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ed,useValue:e.callSetDisabledState??Sd}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({imports:[Vb]})}return n})();function P3(n,t){n&1&&(I(),a(0,"svg",27),_(1,"path",44)(2,"path",45),l())}function F3(n,t){n&1&&(I(),a(0,"svg",27),_(1,"path",46),l())}function R3(n,t){if(n&1&&(a(0,"div",47)(1,"div",48),I(),a(2,"svg",49),_(3,"path",50),l(),F(),a(4,"div",51)(5,"p",52),d(6),l()()()()),n&2){let e=g();p(6),M(e.errorMessage)}}function N3(n,t){n&1&&(a(0,"span",53),I(),a(1,"svg",54),_(2,"path",55),l()())}var Id=class n{constructor(t,e){this.authService=t;this.router=e;console.log("LoginComponent inicializado con acceso dual")}userType="candidato";credentials={username:"",password:""};loading=!1;errorMessage="";showPassword=!1;selectUserType(t){this.userType=t,this.errorMessage="",this.credentials={username:"",password:""},console.log("Tipo de usuario seleccionado:",t)}onLogin(){return y(this,null,function*(){if(console.log("onLogin ejecutado para tipo:",this.userType),!this.credentials.username||!this.credentials.password){this.errorMessage="Por favor complete todos los campos",console.log("Error: Campos vac\xEDos");return}this.loading=!0,this.errorMessage="";try{console.log("Intentando login como:",this.userType,"con usuario:",this.credentials.username);let t=G(P({},this.credentials),{userType:this.userType}),e=yield this.authService.login(t);e.success&&e.user?(console.log("Login exitoso, redirigiendo..."),this.redirectUserBasedOnType(e.user)):(console.log("Login fall\xF3:",e.message),this.errorMessage=this.getErrorMessage(e.message))}catch(t){console.error("Error inesperado en login:",t),this.errorMessage="Error inesperado. Intente nuevamente."}finally{this.loading=!1}})}redirectUserBasedOnType(t){if(!t.id_perfil){console.log("Error: Usuario sin perfil, redirigiendo a dashboard"),this.router.navigate(["/dashboard"]);return}let e=Er(t.id_perfil),r=lo(t.id_perfil,this.userType)?this.userType:e,i=Ky(r);console.log("Redirigiendo usuario:",{username:t.username,perfil:t.id_perfil,tipoSeleccionado:this.userType,tipoReal:e,tipoRedirect:r,url:i}),this.router.navigate([i])}getErrorMessage(t){let e=rr(this.userType);return t.toLowerCase().includes("credenciales")||t.toLowerCase().includes("incorrect")||t.toLowerCase().includes("incorrecta")?`Credenciales incorrectas para acceso de ${this.userType}`:t.toLowerCase().includes("usuario")||t.toLowerCase().includes("user")?`Usuario no encontrado o no disponible para acceso de ${this.userType}`:t}togglePasswordVisibility(){this.showPassword=!this.showPassword,console.log("Password visibility toggled:",this.showPassword)}goToRegister(t){let e=t||this.userType;console.log("goToRegister ejecutado para tipo:",e);try{this.router.navigate(["/register"],{queryParams:{type:e}}),console.log("Navegaci\xF3n a /register iniciada con tipo:",e)}catch(r){console.error("Error al navegar a register:",r)}}getCurrentTypeConfig(){return rr(this.userType)}getThemeClass(){return rr(this.userType).themeClass}getThemeColor(){return rr(this.userType).color}testNavigation(){console.log("Test navigation button clicked!"),alert(`\xA1El bot\xF3n funciona! Navegando a register como ${this.userType}...`),this.goToRegister()}static \u0275fac=function(e){return new(e||n)(R(de),R(ce))};static \u0275cmp=le({type:n,selectors:[["app-login"]],standalone:!1,decls:72,vars:20,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","to-indigo-100","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"mx-auto","h-12","w-12","bg-indigo-600","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"mt-6","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"bg-white","rounded-lg","shadow-xl","p-8"],[1,"flex","mb-6","bg-gray-100","rounded-lg","p-1"],["type","button",3,"click"],[1,"flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"mb-6","p-4","rounded-lg",3,"ngClass"],[1,"flex","items-start"],[3,"ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-3","mt-0.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm",3,"ngClass"],[1,"font-medium"],[1,"text-xs","mt-1"],[1,"space-y-6",3,"ngSubmit"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","relative"],["id","username","name","username","type","text","autocomplete","username","required","",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","name","password","autocomplete","current-password","required","","placeholder","Ingresa tu contrase\xF1a",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm","pr-10",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center",3,"click"],["class","h-5 w-5 text-gray-400","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"disabled"],["class","absolute left-0 inset-y-0 flex items-center pl-3",4,"ngIf"],[1,"flex","items-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"text-center","mt-6","space-y-3"],[1,"border-t","border-gray-200","pt-4"],[1,"text-sm","text-gray-600","mb-3"],[1,"flex","space-x-3"],["type","button",1,"flex-1","py-2","px-4","text-sm","font-medium","text-blue-700","bg-blue-50","border","border-blue-200","rounded-md","hover:bg-blue-100","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["type","button",1,"flex-1","py-2","px-4","text-sm","font-medium","text-green-700","bg-green-50","border","border-green-200","rounded-md","hover:bg-green-100","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-indigo-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),I(),a(4,"svg",4),_(5,"path",5),l()(),F(),a(6,"h2",6),d(7," Iniciar Sesi\xF3n "),l(),a(8,"p",7),d(9," Selecciona tu tipo de cuenta "),l()(),a(10,"div",8)(11,"div",9)(12,"button",10),E("click",function(){return r.selectUserType("reclutador")}),a(13,"span",11),I(),a(14,"svg",12),_(15,"path",13),l(),d(16," Reclutador "),l()(),F(),a(17,"button",10),E("click",function(){return r.selectUserType("candidato")}),a(18,"span",11),I(),a(19,"svg",12),_(20,"path",5),l(),d(21," Candidato "),l()()(),F(),a(22,"div",14)(23,"div",15)(24,"div",16),I(),a(25,"svg",17),_(26,"path",18),l()(),F(),a(27,"div",19)(28,"p",20),d(29),l(),a(30,"p",21),d(31),l()()()(),a(32,"form",22),E("ngSubmit",function(){return r.onLogin()}),a(33,"div")(34,"label",23),d(35," Nombre de Usuario "),l(),a(36,"div",24)(37,"input",25),A("ngModelChange",function(o){return O(r.credentials.username,o)||(r.credentials.username=o),o}),l(),a(38,"div",26),I(),a(39,"svg",27),_(40,"path",5),l()()()(),F(),a(41,"div")(42,"label",28),d(43," Contrase\xF1a "),l(),a(44,"div",24)(45,"input",29),A("ngModelChange",function(o){return O(r.credentials.password,o)||(r.credentials.password=o),o}),l(),a(46,"button",30),E("click",function(){return r.togglePasswordVisibility()}),x(47,P3,3,0,"svg",31)(48,F3,2,0,"svg",31),l()()(),x(49,R3,7,1,"div",32),a(50,"div")(51,"button",33),x(52,N3,3,0,"span",34),a(53,"span",35),I(),a(54,"svg",12),_(55,"path",36),l(),d(56),l()()()(),F(),a(57,"div",37)(58,"div",38)(59,"p",39),d(60,"\xBFNo tienes cuenta?"),l(),a(61,"div",40)(62,"button",41),E("click",function(){return r.goToRegister("reclutador")}),a(63,"span",11),I(),a(64,"svg",42),_(65,"path",13),l(),d(66," Registro Empresas "),l()(),F(),a(67,"button",43),E("click",function(){return r.goToRegister("candidato")}),a(68,"span",11),I(),a(69,"svg",42),_(70,"path",5),l(),d(71," Registro Candidatos "),l()()()()()()()()),e&2&&(p(12),he(r.userType==="reclutador"?"flex-1 py-2 px-4 text-sm font-medium text-white bg-indigo-600 rounded-md shadow-sm transition-all duration-200":"flex-1 py-2 px-4 text-sm font-medium text-gray-700 hover:text-gray-900 transition-all duration-200"),p(5),he(r.userType==="candidato"?"flex-1 py-2 px-4 text-sm font-medium text-white bg-indigo-600 rounded-md shadow-sm transition-all duration-200":"flex-1 py-2 px-4 text-sm font-medium text-gray-700 hover:text-gray-900 transition-all duration-200"),p(5),h("ngClass","bg-"+r.getThemeColor()+"-50 border border-"+r.getThemeColor()+"-200"),p(2),h("ngClass","text-"+r.getThemeColor()+"-600"),p(3),h("ngClass","text-"+r.getThemeColor()+"-800"),p(2),M(r.getCurrentTypeConfig().title),p(2),M(r.getCurrentTypeConfig().description),p(6),k("ngModel",r.credentials.username),h("placeholder",r.userType==="reclutador"?"Usuario del reclutador":"Usuario del candidato"),p(8),h("type",r.showPassword?"text":"password"),k("ngModel",r.credentials.password),p(2),h("ngIf",!r.showPassword),p(),h("ngIf",r.showPassword),p(),h("ngIf",r.errorMessage),p(2),h("disabled",r.loading),p(),h("ngIf",r.loading),p(3),Je("d",r.getCurrentTypeConfig().icon),p(),D(" ",r.loading?"Iniciando sesi\xF3n...":"Ingresar como "+(r.userType==="reclutador"?"Reclutador":"Candidato")," "))},dependencies:[st,pe,Ye,Ee,Te,qe,Ue,Ie,je],styles:['.user-type-selector[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.user-type-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out;position:relative;overflow:hidden}.user-type-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.user-type-button[_ngcontent-%COMP%]:hover:before{left:100%}.user-type-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.user-info-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromTop .4s ease-out}@keyframes _ngcontent-%COMP%_slideInFromTop{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.login-form[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.form-input[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.form-input[_ngcontent-%COMP%]:focus{transform:translateY(-1px);box-shadow:0 4px 12px #6366f126}.login-button[_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:all .3s ease-in-out}.login-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6366f14d}.login-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.login-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff1a;transform:translate(-50%,-50%);transition:width .6s,height .6s}.login-button[_ngcontent-%COMP%]:active:before{width:300px;height:300px}.register-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out;position:relative}.register-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.recruiter-theme[_ngcontent-%COMP%]   .user-info-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff}.recruiter-theme[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.recruiter-theme[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1e40af)}.candidate-theme[_ngcontent-%COMP%]   .user-info-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.candidate-theme[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.candidate-theme[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857)}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shakeError .5s ease-in-out}@keyframes _ngcontent-%COMP%_shakeError{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}.icon-hover[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.icon-hover[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#4f46e5}@media (max-width: 640px){.user-type-button[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem}.user-type-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;margin-right:.25rem}.register-button[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}}.form-input[_ngcontent-%COMP%]:focus, .user-type-button[_ngcontent-%COMP%]:focus, .login-button[_ngcontent-%COMP%]:focus, .register-button[_ngcontent-%COMP%]:focus{outline:2px solid #4f46e5;outline-offset:2px}.login-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:none}.theme-transition[_ngcontent-%COMP%]{transition:all .4s cubic-bezier(.4,0,.2,1)}.gradient-bg[_ngcontent-%COMP%]{background:linear-gradient(-45deg,#3b82f6,#8b5cf6,#06b6d4,#10b981);background-size:400% 400%;animation:_ngcontent-%COMP%_gradientShift 15s ease infinite}@keyframes _ngcontent-%COMP%_gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.parallax-container[_ngcontent-%COMP%]{transform-style:preserve-3d;perspective:1000px}.custom-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f,0 0 0 1px #ffffff0d}.custom-shadow-hover[_ngcontent-%COMP%]:hover{box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a,0 0 0 1px #ffffff0d}']})};function V3(n,t){n&1&&(I(),a(0,"svg",28),_(1,"path",48)(2,"path",49),l())}function L3(n,t){n&1&&(I(),a(0,"svg",28),_(1,"path",50),l())}function j3(n,t){n&1&&(I(),a(0,"svg",28),_(1,"path",48)(2,"path",49),l())}function U3(n,t){n&1&&(I(),a(0,"svg",28),_(1,"path",50),l())}function B3(n,t){if(n&1&&(a(0,"div",51)(1,"div",52),I(),a(2,"svg",53),_(3,"path",54),l(),F(),a(4,"div",55)(5,"p",56),d(6),l()()()()),n&2){let e=g();p(6),M(e.errorMessage)}}function H3(n,t){if(n&1&&(a(0,"div",57)(1,"div",52),I(),a(2,"svg",58),_(3,"path",59),l(),F(),a(4,"div",55)(5,"p",60),d(6),l()()()()),n&2){let e=g();p(6),M(e.successMessage)}}function $3(n,t){if(n&1&&(a(0,"span",61),I(),a(1,"svg",62),_(2,"path",63),l()()),n&2){let e=g();p(),h("ngClass","animate-spin h-5 w-5 text-"+e.getThemeColor()+"-300")}}var Dd=class n{constructor(t,e,r){this.authService=t;this.router=e;this.route=r}userType="candidato";user={username:"",full_name:"",password:"",status:1,id_perfil:2};confirmPassword="";loading=!1;errorMessage="";successMessage="";showPassword=!1;showConfirmPassword=!1;ngOnInit(){this.route.queryParams.subscribe(t=>{t.type&&(t.type==="reclutador"||t.type==="candidato")&&this.selectUserType(t.type)})}selectUserType(t){this.userType=t,this.user.id_perfil=t==="reclutador"?3:2,this.user.userType=t,this.errorMessage="",this.successMessage="",console.log("Tipo de registro seleccionado:",t,"Perfil ID:",this.user.id_perfil)}onRegister(){return y(this,null,function*(){if(console.log("onRegister llamado para tipo:",this.userType),console.log("Datos del formulario:",this.user),this.errorMessage="",this.successMessage="",!!this.validateForm()){this.loading=!0,console.log("Iniciando proceso de registro...");try{let t=yield this.authService.register(this.user);console.log("Resultado del registro:",t),t.success?(this.successMessage=`Usuario ${this.userType} creado exitosamente. `,t.user&&(this.successMessage+="Redirigiendo al login...",setTimeout(()=>{this.router.navigate(["/login"])},2e3))):(console.log("Registro fall\xF3:",t.message),this.errorMessage=this.getErrorMessage(t.message))}catch(t){console.error("Error inesperado en registro:",t),this.errorMessage="Error inesperado. Intente nuevamente."}finally{this.loading=!1}}})}validateForm(){return!this.user.username||!this.user.full_name||!this.user.password||!this.confirmPassword?(this.errorMessage="Por favor complete todos los campos",!1):this.user.password!==this.confirmPassword?(this.errorMessage="Las contrase\xF1as no coinciden",!1):this.user.password.length<6?(this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres",!1):this.user.username.length<3?(this.errorMessage="El nombre de usuario debe tener al menos 3 caracteres",!1):this.user.username.includes(" ")?(this.errorMessage="El nombre de usuario no puede contener espacios",!1):/^[a-zA-Z0-9_.-]+$/.test(this.user.username)?this.userType==="reclutador"&&!this.user.full_name.includes(" ")?(this.errorMessage="Para reclutadores, ingrese nombre y apellido completos",!1):!0:(this.errorMessage="El nombre de usuario solo puede contener letras, n\xFAmeros, guiones, puntos y guiones bajos",!1)}getErrorMessage(t){let e=this.userType==="reclutador"?"reclutador":"candidato";return t.toLowerCase().includes("already exists")||t.toLowerCase().includes("ya existe")?`Ya existe una cuenta ${e} con este nombre de usuario`:t.toLowerCase().includes("email")?`Error con el email para el registro de ${e}`:t}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}goToLogin(){this.router.navigate(["/login"])}getCurrentTypeConfig(){return rr(this.userType)}getThemeClass(){return rr(this.userType).themeClass}getThemeColor(){return rr(this.userType).color}getNamePlaceholder(){return this.userType==="reclutador"?"Nombre completo del reclutador":"Nombre completo"}getUsernamePlaceholder(){return this.userType==="reclutador"?"Usuario empresarial":"Nombre de usuario"}static \u0275fac=function(e){return new(e||n)(R(de),R(ce),R(bt))};static \u0275cmp=le({type:n,selectors:[["app-register"]],standalone:!1,decls:80,vars:28,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","to-indigo-100","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"mx-auto","h-12","w-12","bg-indigo-600","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"],[1,"mt-6","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"bg-white","rounded-lg","shadow-xl","p-8"],[1,"flex","mb-6","bg-gray-100","rounded-lg","p-1"],["type","button",3,"click"],[1,"flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"mb-6","p-4","rounded-lg",3,"ngClass"],[1,"flex","items-start"],[3,"ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-3","mt-0.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm",3,"ngClass"],[1,"font-medium"],[1,"text-xs","mt-1"],[1,"space-y-6",3,"ngSubmit"],["for","full_name",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","relative"],["id","full_name","name","full_name","type","text","autocomplete","name","required","",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],["id","username","name","username","type","text","autocomplete","username","required","",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 7a2 2 0 012 2m-2-2a2 2 0 00-2 2m2-2v2.5M9 9l3 3m0 0l3-3M6 12h.01M18 12h.01"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","name","password","autocomplete","new-password","required","","placeholder","M\xEDnimo 6 caracteres",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm","pr-10",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center",3,"click"],["class","h-5 w-5 text-gray-400","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","name","confirmPassword","autocomplete","new-password","required","","placeholder","Repite tu contrase\xF1a",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm","pr-10",3,"ngModelChange","type","ngModel"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],["class","bg-green-50 border border-green-200 rounded-md p-4",4,"ngIf"],["type","submit",3,"disabled","ngClass"],["class","absolute left-0 inset-y-0 flex items-center pl-3",4,"ngIf"],[1,"flex","items-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"text-center","mt-6"],[1,"border-t","border-gray-200","pt-4"],[1,"text-sm","text-gray-600"],["type","button",1,"font-medium","text-indigo-600","hover:text-indigo-500","transition-colors","duration-200","ml-1",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"bg-green-50","border","border-green-200","rounded-md","p-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","text-green-700"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),I(),a(4,"svg",4),_(5,"path",5),l()(),F(),a(6,"h2",6),d(7," Crear Cuenta "),l(),a(8,"p",7),d(9," \xDAnete a nuestra plataforma de empleo "),l()(),a(10,"div",8)(11,"div",9)(12,"button",10),E("click",function(){return r.selectUserType("candidato")}),a(13,"span",11),I(),a(14,"svg",12),_(15,"path",13),l(),d(16," Candidato "),l()(),F(),a(17,"button",10),E("click",function(){return r.selectUserType("reclutador")}),a(18,"span",11),I(),a(19,"svg",12),_(20,"path",14),l(),d(21," Reclutador "),l()()(),F(),a(22,"div",15)(23,"div",16)(24,"div",17),I(),a(25,"svg",18),_(26,"path",19),l()(),F(),a(27,"div",20)(28,"p",21),d(29),l(),a(30,"p",22),d(31),l()()()(),a(32,"form",23),E("ngSubmit",function(){return r.onRegister()}),a(33,"div")(34,"label",24),d(35," Nombre Completo "),l(),a(36,"div",25)(37,"input",26),A("ngModelChange",function(o){return O(r.user.full_name,o)||(r.user.full_name=o),o}),l(),a(38,"div",27),I(),a(39,"svg",28),_(40,"path",13),l()()()(),F(),a(41,"div")(42,"label",29),d(43," Nombre de Usuario "),l(),a(44,"div",25)(45,"input",30),A("ngModelChange",function(o){return O(r.user.username,o)||(r.user.username=o),o}),l(),a(46,"div",27),I(),a(47,"svg",28),_(48,"path",31),l()()()(),F(),a(49,"div")(50,"label",32),d(51," Contrase\xF1a "),l(),a(52,"div",25)(53,"input",33),A("ngModelChange",function(o){return O(r.user.password,o)||(r.user.password=o),o}),l(),a(54,"button",34),E("click",function(){return r.togglePasswordVisibility()}),x(55,V3,3,0,"svg",35)(56,L3,2,0,"svg",35),l()()(),a(57,"div")(58,"label",36),d(59," Confirmar Contrase\xF1a "),l(),a(60,"div",25)(61,"input",37),A("ngModelChange",function(o){return O(r.confirmPassword,o)||(r.confirmPassword=o),o}),l(),a(62,"button",34),E("click",function(){return r.toggleConfirmPasswordVisibility()}),x(63,j3,3,0,"svg",35)(64,U3,2,0,"svg",35),l()()(),x(65,B3,7,1,"div",38)(66,H3,7,1,"div",39),a(67,"div")(68,"button",40),x(69,$3,3,1,"span",41),a(70,"span",42),I(),a(71,"svg",12),_(72,"path",43),l(),d(73),l()()()(),F(),a(74,"div",44)(75,"div",45)(76,"p",46),d(77," \xBFYa tienes cuenta? "),a(78,"button",47),E("click",function(){return r.goToLogin()}),d(79," Iniciar Sesi\xF3n "),l()()()()()()()),e&2&&(p(12),he(r.userType==="candidato"?"flex-1 py-2 px-4 text-sm font-medium text-white bg-green-600 rounded-md shadow-sm transition-all duration-200":"flex-1 py-2 px-4 text-sm font-medium text-gray-700 hover:text-gray-900 transition-all duration-200"),p(5),he(r.userType==="reclutador"?"flex-1 py-2 px-4 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm transition-all duration-200":"flex-1 py-2 px-4 text-sm font-medium text-gray-700 hover:text-gray-900 transition-all duration-200"),p(5),h("ngClass","bg-"+r.getThemeColor()+"-50 border border-"+r.getThemeColor()+"-200"),p(2),h("ngClass","text-"+r.getThemeColor()+"-600"),p(3),h("ngClass","text-"+r.getThemeColor()+"-800"),p(2),M(r.getCurrentTypeConfig().title),p(2),M(r.getCurrentTypeConfig().description),p(6),k("ngModel",r.user.full_name),h("placeholder",r.getNamePlaceholder()),p(8),k("ngModel",r.user.username),h("placeholder",r.getUsernamePlaceholder()),p(8),h("type",r.showPassword?"text":"password"),k("ngModel",r.user.password),p(2),h("ngIf",!r.showPassword),p(),h("ngIf",r.showPassword),p(5),h("type",r.showConfirmPassword?"text":"password"),k("ngModel",r.confirmPassword),p(2),h("ngIf",!r.showConfirmPassword),p(),h("ngIf",r.showConfirmPassword),p(),h("ngIf",r.errorMessage),p(),h("ngIf",r.successMessage),p(2),h("disabled",r.loading)("ngClass","group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-"+r.getThemeColor()+"-600 hover:bg-"+r.getThemeColor()+"-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-"+r.getThemeColor()+"-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"),p(),h("ngIf",r.loading),p(3),Je("d",r.getCurrentTypeConfig().icon),p(),D(" ",r.loading?"Creando cuenta...":"Registrarse como "+(r.userType==="reclutador"?"Reclutador":"Candidato")," "))},dependencies:[st,pe,Ye,Ee,Te,qe,Ue,Ie,je],encapsulation:2})};function z3(n,t){n&1&&(a(0,"div",6),_(1,"div",7),l())}function G3(n,t){if(n&1&&(a(0,"div")(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),I(),a(5,"svg",12),_(6,"path",13),l()(),F(),a(7,"div",14)(8,"h2",15),d(9),l(),a(10,"p",16),d(11,"Has iniciado sesi\xF3n exitosamente en el sistema Simplifika"),l()()()()(),a(12,"div",17)(13,"div",18)(14,"div",19)(15,"div",10)(16,"div",11),I(),a(17,"svg",20),_(18,"path",21),l()(),F(),a(19,"div",22)(20,"dl")(21,"dt",23),d(22,"Usuarios Totales"),l(),a(23,"dd",24),d(24,"1,247"),l()()()()()(),a(25,"div",18)(26,"div",19)(27,"div",10)(28,"div",11),I(),a(29,"svg",25),_(30,"path",26),l()(),F(),a(31,"div",22)(32,"dl")(33,"dt",23),d(34,"Proyectos Activos"),l(),a(35,"dd",24),d(36,"23"),l()()()()()(),a(37,"div",18)(38,"div",19)(39,"div",10)(40,"div",11),I(),a(41,"svg",27),_(42,"path",28),l()(),F(),a(43,"div",22)(44,"dl")(45,"dt",23),d(46,"Tareas Pendientes"),l(),a(47,"dd",24),d(48,"47"),l()()()()()(),a(49,"div",18)(50,"div",19)(51,"div",10)(52,"div",11),I(),a(53,"svg",29),_(54,"path",30),l()(),F(),a(55,"div",22)(56,"dl")(57,"dt",23),d(58,"Reportes"),l(),a(59,"dd",24),d(60,"156"),l()()()()()()(),a(61,"div",31)(62,"div",32)(63,"h3",33),d(64," Informaci\xF3n del Usuario "),l(),a(65,"dl",34)(66,"div")(67,"dt",35),d(68,"Nombre Completo"),l(),a(69,"dd",36),d(70),l()(),a(71,"div")(72,"dt",35),d(73,"Nombre de Usuario"),l(),a(74,"dd",36),d(75),l()(),a(76,"div")(77,"dt",35),d(78,"ID de Usuario"),l(),a(79,"dd",36),d(80),l()(),a(81,"div")(82,"dt",35),d(83,"Estado"),l(),a(84,"dd",37)(85,"span",38),I(),a(86,"svg",39),_(87,"circle",40),l(),d(88," Activo "),l()()(),F(),a(89,"div")(90,"dt",35),d(91,"Fecha de Registro"),l(),a(92,"dd",36),d(93),Le(94,"date"),l()(),a(95,"div")(96,"dt",35),d(97,"Perfil"),l(),a(98,"dd",36),d(99),l()()()()()()),n&2){let e=g();p(9),D("\xA1Bienvenido, ",e.currentUser==null?null:e.currentUser.full_name,"!"),p(61),M(e.currentUser==null?null:e.currentUser.full_name),p(5),M(e.currentUser==null?null:e.currentUser.username),p(5),M(e.currentUser==null?null:e.currentUser.id),p(13),D(" ",ot(94,6,e.currentUser==null?null:e.currentUser.created_at,"dd/MM/yyyy HH:mm")," "),p(6),D(" ID Perfil: ",(e.currentUser==null?null:e.currentUser.id_perfil)||"No asignado"," ")}}var Td=class n{constructor(t,e,r){this.authService=t;this.permissionsService=e;this.router=r}currentUser=null;menuItems=[];isSidebarCollapsed=!1;loading=!0;error="";currentRoute="";expandedModules=new Set;stats={totalUsers:0,activeProjects:0,pendingTasks:0,totalReports:0};subscriptions=new De;ngOnInit(){return y(this,null,function*(){console.log("Dashboard inicializado");try{if(this.currentUser=this.authService.getCurrentUser(),console.log("Usuario actual:",this.currentUser),!this.currentUser){console.log("No hay usuario autenticado, redirigiendo a login"),this.router.navigate(["/login"]);return}yield this.loadUserMenu(),yield this.loadDashboardStats(),this.subscriptions.add(this.router.events.pipe(nt(t=>t instanceof at)).subscribe(t=>{this.currentRoute=t.urlAfterRedirects,console.log("Ruta actual:",this.currentRoute)})),this.currentRoute=this.router.url}catch(t){console.error("Error inicializando dashboard:",t),this.error="Error cargando el dashboard"}finally{this.loading=!1}})}ngOnDestroy(){this.subscriptions.unsubscribe()}loadUserMenu(){return y(this,null,function*(){try{console.log("Cargando men\xFA del usuario..."),this.menuItems=yield this.permissionsService.loadUserMenu(),(!this.menuItems||this.menuItems.length===0)&&(console.log("No se obtuvo men\xFA de la BD, usando men\xFA por defecto"),this.menuItems=this.createDefaultMenu()),this.updateExpandedModules(),console.log("Men\xFA cargado:",this.menuItems)}catch(t){console.error("Error cargando men\xFA:",t),this.menuItems=this.createDefaultMenu(),this.updateExpandedModules()}})}createDefaultMenu(){return[{id_modulo:1,nombre:"Dashboard",descripcion:"Panel principal",icono:"fas fa-tachometer-alt",ruta:"/dashboard",orden:1,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:2,nombre:"Usuarios",descripcion:"Gesti\xF3n de usuarios",icono:"fas fa-users",ruta:"/usuarios",orden:2,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:3,nombre:"Reportes",descripcion:"Sistema de reportes",icono:"fas fa-chart-bar",ruta:"/reportes",orden:3,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:4,nombre:"Configuraci\xF3n",descripcion:"Configuraci\xF3n del sistema",icono:"fas fa-cog",ruta:"/configuracion",orden:4,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1}]}updateExpandedModules(){this.menuItems.forEach(t=>{t.expanded===void 0&&(t.expanded=!1),t.children&&t.children.forEach(e=>{e.expanded===void 0&&(e.expanded=!1)})})}loadDashboardStats(){return y(this,null,function*(){try{this.stats={totalUsers:1247,activeProjects:23,pendingTasks:47,totalReports:156}}catch(t){console.error("Error cargando estad\xEDsticas:",t)}})}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed,console.log("Sidebar colapsado:",this.isSidebarCollapsed)}toggleModule(t){this.expandedModules.has(t)?this.expandedModules.delete(t):this.expandedModules.add(t);let e=this.menuItems.find(r=>r.id_modulo===t);e&&(e.expanded=this.expandedModules.has(t),console.log(`M\xF3dulo ${e.nombre} ${e.expanded?"expandido":"colapsado"}`))}isModuleExpanded(t){return this.expandedModules.has(t)}logout(){console.log("Cerrando sesi\xF3n desde dashboard"),this.permissionsService.clearUserData(),this.currentUser=null,this.menuItems=[],this.authService.logout()}getFilteredMenuItems(){return this.menuItems.filter(t=>!t.modulo_padre_id)}getFilteredChildren(t){return t.children?t.children:this.menuItems.filter(e=>e.modulo_padre_id===t.id_modulo)}isRouteActive(t){return!t||t==="#"?!1:this.currentRoute===t||this.currentRoute.startsWith(t+"/")}navigateTo(t){t&&t!=="#"&&(console.log("Navegando a:",t),this.router.navigate([t]))}getUserInitials(){if(!this.currentUser?.full_name)return"U";let t=this.currentUser.full_name.split(" ");return t.length>=2?(t[0].charAt(0)+t[1].charAt(0)).toUpperCase():this.currentUser.full_name.charAt(0).toUpperCase()}getUserRole(){switch(this.currentUser?.id_perfil){case 1:return"Administrador";case 2:return"Usuario";case 3:return"Supervisor";case 4:return"Invitado";default:return"Usuario"}}getPageTitle(){switch(this.currentRoute){case"/dashboard":return"Dashboard";case"/usuarios":return"Gesti\xF3n de Usuarios";case"/reportes":return"Reportes";case"/configuracion":return"Configuraci\xF3n";default:return"Dashboard"}}isDashboardHome(){return this.currentRoute==="/dashboard"}isUsersPage(){return this.currentRoute==="/usuarios"}formatDate(t){return t?new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A"}getCurrentTime(){return new Date().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}refreshDashboard(){return y(this,null,function*(){this.loading=!0;try{yield this.loadUserMenu(),yield this.loadDashboardStats(),yield this.permissionsService.loadUserPermissions()}catch(t){console.error("Error refrescando dashboard:",t)}finally{this.loading=!1}})}static \u0275fac=function(e){return new(e||n)(R(de),R(ar),R(ce))};static \u0275cmp=le({type:n,selectors:[["app-dashboard"]],standalone:!1,decls:6,vars:2,consts:[[1,"min-h-screen","bg-gray-50","flex"],[1,"flex-1","flex","flex-col","overflow-hidden"],[1,"flex-1","overflow-auto"],[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],["class","flex justify-center items-center h-64",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600"],[1,"mb-8"],[1,"bg-gradient-to-r","from-indigo-500","to-purple-600","rounded-lg","shadow-lg","p-6","text-white"],[1,"flex","items-center"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-12","w-12","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"],[1,"ml-4"],[1,"text-2xl","font-bold"],[1,"text-indigo-100"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","overflow-hidden","shadow","rounded-lg"],[1,"p-5"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m3 5.197H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-5","w-0","flex-1"],[1,"text-sm","font-medium","text-gray-500","truncate"],[1,"text-lg","font-medium","text-gray-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"bg-white","shadow","rounded-lg"],[1,"px-4","py-5","sm:p-6"],[1,"text-lg","leading-6","font-medium","text-gray-900","mb-4"],[1,"grid","grid-cols-1","gap-x-4","gap-y-6","sm:grid-cols-2"],[1,"text-sm","font-medium","text-gray-500"],[1,"mt-1","text-sm","text-gray-900"],[1,"mt-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"main",2)(3,"div",3),x(4,z3,2,0,"div",4)(5,G3,100,9,"div",5),l()()()()),e&2&&(p(4),h("ngIf",r.loading),p(),h("ngIf",!r.loading))},dependencies:[pe,nr],encapsulation:2})};var W3=(n,t,e,r)=>({"bg-purple-100 text-purple-800":n,"bg-blue-100 text-blue-800":t,"bg-yellow-100 text-yellow-800":e,"bg-gray-100 text-gray-800":r}),q3=(n,t)=>({"bg-green-100 text-green-800":n,"bg-red-100 text-red-800":t});function Y3(n,t){if(n&1){let e=V();a(0,"div",38)(1,"div",39),I(),a(2,"svg",40),_(3,"path",41),l(),F(),a(4,"div",42)(5,"p",43),d(6),l()(),a(7,"div",44)(8,"button",45),E("click",function(){w(e);let i=g();return C(i.error="")}),I(),a(9,"svg",46),_(10,"path",47),l()()()()()}if(n&2){let e=g();p(6),M(e.error)}}function Z3(n,t){n&1&&(a(0,"div",48)(1,"div",49),_(2,"div",50),a(3,"p",51),d(4,"Cargando usuarios..."),l()()())}function Q3(n,t){if(n&1){let e=V();a(0,"button",83),E("click",function(){w(e);let i=g().$implicit,o=g(2);return C(o.deactivateUser(i))}),I(),a(1,"svg",79),_(2,"path",84),l()()}}function K3(n,t){if(n&1){let e=V();a(0,"button",85),E("click",function(){w(e);let i=g().$implicit,o=g(2);return C(o.reactivateUser(i))}),I(),a(1,"svg",79),_(2,"path",86),l()()}}function J3(n,t){if(n&1){let e=V();a(0,"tr",64)(1,"td",65)(2,"div",66)(3,"div",67)(4,"div")(5,"span",68),d(6),l()()(),a(7,"div",69)(8,"div",70),d(9),l(),a(10,"div",56),d(11),l()()()(),a(12,"td",65)(13,"div",71),d(14),l()(),a(15,"td",65)(16,"span",72),d(17),l()(),a(18,"td",65)(19,"span",72),I(),a(20,"svg",73),_(21,"circle",74),l(),d(22),l()(),F(),a(23,"td",75),d(24),l(),a(25,"td",76)(26,"div",77)(27,"button",78),E("click",function(){let i=w(e).$implicit,o=g(2);return C(o.openEditModal(i))}),I(),a(28,"svg",79),_(29,"path",80),l()(),x(30,Q3,3,0,"button",81)(31,K3,3,0,"button",82),l()()()}if(n&2){let e=t.$implicit,r=g(2);p(4),he("h-10 w-10 rounded-full flex items-center justify-center "+r.getAvatarColor(e)),p(2),D(" ",r.getUserInitials(e)," "),p(3),M(e.username),p(2),D("ID: ",e.id,""),p(3),M(e.full_name),p(2),h("ngClass",Zl(13,W3,e.id_perfil===1,e.id_perfil===2,e.id_perfil===3,e.id_perfil===4)),p(),D(" ",r.getPerfilName(e.id_perfil)," "),p(2),h("ngClass",Zi(18,q3,e.status===1,e.status===0)),p(3),D(" ",r.getStatusText(e.status)," "),p(2),D(" ",r.formatDate(e.created_at)," "),p(6),h("ngIf",e.status===1),p(),h("ngIf",e.status===0)}}function X3(n,t){if(n&1){let e=V();a(0,"button",95),E("click",function(){w(e);let i=g(3);return C(i.openCreateModal())}),d(1," Crear primer usuario "),l()}}function ek(n,t){if(n&1){let e=V();a(0,"button",96),E("click",function(){w(e);let i=g(3);return C(i.clearFilters())}),d(1," Limpiar filtros "),l()}}function tk(n,t){if(n&1&&(a(0,"div",87),I(),a(1,"svg",88),_(2,"path",89),l(),F(),a(3,"h3",90),d(4,"No hay usuarios"),l(),a(5,"p",91),d(6),l(),a(7,"div",92),x(8,X3,2,0,"button",93)(9,ek,2,0,"button",94),l()()),n&2){let e=g(2);p(6),D(" ",e.usuarios.length===0?"No se encontraron usuarios en la base de datos.":"No se encontraron usuarios con los filtros aplicados."," "),p(2),h("ngIf",e.usuarios.length===0),p(),h("ngIf",e.usuarios.length>0)}}function nk(n,t){if(n&1&&(a(0,"div",52)(1,"div",53)(2,"div",54)(3,"h3",55),d(4),l(),a(5,"span",56),d(6),l()()(),a(7,"div",57)(8,"table",58)(9,"thead",59)(10,"tr")(11,"th",60),d(12," Usuario "),l(),a(13,"th",60),d(14," Nombre Completo "),l(),a(15,"th",60),d(16," Perfil "),l(),a(17,"th",60),d(18," Estado "),l(),a(19,"th",60),d(20," Fecha Creaci\xF3n "),l(),a(21,"th",60),d(22," Acciones "),l()()(),a(23,"tbody",61),x(24,J3,32,21,"tr",62),l()(),x(25,tk,10,3,"div",63),l()()),n&2){let e=g();p(4),ke(" Lista de Usuarios (",e.filteredUsuarios.length," de ",e.usuarios.length,") "),p(2),ke(" Mostrando ",e.filteredUsuarios.length," resultado",e.filteredUsuarios.length!==1?"s":""," "),p(18),h("ngForOf",e.filteredUsuarios)("ngForTrackBy",e.trackByUserId),p(),h("ngIf",e.filteredUsuarios.length===0&&!e.loading)}}function rk(n,t){n&1&&(a(0,"span",112),d(1,"*"),l())}function ik(n,t){if(n&1&&(a(0,"div",130)(1,"div",39),I(),a(2,"svg",40),_(3,"path",41),l(),F(),a(4,"div",42)(5,"p",43),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.error)}}function ok(n,t){n&1&&(I(),a(0,"svg",131),_(1,"path",8),l())}function sk(n,t){if(n&1){let e=V();a(0,"div",97)(1,"div",98)(2,"div",99),E("click",function(){w(e);let i=g();return C(i.closeModal())}),l(),a(3,"span",100),d(4,"\u200B"),l(),a(5,"div",101)(6,"div",102)(7,"div",103)(8,"div",104),I(),a(9,"svg",105),_(10,"path",106),l()(),F(),a(11,"div",107)(12,"h3",55),d(13),l(),a(14,"div",108)(15,"p",56),d(16),l()()()()(),a(17,"div",109)(18,"form",110)(19,"div")(20,"label",111),d(21," Nombre de Usuario "),a(22,"span",112),d(23,"*"),l()(),a(24,"input",113),A("ngModelChange",function(i){w(e);let o=g();return O(o.userForm.username,i)||(o.userForm.username=i),C(i)}),l(),a(25,"p",114),d(26," Solo letras, n\xFAmeros, puntos, guiones y guiones bajos "),l()(),a(27,"div")(28,"label",115),d(29," Nombre Completo "),a(30,"span",112),d(31,"*"),l()(),a(32,"input",116),A("ngModelChange",function(i){w(e);let o=g();return O(o.userForm.full_name,i)||(o.userForm.full_name=i),C(i)}),l()(),a(33,"div")(34,"label",117),d(35),x(36,rk,2,0,"span",118),l(),a(37,"input",119),A("ngModelChange",function(i){w(e);let o=g();return O(o.userForm.password,i)||(o.userForm.password=i),C(i)}),l(),a(38,"p",114),d(39),l()(),a(40,"div")(41,"label",120),d(42," Perfil de Usuario "),l(),a(43,"select",121),A("ngModelChange",function(i){w(e);let o=g();return O(o.userForm.id_perfil,i)||(o.userForm.id_perfil=i),C(i)}),a(44,"option",28),d(45,"Administrador"),l(),a(46,"option",29),d(47,"Usuario"),l(),a(48,"option",30),d(49,"Supervisor"),l(),a(50,"option",31),d(51,"Invitado"),l()()(),a(52,"div")(53,"label",122),d(54," Estado "),l(),a(55,"select",123),A("ngModelChange",function(i){w(e);let o=g();return O(o.userForm.status,i)||(o.userForm.status=i),C(i)}),a(56,"option",28),d(57,"Activo"),l(),a(58,"option",124),d(59,"Inactivo"),l()()()(),x(60,ik,7,1,"div",125),l(),a(61,"div",126)(62,"button",127),E("click",function(){w(e);let i=g();return C(i.saveUser())}),x(63,ok,2,0,"svg",128),d(64),l(),a(65,"button",129),E("click",function(){w(e);let i=g();return C(i.closeModal())}),d(66," Cancelar "),l()()()()()}if(n&2){let e=g();p(13),D(" ",e.modalMode==="create"?"Crear Nuevo Usuario":"Editar Usuario"," "),p(3),D(" ",e.modalMode==="create"?"Complete los datos para crear un nuevo usuario.":"Modifique los datos del usuario seleccionado."," "),p(8),k("ngModel",e.userForm.username),p(8),k("ngModel",e.userForm.full_name),p(3),D(" ",e.modalMode==="create"?"Contrase\xF1a":"Nueva Contrase\xF1a (opcional)"," "),p(),h("ngIf",e.modalMode==="create"),p(),k("ngModel",e.userForm.password),h("placeholder",e.modalMode==="create"?"M\xEDnimo 6 caracteres":"Dejar vac\xEDo para no cambiar"),p(2),D(" ",e.modalMode==="create"?"M\xEDnimo 6 caracteres":"Dejar vac\xEDo si no desea cambiar la contrase\xF1a"," "),p(4),k("ngModel",e.userForm.id_perfil),p(12),k("ngModel",e.userForm.status),p(5),h("ngIf",e.error),p(2),h("disabled",!e.userForm.username||!e.userForm.full_name||e.modalMode==="create"&&!e.userForm.password),p(),h("ngIf",e.loading),p(),D(" ",e.modalMode==="create"?"Crear Usuario":"Guardar Cambios"," ")}}var kd=class n{constructor(t,e){this.supabaseService=t;this.authService=e}usuarios=[];filteredUsuarios=[];loading=!0;error="";searchTerm="";showModal=!1;modalMode="create";selectedUser=null;userForm={username:"",full_name:"",password:"",status:1,id_perfil:2};statusFilter="all";perfilFilter="all";ngOnInit(){return y(this,null,function*(){console.log("UsuariosComponent inicializado"),yield this.loadUsuarios()})}loadUsuarios(){return y(this,null,function*(){this.loading=!0,this.error="";try{console.log("Cargando usuarios desde la base de datos...");let t=yield this.supabaseService.getData("profiles");console.log("Datos recibidos:",t),this.usuarios=t||[],this.filteredUsuarios=[...this.usuarios],this.applyFilters(),console.log("Usuarios cargados exitosamente:",this.usuarios.length)}catch(t){console.error("Error cargando usuarios:",t),this.error="Error al cargar los usuarios. Verifique la conexi\xF3n a la base de datos."}finally{this.loading=!1}})}applyFilters(){let t=[...this.usuarios];if(this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(r=>r.username?.toLowerCase().includes(e)||r.full_name?.toLowerCase().includes(e))}this.statusFilter==="active"?t=t.filter(e=>e.status===1):this.statusFilter==="inactive"&&(t=t.filter(e=>e.status===0)),this.perfilFilter!=="all"&&(t=t.filter(e=>e.id_perfil===parseInt(this.perfilFilter))),this.filteredUsuarios=t,console.log("Usuarios filtrados:",this.filteredUsuarios.length)}onSearch(){this.applyFilters()}onFilterChange(){this.applyFilters()}openCreateModal(){console.log("Abriendo modal para crear usuario"),this.modalMode="create",this.userForm={username:"",full_name:"",password:"",status:1,id_perfil:2},this.error="",this.showModal=!0}openEditModal(t){console.log("Abriendo modal para editar usuario:",t.username),this.modalMode="edit",this.selectedUser=t,this.userForm=G(P({},t),{password:""}),this.error="",this.showModal=!0}closeModal(){console.log("Cerrando modal"),this.showModal=!1,this.selectedUser=null,this.error=""}saveUser(){return y(this,null,function*(){try{if(console.log("Guardando usuario:",this.userForm),this.error="",!this.userForm.username||!this.userForm.full_name){this.error="Nombre de usuario y nombre completo son requeridos";return}if(this.userForm.username.length<3){this.error="El nombre de usuario debe tener al menos 3 caracteres";return}if(!/^[a-zA-Z0-9_.-]+$/.test(this.userForm.username)){this.error="El nombre de usuario solo puede contener letras, n\xFAmeros, guiones, puntos y guiones bajos";return}if(this.modalMode==="create"){if(!this.userForm.password){this.error="La contrase\xF1a es requerida para crear un usuario";return}if(this.userForm.password.length<6){this.error="La contrase\xF1a debe tener al menos 6 caracteres";return}console.log("Verificando si el username existe...");let e=yield this.supabaseService.client.from("profiles").select("username").eq("username",this.userForm.username);if(e.data&&e.data.length>0){this.error="El nombre de usuario ya existe";return}let r={username:this.userForm.username,full_name:this.userForm.full_name,password:this.userForm.password,status:this.userForm.status,id_perfil:this.userForm.id_perfil};console.log("Creando usuario:",r),yield this.supabaseService.insertData("profiles",r),console.log("Usuario creado exitosamente")}else{let e={username:this.userForm.username,full_name:this.userForm.full_name,status:this.userForm.status,id_perfil:this.userForm.id_perfil};if(this.userForm.password&&this.userForm.password.length>0){if(this.userForm.password.length<6){this.error="La nueva contrase\xF1a debe tener al menos 6 caracteres";return}e.password=this.userForm.password}console.log("Actualizando usuario:",e),yield this.supabaseService.updateData("profiles",this.selectedUser.id.toString(),e),console.log("Usuario actualizado exitosamente")}yield this.loadUsuarios(),this.closeModal()}catch(t){console.error("Error guardando usuario:",t),this.error="Error al guardar el usuario. Intente nuevamente."}})}deactivateUser(t){return y(this,null,function*(){let e=`\xBFEst\xE1 seguro de desactivar al usuario "${t.username}"?`;if(confirm(e))try{console.log("Desactivando usuario:",t.username),yield this.supabaseService.updateData("profiles",t.id.toString(),{status:0}),yield this.loadUsuarios(),console.log("Usuario desactivado exitosamente")}catch(r){console.error("Error desactivando usuario:",r),this.error="Error al desactivar el usuario",setTimeout(()=>this.error="",5e3)}})}reactivateUser(t){return y(this,null,function*(){let e=`\xBFEst\xE1 seguro de reactivar al usuario "${t.username}"?`;if(confirm(e))try{console.log("Reactivando usuario:",t.username),yield this.supabaseService.updateData("profiles",t.id.toString(),{status:1}),yield this.loadUsuarios(),console.log("Usuario reactivado exitosamente")}catch(r){console.error("Error reactivando usuario:",r),this.error="Error al reactivar el usuario",setTimeout(()=>this.error="",5e3)}})}getPerfilName(t){switch(t){case 1:return"Administrador";case 2:return"Usuario";case 3:return"Supervisor";case 4:return"Invitado";default:return"Sin asignar"}}getStatusText(t){return t===1?"Activo":"Inactivo"}getStatusColor(t){return t===1?"green":"red"}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formateando fecha:",e),"Fecha inv\xE1lida"}}getUserInitials(t){if(!t.full_name)return"U";let e=t.full_name.split(" ");return e.length>=2?(e[0].charAt(0)+e[1].charAt(0)).toUpperCase():t.full_name.charAt(0).toUpperCase()}getAvatarColor(t){let e=["bg-indigo-600","bg-green-600","bg-yellow-600","bg-red-600","bg-purple-600","bg-pink-600","bg-blue-600"];if(!t.full_name)return"bg-gray-600";let r=t.full_name.charCodeAt(0);return e[r%e.length]}refreshUsers(){return y(this,null,function*(){console.log("Refrescando lista de usuarios"),yield this.loadUsuarios()})}clearFilters(){console.log("Limpiando filtros"),this.searchTerm="",this.statusFilter="all",this.perfilFilter="all",this.applyFilters()}trackByUserId(t,e){return e.id||t}static \u0275fac=function(e){return new(e||n)(R(We),R(de))};static \u0275cmp=le({type:n,selectors:[["app-usuarios"]],standalone:!1,decls:58,vars:8,consts:[[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"flex","space-x-2"],["title","Refrescar lista",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"bg-white","rounded-lg","shadow","mb-6","p-6"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"md:col-span-2"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","search","type","text","placeholder","Buscar por nombre o usuario...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["for","statusFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","statusFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],["value","all"],["value","active"],["value","inactive"],["for","perfilFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","perfilFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"mt-4","flex","justify-end"],[1,"text-sm","text-indigo-600","hover:text-indigo-800",3,"click"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-6",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-white shadow overflow-hidden sm:rounded-md",4,"ngIf"],["class","fixed inset-0 z-50 overflow-y-auto",4,"ngIf"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-6"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"ml-auto","pl-3"],[1,"text-red-400","hover:text-red-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"bg-white","shadow","overflow-hidden","sm:rounded-md"],[1,"px-4","py-5","sm:px-6","border-b","border-gray-200"],[1,"flex","justify-between","items-center"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors duration-150",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-12",4,"ngIf"],[1,"hover:bg-gray-50","transition-colors","duration-150"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"h-10","w-10","flex-shrink-0"],[1,"text-sm","font-medium","text-white"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-900"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","justify-end","space-x-2"],["title","Editar usuario",1,"text-indigo-600","hover:text-indigo-900","p-1","rounded","hover:bg-indigo-50","transition-colors","duration-150",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["class","text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors duration-150","title","Desactivar usuario",3,"click",4,"ngIf"],["class","text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors duration-150","title","Reactivar usuario",3,"click",4,"ngIf"],["title","Desactivar usuario",1,"text-red-600","hover:text-red-900","p-1","rounded","hover:bg-red-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636"],["title","Reactivar usuario",1,"text-green-600","hover:text-green-900","p-1","rounded","hover:bg-green-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6"],["class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-sm","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mx-auto","flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-indigo-100","sm:mx-0","sm:h-10","sm:w-10"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","w-full"],[1,"mt-2"],[1,"bg-white","px-4","pb-4","sm:px-6"],[1,"space-y-4"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["id","username","type","text","name","username","required","","placeholder","Ej: juan.perez",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mt-1","text-xs","text-gray-500"],["for","fullName",1,"block","text-sm","font-medium","text-gray-700"],["id","fullName","type","text","name","fullName","required","","placeholder","Ej: Juan P\xE9rez Garc\xEDa",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["class","text-red-500",4,"ngIf"],["id","password","type","password","name","password",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["for","perfil",1,"block","text-sm","font-medium","text-gray-700"],["id","perfil","name","perfil",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","status",1,"block","text-sm","font-medium","text-gray-700"],["id","status","name","status",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","0"],["class","mt-4 bg-red-50 border border-red-200 rounded-md p-3",4,"ngIf"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-indigo-600","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:ml-3","sm:w-auto","sm:text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],[1,"mt-4","bg-red-50","border","border-red-200","rounded-md","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),d(5,"Gesti\xF3n de Usuarios"),l(),a(6,"p",4),d(7),l()(),a(8,"div",5)(9,"button",6),E("click",function(){return r.refreshUsers()}),I(),a(10,"svg",7),_(11,"path",8),l(),d(12," Refrescar "),l(),F(),a(13,"button",9),E("click",function(){return r.openCreateModal()}),I(),a(14,"svg",10),_(15,"path",11),l(),d(16," Nuevo Usuario "),l()()()(),F(),a(17,"div",12)(18,"div",13)(19,"div",14)(20,"label",15),d(21," Buscar "),l(),a(22,"div",16)(23,"input",17),A("ngModelChange",function(o){return O(r.searchTerm,o)||(r.searchTerm=o),o}),E("input",function(){return r.onSearch()}),l(),a(24,"div",18),I(),a(25,"svg",19),_(26,"path",20),l()()()(),F(),a(27,"div")(28,"label",21),d(29," Estado "),l(),a(30,"select",22),A("ngModelChange",function(o){return O(r.statusFilter,o)||(r.statusFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(31,"option",23),d(32,"Todos"),l(),a(33,"option",24),d(34,"Activos"),l(),a(35,"option",25),d(36,"Inactivos"),l()()(),a(37,"div")(38,"label",26),d(39," Perfil "),l(),a(40,"select",27),A("ngModelChange",function(o){return O(r.perfilFilter,o)||(r.perfilFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(41,"option",23),d(42,"Todos"),l(),a(43,"option",28),d(44,"Administrador"),l(),a(45,"option",29),d(46,"Usuario"),l(),a(47,"option",30),d(48,"Supervisor"),l(),a(49,"option",31),d(50,"Invitado"),l()()()(),a(51,"div",32)(52,"button",33),E("click",function(){return r.clearFilters()}),d(53," Limpiar filtros "),l()()(),x(54,Y3,11,1,"div",34)(55,Z3,5,0,"div",35)(56,nk,26,7,"div",36),l(),x(57,sk,67,15,"div",37)),e&2&&(p(7),D(" Administra los usuarios del sistema - Total: ",r.usuarios.length," "),p(16),k("ngModel",r.searchTerm),p(7),k("ngModel",r.statusFilter),p(10),k("ngModel",r.perfilFilter),p(14),h("ngIf",r.error),p(),h("ngIf",r.loading),p(),h("ngIf",!r.loading),p(),h("ngIf",r.showModal))},dependencies:[st,Ce,pe,Ye,et,tt,Ee,Ze,Te,qe,Ue,Ie,je],encapsulation:2})};function ak(n,t){if(n&1){let e=V();a(0,"div",112)(1,"div",113)(2,"a",114),E("click",function(){w(e);let i=g();return i.scrollToSection("inicio"),C(i.toggleMobileMenu())}),d(3,"Inicio"),l(),a(4,"a",114),E("click",function(){w(e);let i=g();return i.scrollToSection("servicios"),C(i.toggleMobileMenu())}),d(5,"Servicios"),l(),a(6,"a",114),E("click",function(){w(e);let i=g();return i.scrollToSection("nosotros"),C(i.toggleMobileMenu())}),d(7,"Nosotros"),l(),a(8,"a",114),E("click",function(){w(e);let i=g();return i.scrollToSection("planes"),C(i.toggleMobileMenu())}),d(9,"Planes"),l(),a(10,"a",114),E("click",function(){w(e);let i=g();return i.scrollToSection("contacto"),C(i.toggleMobileMenu())}),d(11,"Contacto"),l()()()}}function lk(n,t){if(n&1&&(a(0,"li"),_(1,"i",121),d(2),l()),n&2){let e=t.$implicit;p(2),D("",e," ")}}function ck(n,t){if(n&1){let e=V();a(0,"div",115)(1,"div",116)(2,"div",117),_(3,"i"),l(),a(4,"h3",118),d(5),l(),a(6,"p",43),d(7),l(),a(8,"ul",119),x(9,lk,3,1,"li",100),l(),a(10,"button",120),E("click",function(){let i=w(e).$implicit,o=g();return o.showMoreInfo(i),C(o.trackEvent("service_info","services",i.title))}),d(11," M\xE1s informaci\xF3n \u2192 "),l()()()}if(n&2){let e=t.$implicit,r=t.index;bf("animation-delay",r*200,"ms"),p(3),he(e.icon+" text-white text-2xl"),p(2),M(e.title),p(2),M(e.description),p(2),h("ngForOf",e.features)}}function dk(n,t){n&1&&(a(0,"span"),_(1,"br"),l())}function uk(n,t){if(n&1){let e=V();a(0,"a",122),E("click",function(){let i=w(e).$implicit,o=g();return C(o.callPhone(i))}),d(1),x(2,dk,2,0,"span",123),l()}if(n&2){let e=t.$implicit,r=t.last;p(),D(" ",e,""),p(),h("ngIf",!r)}}function pk(n,t){n&1&&(a(0,"span"),_(1,"br"),l())}function fk(n,t){if(n&1){let e=V();a(0,"a",122),E("click",function(){let i=w(e).$implicit,o=g();return C(o.sendEmail(i))}),d(1),x(2,pk,2,0,"span",123),l()}if(n&2){let e=t.$implicit,r=t.last;p(),D(" ",e,""),p(),h("ngIf",!r)}}function mk(n,t){if(n&1&&(a(0,"option",124),d(1),l()),n&2){let e=t.$implicit;h("value",e.title),p(),M(e.title)}}function hk(n,t){n&1&&(a(0,"div",125),_(1,"div")(2,"div")(3,"div")(4,"div"),l())}function gk(n,t){n&1&&_(0,"i",126)}function vk(n,t){if(n&1){let e=V();a(0,"li")(1,"a",127),E("click",function(){w(e);let i=g();return C(i.scrollToSection("servicios"))}),d(2),l()()}if(n&2){let e=t.$implicit;p(2),D(" ",e.title," ")}}function _k(n,t){if(n&1){let e=V();a(0,"a",128),E("click",function(){let i=w(e).$implicit,o=g();return o.openSocialLink(i.url),C(o.trackEvent("social_click","footer",i.name))}),_(1,"i"),l()}if(n&2){let e=t.$implicit;p(),he(e.icon)}}function yk(n,t){if(n&1&&(a(0,"div",129),_(1,"i"),l()),n&2){let e=t.$implicit;p(),he(e.icon+" text-lg")}}var ba=class n{constructor(t){this.router=t}services=[{icon:"fas fa-code",title:"Desarrollo de Software",description:"Aplicaciones web y m\xF3viles personalizadas para optimizar tus procesos empresariales.",features:["Desarrollo a medida","Apps m\xF3viles","Sistemas web","APIs y microservicios"]},{icon:"fas fa-cloud",title:"Infraestructura Cloud",description:"Migraci\xF3n y gesti\xF3n de servicios en la nube para mayor escalabilidad y eficiencia.",features:["Migraci\xF3n a la nube","AWS/Azure/GCP","Backup autom\xE1tico","Monitoreo 24/7"]},{icon:"fas fa-shield-alt",title:"Ciberseguridad",description:"Protecci\xF3n integral de tus datos y sistemas contra amenazas digitales.",features:["Auditor\xEDas de seguridad","Firewall avanzado","Antivirus empresarial","Capacitaci\xF3n personal"]},{icon:"fas fa-chart-line",title:"Consultor\xEDa IT",description:"Estrategias tecnol\xF3gicas para optimizar la eficiencia y reducir costos operativos.",features:["An\xE1lisis de procesos","Roadmap tecnol\xF3gico","Optimizaci\xF3n IT","Gesti\xF3n de proyectos"]}];pricingPlans=[{name:"B\xE1sico",price:"Q2,500",period:"por mes",features:["Soporte t\xE9cnico b\xE1sico","Mantenimiento de sistemas","Backup semanal","Consultor\xEDa mensual (2 horas)"],popular:!1,buttonText:"Empezar Ahora"},{name:"Profesional",price:"Q4,500",period:"por mes",features:["Soporte t\xE9cnico prioritario","Monitoreo 24/7","Backup diario","Consultor\xEDa semanal (4 horas)","Actualizaciones autom\xE1ticas","Acceso al portal cliente"],popular:!0,buttonText:"M\xE1s Popular"},{name:"Empresarial",price:"Q8,500",period:"por mes",features:["Soporte t\xE9cnico dedicado","Infraestructura cloud completa","Backup en tiempo real","Consultor\xEDa ilimitada","Desarrollo personalizado","SLA garantizado 99.9%","Account manager asignado"],popular:!1,buttonText:"M\xE1ximo Valor"}];team=[{name:"Ing. Carlos Mendez",role:"Director T\xE9cnico",specialization:"Especialista en Arquitectura de Software",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=300&fit=crop&crop=face",experience:"12 a\xF1os de experiencia"},{name:"Ing. Ana Rodriguez",role:"Especialista en Cloud",specialization:"Certificada AWS Solutions Architect",image:"https://images.unsplash.com/photo-1494790108755-2616b612b65c?w=300&h=300&fit=crop&crop=face",experience:"8 a\xF1os de experiencia"},{name:"Ing. Roberto Garc\xEDa",role:"Experto en Ciberseguridad",specialization:"Certificado CISSP y CEH",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&crop=face",experience:"10 a\xF1os de experiencia"}];isLoading=!1;showMobileMenu=!1;currentYear=new Date().getFullYear();contactInfo={address:{street:"Zona 10, Ciudad de Guatemala",detail:"6a Avenida 12-25, Edificio Torre Internacional",city:"Guatemala, Guatemala"},phones:["+502 2234-5678","+502 5555-1234"],emails:["info@Simplifika.com.gt","ventas@Simplifika.com.gt"],schedule:{weekdays:"Lunes a Viernes: 8:00 AM - 6:00 PM",saturday:"S\xE1bados: 9:00 AM - 1:00 PM",support:"Soporte 24/7 disponible"}};socialLinks=[{name:"LinkedIn",url:"https://www.linkedin.com/company/Simplifika-gt",icon:"fab fa-linkedin-in"},{name:"Twitter",url:"https://twitter.com/Simplifika",icon:"fab fa-twitter"},{name:"Facebook",url:"https://www.facebook.com/Simplifika.gt",icon:"fab fa-facebook-f"}];ngOnInit(){this.initializeComponent(),this.setupAnimations()}initializeComponent(){console.log("Simplifika Landing Component inicializado")}setupAnimations(){if(typeof IntersectionObserver<"u"){let t={threshold:.1,rootMargin:"0px 0px -50px 0px"},e=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&i.target.classList.add("animate-fadeInUp")})},t);setTimeout(()=>{document.querySelectorAll(".service-card, .team-card, .pricing-card").forEach(i=>e.observe(i))},100)}}scrollToSection(t){let e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}goToClientPortal(){this.router.navigate(["/login"])}goToLogin(){this.router.navigate(["/login"])}contactUs(){this.scrollToSection("contacto")}requestConsultation(){this.scrollToSection("contacto")}showMoreInfo(t){let e=`
        ${t.title}
        
        ${t.description}
        
        Caracter\xEDsticas incluidas:
        ${t.features.map(r=>`\u2022 ${r}`).join(`
`)}
        
        \xBFTe interesa este servicio? Cont\xE1ctanos para m\xE1s informaci\xF3n.
      `;alert(e)}getTeamGridClasses(){let t=this.team.length;return t===1?"grid grid-cols-1 justify-items-center":t===2?"grid grid-cols-1 md:grid-cols-2 justify-items-center":t===3?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 justify-items-center":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 justify-items-center"}onSubmitContactForm(t){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1,alert("\xA1Gracias por tu inter\xE9s! Nos pondremos en contacto contigo dentro de las pr\xF3ximas 24 horas."),console.log("Datos del formulario:",t)},2e3)}toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu}requestDevelopmentConsultation(){this.scrollToSection("contacto")}requestCloudConsultation(){this.scrollToSection("contacto")}requestSecurityConsultation(){this.scrollToSection("contacto")}requestITConsultation(){this.scrollToSection("contacto")}selectPlan(t){let e=`
        Has seleccionado el plan ${t.name}
        
        Precio: ${t.price} ${t.period}
        
        Caracter\xEDsticas incluidas:
        ${t.features.map(r=>`\u2022 ${r}`).join(`
`)}
        
        \xBFTe gustar\xEDa proceder con este plan? Nos pondremos en contacto contigo.
      `;confirm(e)&&this.scrollToSection("contacto")}openSocialLink(t){window.open(t,"_blank")}callPhone(t){window.open(`tel:${t}`,"_self")}sendEmail(t){window.open(`mailto:${t}`,"_self")}getStats(){return[{value:"200+",label:"Empresas Transformadas"},{value:"500+",label:"Proyectos Completados"},{value:"99.9%",label:"Uptime Garantizado"},{value:"24/7",label:"Soporte T\xE9cnico"}]}validateContactForm(t){return!t.name||t.name.trim()===""?(alert("Por favor ingresa tu nombre"),!1):!t.email||!this.isValidEmail(t.email)?(alert("Por favor ingresa un email v\xE1lido"),!1):!t.phone||t.phone.trim()===""?(alert("Por favor ingresa tu n\xFAmero de tel\xE9fono"),!1):!t.message||t.message.trim()===""?(alert("Por favor escribe tu mensaje"),!1):!0}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}getTestimonials(){return[{name:"Mar\xEDa Gonz\xE1lez",company:"Empresa ABC",position:"Gerente de IT",testimonial:"Simplifika transform\xF3 completamente nuestra infraestructura. Ahora somos m\xE1s eficientes y seguros.",rating:5,image:"https://images.unsplash.com/photo-1494790108755-2616b612b65c?w=100&h=100&fit=crop&crop=face"},{name:"Carlos Ruiz",company:"StartupXYZ",position:"CEO",testimonial:"El desarrollo de nuestra aplicaci\xF3n m\xF3vil super\xF3 todas nuestras expectativas. Excelente trabajo.",rating:5,image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face"},{name:"Ana Morales",company:"Corporaci\xF3n DEF",position:"Directora de Operaciones",testimonial:"Su soporte 24/7 nos ha dado la tranquilidad que necesit\xE1bamos. Altamente recomendados.",rating:5,image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face"}]}getFAQs(){return[{question:"\xBFQu\xE9 incluye el soporte t\xE9cnico 24/7?",answer:"Nuestro soporte incluye monitoreo continuo de sistemas, resoluci\xF3n de incidencias cr\xEDticas, mantenimiento preventivo y asistencia t\xE9cnica por m\xFAltiples canales.",isOpen:!1},{question:"\xBFCu\xE1nto tiempo toma migrar a la nube?",answer:"El tiempo de migraci\xF3n depende del tama\xF1o y complejidad de su infraestructura. T\xEDpicamente va de 2 a 8 semanas, incluyendo planificaci\xF3n, ejecuci\xF3n y pruebas.",isOpen:!1},{question:"\xBFOfrecen capacitaci\xF3n para nuestro personal?",answer:"S\xED, incluimos capacitaci\xF3n personalizada para su equipo en todas nuestras implementaciones. Tambi\xE9n ofrecemos programas de capacitaci\xF3n continua.",isOpen:!1},{question:"\xBFQu\xE9 garant\xEDas ofrecen en sus servicios?",answer:"Ofrecemos SLA del 99.9% de uptime, garant\xEDa de satisfacci\xF3n en proyectos de desarrollo y soporte t\xE9cnico garantizado seg\xFAn el plan contratado.",isOpen:!1}]}toggleFAQ(t){let e=this.getFAQs();e[t].isOpen=!e[t].isOpen}getCertifications(){return[{name:"AWS Partner",image:"https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=100&h=60&fit=crop",description:"Amazon Web Services Certified Partner"},{name:"Microsoft Azure",image:"https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=100&h=60&fit=crop",description:"Microsoft Azure Solutions Partner"},{name:"Google Cloud",image:"https://images.unsplash.com/photo-1573804633927-bfcbcd909acd?w=100&h=60&fit=crop",description:"Google Cloud Platform Partner"},{name:"ISO 27001",image:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=100&h=60&fit=crop",description:"Gesti\xF3n de Seguridad de la Informaci\xF3n"}]}calculateSavings(t){return{monthly:Math.round(t*.3),yearly:Math.round(t*.3*12),roi:"300%",paybackMonths:6}}scheduleDemonstration(){confirm(`
        \xBFTe gustar\xEDa programar una demostraci\xF3n personalizada?
        
        Nuestro equipo puede mostrarte:
        \u2022 C\xF3mo nuestras soluciones se adaptan a tu empresa
        \u2022 Casos de \xE9xito similares a tu industria
        \u2022 Estimaci\xF3n de costos y beneficios
        \u2022 Roadmap de implementaci\xF3n
        
        La demostraci\xF3n es completamente gratuita y sin compromiso.
      `)&&this.scrollToSection("contacto")}downloadCaseStudy(t){alert(`Descargando caso de estudio para la industria: ${t}`)}subscribeNewsletter(t){if(!this.isValidEmail(t)){alert("Por favor ingresa un email v\xE1lido");return}alert("\xA1Gracias por suscribirte! Recibir\xE1s nuestras actualizaciones tecnol\xF3gicas mensuales."),console.log("Nuevo suscriptor:",t)}getBusinessHours(){return{monday:{open:"08:00",close:"18:00",isOpen:!0},tuesday:{open:"08:00",close:"18:00",isOpen:!0},wednesday:{open:"08:00",close:"18:00",isOpen:!0},thursday:{open:"08:00",close:"18:00",isOpen:!0},friday:{open:"08:00",close:"18:00",isOpen:!0},saturday:{open:"09:00",close:"13:00",isOpen:!0},sunday:{open:"00:00",close:"00:00",isOpen:!1}}}isCurrentlyOpen(){let t=new Date,e=t.getDay(),r=t.getHours()*100+t.getMinutes(),s=this.getBusinessHours()[["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e]];if(!s.isOpen)return!1;let c=parseInt(s.open.replace(":","")),u=parseInt(s.close.replace(":",""));return r>=c&&r<=u}getIndustries(){return[{name:"Finanzas y Banca",icon:"fas fa-university",description:"Soluciones seguras para el sector financiero"},{name:"Healthcare",icon:"fas fa-heartbeat",description:"Tecnolog\xEDa para el cuidado de la salud"},{name:"Retail y E-commerce",icon:"fas fa-shopping-cart",description:"Plataformas de venta online y gesti\xF3n"},{name:"Educaci\xF3n",icon:"fas fa-graduation-cap",description:"Sistemas educativos y e-learning"},{name:"Manufactura",icon:"fas fa-industry",description:"Automatizaci\xF3n y control de procesos"},{name:"Gobierno",icon:"fas fa-landmark",description:"Soluciones para el sector p\xFAblico"}]}getTechnologies(){return[{name:"Angular",icon:"fab fa-angular",category:"Frontend"},{name:"React",icon:"fab fa-react",category:"Frontend"},{name:"Node.js",icon:"fab fa-node-js",category:"Backend"},{name:"Python",icon:"fab fa-python",category:"Backend"},{name:"AWS",icon:"fab fa-aws",category:"Cloud"},{name:"Docker",icon:"fab fa-docker",category:"DevOps"},{name:"Kubernetes",icon:"fas fa-dharmachakra",category:"DevOps"},{name:"MongoDB",icon:"fas fa-database",category:"Database"}]}getFilteredTestimonials(t=4){return this.getTestimonials().filter(e=>e.rating>=t)}ngOnDestroy(){console.log("Simplifika Landing Component destruido")}trackEvent(t,e,r){console.log(`Tracking event - Action: ${t}, Category: ${e}, Label: ${r}`)}getNextWebinar(){return{title:"Transformaci\xF3n Digital para PYMEs",date:"2025-08-15",time:"15:00",duration:"60 minutos",presenter:"Ing. Carlos Mendez",topics:["Estrategias de digitalizaci\xF3n","Herramientas esenciales","Casos de \xE9xito","Sesi\xF3n de Q&A"],registrationUrl:"#contacto"}}registerWebinar(){let t=this.getNextWebinar(),e=`
        Webinar: ${t.title}
        Fecha: ${t.date} a las ${t.time}
        Duraci\xF3n: ${t.duration}
        Presentador: ${t.presenter}
        
        \xBFTe gustar\xEDa registrarte? Es completamente gratuito.
      `;confirm(e)&&(this.scrollToSection("contacto"),this.trackEvent("webinar_registration","engagement",t.title))}static \u0275fac=function(e){return new(e||n)(R(ce))};static \u0275cmp=le({type:n,selectors:[["app-landing"]],standalone:!1,decls:238,vars:26,consts:[["contactForm","ngForm"],["newsletterEmail",""],[1,"min-h-screen","bg-white"],[1,"fixed","top-0","w-full","bg-white/95","backdrop-blur-sm","shadow-sm","z-50","navbar"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-16"],[1,"flex","items-center"],[1,"flex-shrink-0","flex","items-center"],[1,"h-8","w-8","bg-blue-600","rounded-lg","flex","items-center","justify-center","mr-3"],[1,"fas","fa-laptop-code","text-white"],[1,"text-xl","font-bold","text-gray-900"],[1,"hidden","md:block","desktop-menu"],[1,"ml-10","flex","items-baseline","space-x-8"],[1,"text-gray-900","hover:text-blue-600","cursor-pointer","transition-colors","nav-link",3,"click"],[1,"text-gray-700","hover:text-blue-600","cursor-pointer","transition-colors","nav-link",3,"click"],[1,"flex","items-center","space-x-4"],[1,"bg-blue-600","text-white","px-4","py-2","rounded-md","hover:bg-blue-700","transition-colors","btn-primary",3,"click"],[1,"fas","fa-user","mr-2"],[1,"md:hidden","text-gray-600","hover:text-blue-600",3,"click"],[1,"fas","fa-bars","text-xl"],["class","md:hidden bg-white border-t border-gray-200 mobile-menu",4,"ngIf"],["id","inicio",1,"pt-16","bg-gradient-to-br","from-gray-900","via-gray-800","to-black","hero-section"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-20"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-12","items-center"],[1,"slide-in-left"],[1,"text-4xl","md:text-6xl","font-bold","text-white","mb-6","hero-title"],[1,"text-blue-500","gradient-text"],[1,"text-xl","text-gray-300","mb-8","hero-subtitle"],[1,"flex","flex-col","sm:flex-row","gap-4","hero-buttons"],[1,"border","border-blue-600","text-blue-500","px-8","py-3","rounded-lg","hover:bg-blue-600","hover:text-white","transition-colors","btn-secondary",3,"click"],[1,"relative","slide-in-right"],[1,"bg-white","rounded-2xl","shadow-2xl","p-8","transform","rotate-3","hover:rotate-0","transition-transform","duration-300","hero-card","image-overlay"],["src","https://images.unsplash.com/photo-1551434678-e076c223a692?w=600&h=400&fit=crop","alt","Equipo tecnol\xF3gico",1,"rounded-xl","w-full","h-64","object-cover"],[1,"mt-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-gray-600"],["id","servicios",1,"py-20","bg-white","section-padding"],[1,"text-center","mb-16"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-900","mb-4","section-title"],[1,"text-xl","text-gray-600","max-w-2xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-8"],["class","bg-gray-50 rounded-xl p-6 hover:shadow-lg transition-shadow duration-300 hover:border-blue-200 border border-transparent service-card card-hover-effect",3,"animation-delay",4,"ngFor","ngForOf"],[1,"text-center","mt-12"],[1,"text-gray-600","mb-4"],[1,"text-blue-600","hover:text-blue-800","font-medium",3,"click"],["id","contacto",1,"py-20","bg-gray-100","section-padding"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-12"],[1,"space-y-8"],[1,"flex","items-start"],[1,"w-12","h-12","bg-blue-600","rounded-full","flex","items-center","justify-center","mr-4"],[1,"fas","fa-map-marker-alt","text-white"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"fas","fa-phone","text-white"],["class","hover:text-blue-600 cursor-pointer transition-colors",3,"click",4,"ngFor","ngForOf"],[1,"fas","fa-envelope","text-white"],[1,"fas","fa-clock","text-white"],[1,"mt-8","space-y-4"],[1,"w-full","bg-blue-100","text-blue-800","py-3","px-6","rounded-lg","hover:bg-blue-200","transition-colors",3,"click"],[1,"fas","fa-calendar-alt","mr-2"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","contact-form"],[1,"text-2xl","font-bold","text-gray-900","mb-6"],[1,"space-y-6",3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"form-group"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","name","name","ngModel","","required","","placeholder","Tu nombre completo",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["type","text","name","company","ngModel","","placeholder","Nombre de tu empresa",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["type","email","name","email","ngModel","","required","","placeholder","tu@empresa.com",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["type","tel","name","phone","ngModel","","required","","placeholder","+502 1234-5678",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["name","service","ngModel","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","all"],["name","budget","ngModel","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["value","under-5k"],["value","5k-15k"],["value","15k-50k"],["value","over-50k"],["value","discuss"],["rows","4","name","message","ngModel","","required","","placeholder","Cu\xE9ntanos sobre tu proyecto o necesidades tecnol\xF3gicas...",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["type","checkbox","name","newsletter","ngModel","",1,"mr-2","text-blue-600","focus:ring-blue-500"],[1,"text-sm","text-gray-600"],["type","submit",3,"disabled"],["class","loading-dots mr-2",4,"ngIf"],["class","fas fa-paper-plane mr-2",4,"ngIf"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-500"],[1,"bg-gray-900","text-white","py-12","footer"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-8"],[1,"flex","items-center","mb-4"],[1,"text-xl","font-bold"],[1,"text-gray-400","mb-4"],[1,"font-semibold","mb-2"],[1,"flex"],["type","email","placeholder","Tu email",1,"flex-1","px-3","py-2","bg-gray-800","border","border-gray-700","rounded-l-md","text-white","text-sm","focus:outline-none","focus:border-blue-500"],[1,"bg-blue-600","hover:bg-blue-700","px-4","py-2","rounded-r-md","transition-colors",3,"click"],[1,"fas","fa-arrow-right"],[1,"font-semibold","mb-4"],[1,"space-y-2","text-gray-400"],[4,"ngFor","ngForOf"],[1,"hover:text-blue-400","transition-colors","cursor-pointer","footer-link",3,"click"],[1,"flex","space-x-4","mb-4"],["class","w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors social-btn cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"mt-6"],[1,"grid","grid-cols-4","gap-2"],["class","text-gray-400 hover:text-blue-400 transition-colors text-center",4,"ngFor","ngForOf"],[1,"border-t","border-gray-800","mt-12","pt-8"],[1,"flex","flex-col","md:flex-row","justify-between","items-center"],[1,"text-gray-400","text-center","md:text-left"],[1,"flex","space-x-6","mt-4","md:mt-0"],["href","#",1,"text-gray-400","hover:text-blue-400","transition-colors","text-sm","footer-link"],[1,"md:hidden","bg-white","border-t","border-gray-200","mobile-menu"],[1,"px-2","pt-2","pb-3","space-y-1"],[1,"block","px-3","py-2","text-gray-700","hover:text-blue-600","cursor-pointer",3,"click"],[1,"bg-gray-50","rounded-xl","p-6","hover:shadow-lg","transition-shadow","duration-300","hover:border-blue-200","border","border-transparent","service-card","card-hover-effect"],[1,"text-center"],[1,"w-16","h-16","bg-blue-600","rounded-full","flex","items-center","justify-center","mx-auto","mb-4","service-icon"],[1,"text-xl","font-semibold","text-gray-900","mb-3"],[1,"text-sm","text-gray-500","space-y-1"],[1,"mt-4","text-blue-600","hover:text-blue-800","font-medium","transition-colors",3,"click"],[1,"fas","fa-check","text-blue-600","mr-2"],[1,"hover:text-blue-600","cursor-pointer","transition-colors",3,"click"],[4,"ngIf"],[3,"value"],[1,"loading-dots","mr-2"],[1,"fas","fa-paper-plane","mr-2"],["href","#servicios",1,"hover:text-blue-400","transition-colors","footer-link","cursor-pointer",3,"click"],[1,"w-10","h-10","bg-blue-600","rounded-full","flex","items-center","justify-center","hover:bg-blue-700","transition-colors","social-btn","cursor-pointer",3,"click"],[1,"text-gray-400","hover:text-blue-400","transition-colors","text-center"]],template:function(e,r){if(e&1){let i=V();a(0,"div",2)(1,"nav",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),_(7,"i",9),l(),a(8,"span",10),d(9,"Simplifika"),l()()(),a(10,"div",11)(11,"div",12)(12,"a",13),E("click",function(){return w(i),C(r.scrollToSection("inicio"))}),d(13,"Inicio"),l(),a(14,"a",14),E("click",function(){return w(i),C(r.scrollToSection("servicios"))}),d(15,"Servicios"),l(),a(16,"a",14),E("click",function(){return w(i),C(r.scrollToSection("contacto"))}),d(17,"Contacto"),l()()(),a(18,"div",15)(19,"button",16),E("click",function(){return w(i),C(r.goToClientPortal())}),_(20,"i",17),d(21,"Portal Cliente "),l(),a(22,"button",18),E("click",function(){return w(i),C(r.toggleMobileMenu())}),_(23,"i",19),l()()(),x(24,ak,12,0,"div",20),l()(),a(25,"section",21)(26,"div",22)(27,"div",23)(28,"div",24)(29,"h1",25),d(30," Transforma tu "),a(31,"span",26),d(32,"Empresa"),l()(),a(33,"p",27),d(34," Somos una empresa que brinda soluciones \xE1giles por medio de una herramienta que permitir\xE1 sistematizar los procesos de reclutamiento, selecci\xF3n y contrataci\xF3n de manera eficiente y efectiva. Con Simplifika ayudamos a que tu empresa evolucione y puedas tener un panorama amplio con mediciones concretas, teniendo KPI\xB4s claros y visibles. "),l(),a(35,"div",28)(36,"button",29),E("click",function(){return w(i),C(r.scrollToSection("servicios"))}),d(37," Ver Servicios "),l()()(),a(38,"div",30)(39,"div",31),_(40,"img",32),a(41,"div",33)(42,"h3",34),d(43,"Tecnolog\xEDa de Vanguardia"),l(),a(44,"p",35),d(45,"Soluciones que impulsan tu negocio"),l()()()()()()(),a(46,"section",36)(47,"div",4)(48,"div",37)(49,"h2",38),d(50," Nuestros Servicios "),l(),a(51,"p",39),d(52," Soluciones tecnol\xF3gicas completas para digitalizar y optimizar tu empresa "),l()(),a(53,"div",40),x(54,ck,12,7,"div",41),l(),a(55,"div",42)(56,"p",43),d(57,"\xBFNo encuentras lo que buscas?"),l(),a(58,"button",44),E("click",function(){return w(i),C(r.contactUs())}),d(59," Hablemos sobre tus necesidades espec\xEDficas \u2192 "),l()()()(),a(60,"section",45)(61,"div",4)(62,"div",37)(63,"h2",46),d(64," Cont\xE1ctanos "),l(),a(65,"p",39),d(66," Estamos listos para transformar tu empresa. Cont\xE1ctanos para una consulta inicial gratuita. "),l(),a(67,"div",33)(68,"span"),_(69,"i"),d(70),l()()(),a(71,"div",47)(72,"div")(73,"div",48)(74,"div",49)(75,"div",50),_(76,"i",51),l(),a(77,"div")(78,"h4",52),d(79,"Direcci\xF3n"),l(),a(80,"p",35),d(81),_(82,"br"),d(83),_(84,"br"),d(85),l()()(),a(86,"div",49)(87,"div",50),_(88,"i",53),l(),a(89,"div")(90,"h4",52),d(91,"Tel\xE9fono"),l(),a(92,"p",35),x(93,uk,3,2,"a",54),l()()(),a(94,"div",49)(95,"div",50),_(96,"i",55),l(),a(97,"div")(98,"h4",52),d(99,"Email"),l(),a(100,"p",35),x(101,fk,3,2,"a",54),l()()(),a(102,"div",49)(103,"div",50),_(104,"i",56),l(),a(105,"div")(106,"h4",52),d(107,"Horarios"),l(),a(108,"p",35),d(109),_(110,"br"),d(111),_(112,"br"),d(113),l()()()(),a(114,"div",57)(115,"button",58),E("click",function(){return w(i),r.scheduleDemonstration(),C(r.trackEvent("demo_request","contact"))}),_(116,"i",59),d(117," Programar Demostraci\xF3n "),l()()(),a(118,"div",60)(119,"h3",61),d(120,"Solicita una consulta"),l(),a(121,"form",62,0),E("ngSubmit",function(){w(i);let s=Fe(122);return C(r.onSubmitContactForm(s.value))}),a(123,"div",63)(124,"div",64)(125,"label",65),d(126,"Nombre *"),l(),_(127,"input",66),l(),a(128,"div",64)(129,"label",65),d(130,"Empresa"),l(),_(131,"input",67),l()(),a(132,"div",64)(133,"label",65),d(134,"Email *"),l(),_(135,"input",68),l(),a(136,"div",64)(137,"label",65),d(138,"Tel\xE9fono *"),l(),_(139,"input",69),l(),a(140,"div",64)(141,"label",65),d(142,"Servicios de inter\xE9s"),l(),a(143,"select",70)(144,"option",71),d(145,"Selecciona un servicio"),l(),x(146,mk,2,2,"option",72),a(147,"option",73),d(148,"Todos los servicios"),l()()(),a(149,"div",64)(150,"label",65),d(151,"Presupuesto estimado"),l(),a(152,"select",74)(153,"option",71),d(154,"Selecciona un rango"),l(),a(155,"option",75),d(156,"Menos de Q5,000"),l(),a(157,"option",76),d(158,"Q5,000 - Q15,000"),l(),a(159,"option",77),d(160,"Q15,000 - Q50,000"),l(),a(161,"option",78),d(162,"M\xE1s de Q50,000"),l(),a(163,"option",79),d(164,"Prefiero discutirlo"),l()()(),a(165,"div",64)(166,"label",65),d(167,"Mensaje *"),l(),_(168,"textarea",80),l(),a(169,"div",64)(170,"label",6),_(171,"input",81),a(172,"span",82),d(173," Suscribirme al newsletter mensual de tendencias tecnol\xF3gicas "),l()()(),a(174,"button",83),x(175,hk,5,0,"div",84)(176,gk,1,0,"i",85),d(177),l()(),a(178,"div",86)(179,"p",87),d(180," Al enviar este formulario, aceptas nuestros t\xE9rminos de privacidad. "),_(181,"br"),d(182,"Respuesta garantizada en menos de 24 horas. "),l()()()()()(),a(183,"footer",88)(184,"div",4)(185,"div",89)(186,"div")(187,"div",90)(188,"div",8),_(189,"i",9),l(),a(190,"span",91),d(191,"Simplifika"),l()(),a(192,"p",92),d(193," Transformamos empresas a trav\xE9s de la tecnolog\xEDa. Soluciones integrales para el futuro digital de tu negocio. "),l(),a(194,"div",33)(195,"h5",93),d(196,"Newsletter"),l(),a(197,"div",94),_(198,"input",95,1),a(200,"button",96),E("click",function(){w(i);let s=Fe(199);return r.subscribeNewsletter(s.value),C(s.value="")}),_(201,"i",97),l()()()(),a(202,"div")(203,"h4",98),d(204,"Servicios"),l(),a(205,"ul",99),x(206,vk,3,1,"li",100),l()(),a(207,"div")(208,"h4",98),d(209,"Enlaces"),l(),a(210,"ul",99)(211,"li")(212,"a",101),E("click",function(){return w(i),C(r.scrollToSection("inicio"))}),d(213,"Inicio"),l()(),a(214,"li")(215,"a",101),E("click",function(){return w(i),C(r.scrollToSection("contacto"))}),d(216,"Contacto"),l()()()(),a(217,"div")(218,"h4",98),d(219,"S\xEDguenos"),l(),a(220,"div",102),x(221,_k,2,2,"a",103),l(),a(222,"div",104)(223,"h5",93),d(224,"Tecnolog\xEDas"),l(),a(225,"div",105),x(226,yk,2,2,"div",106),l()()()(),a(227,"div",107)(228,"div",108)(229,"p",109),d(230),l(),a(231,"div",110)(232,"a",111),d(233,"Pol\xEDtica de Privacidad"),l(),a(234,"a",111),d(235,"T\xE9rminos de Servicio"),l(),a(236,"a",111),d(237,"Cookies"),l()()()()()()()}if(e&2){let i=Fe(122);p(24),h("ngIf",r.showMobileMenu),p(30),h("ngForOf",r.services),p(14),he("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+(r.isCurrentlyOpen()?"bg-green-100 text-green-800":"bg-red-100 text-red-800")),p(),he("fas "+(r.isCurrentlyOpen()?"fa-circle text-green-400":"fa-circle text-red-400")+" mr-2"),p(),D(" ",r.isCurrentlyOpen()?"Abierto ahora":"Cerrado - Soporte 24/7 disponible"," "),p(11),D(" ",r.contactInfo.address.street,""),p(2),D(" ",r.contactInfo.address.detail,""),p(2),D(" ",r.contactInfo.address.city," "),p(8),h("ngForOf",r.contactInfo.phones),p(8),h("ngForOf",r.contactInfo.emails),p(8),D(" ",r.contactInfo.schedule.weekdays,""),p(2),D(" ",r.contactInfo.schedule.saturday,""),p(2),D(" ",r.contactInfo.schedule.support," "),p(33),h("ngForOf",r.services),p(28),he("w-full py-3 px-6 rounded-lg font-medium transition-colors flex items-center justify-center "+(r.isLoading?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700")+" text-white btn-primary"),h("disabled",r.isLoading||!i.valid),p(),h("ngIf",r.isLoading),p(),h("ngIf",!r.isLoading),p(),D(" ",r.isLoading?"Enviando...":"Enviar Solicitud"," "),p(29),h("ngForOf",r.services),p(15),h("ngForOf",r.socialLinks),p(5),h("ngForOf",r.getTechnologies().slice(0,8)),p(4),D(" \xA9 ",r.currentYear," Simplifika. Todos los derechos reservados. ")}},dependencies:[Ce,pe,Ye,et,tt,Ee,_a,Ze,Te,qe,Ue,Ie,je],styles:['html[_ngcontent-%COMP%]{scroll-behavior:smooth}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.hero-title[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.hero-subtitle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .2s both}.hero-buttons[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .4s both}.hero-image[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .6s both}.hero-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.service-card[_ngcontent-%COMP%]{transition:all .3s ease}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;border-color:#3b82f6!important}.service-icon[_ngcontent-%COMP%]{transition:all .3s ease}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]{transform:scale(1.1);animation:_ngcontent-%COMP%_pulse 2s infinite}.team-card[_ngcontent-%COMP%]{transition:all .3s ease;max-width:350px}.team-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);border-color:#3b82f6!important}.team-avatar[_ngcontent-%COMP%]{transition:all .3s ease}.team-card[_ngcontent-%COMP%]:hover   .team-avatar[_ngcontent-%COMP%]{transform:scale(1.1)}.team-single[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.team-single[_ngcontent-%COMP%]   .team-avatar[_ngcontent-%COMP%]{width:8rem;height:8rem;border-width:4px}.team-experience-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#e2e8f0);border:1px solid #e2e8f0}.pricing-card[_ngcontent-%COMP%]{transition:all .3s ease}.pricing-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.navbar[_ngcontent-%COMP%]{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.nav-link[_ngcontent-%COMP%]{position:relative;transition:all .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#3b82f6}.nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:0;height:2px;background-color:#3b82f6;transition:width .3s ease}.nav-link[_ngcontent-%COMP%]:hover:after{width:100%}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translateY(-2px);box-shadow:0 10px 20px #3b82f64d}.btn-secondary[_ngcontent-%COMP%]{transition:all .3s ease;border-color:#3b82f6;color:#3b82f6}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#3b82f6;color:#fff;transform:translateY(-2px);box-shadow:0 10px 20px #3b82f64d}.form-input[_ngcontent-%COMP%]{transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.gradient-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#111827)}.gradient-text[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.hero-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#111827,#000)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#3b82f6;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#2563eb}.text-accent[_ngcontent-%COMP%]{color:#3b82f6}.bg-accent[_ngcontent-%COMP%]{background-color:#3b82f6}.border-accent[_ngcontent-%COMP%]{border-color:#3b82f6}.hover-accent[_ngcontent-%COMP%]:hover{color:#3b82f6}@media (max-width: 768px){.hero-title[_ngcontent-%COMP%]{font-size:2.5rem}.section-title[_ngcontent-%COMP%]{font-size:2rem}.mobile-menu[_ngcontent-%COMP%]{display:block}.desktop-menu[_ngcontent-%COMP%]{display:none}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.loading-shimmer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;background:linear-gradient(to right,#f6f7f8,#edeef1 20%,#f6f7f8 40% 100%);background-size:800px 104px}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;background-color:#1f2937;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1;bottom:150%;left:50%;margin-left:-60px;opacity:0;transition:opacity .3s}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.card-shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.card-shadow-xl[_ngcontent-%COMP%]{box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.card-shadow-blue[_ngcontent-%COMP%]:hover{box-shadow:0 20px 25px -5px #3b82f61a,0 10px 10px -5px #3b82f60a}.stat-counter[_ngcontent-%COMP%]{transition:all .3s ease}.stat-counter[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.section-padding[_ngcontent-%COMP%]{padding:5rem 0}@media (max-width: 768px){.section-padding[_ngcontent-%COMP%]{padding:3rem 0}}.image-overlay[_ngcontent-%COMP%]{position:relative;overflow:hidden}.image-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#3b82f61a,#2563eb1a);opacity:0;transition:opacity .3s ease}.image-overlay[_ngcontent-%COMP%]:hover:before{opacity:1}.contact-form[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8fafc)}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.contact-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#374151;margin-bottom:.5rem;display:block}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:1rem;transition:all .3s ease}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .contact-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#111827)}.footer-link[_ngcontent-%COMP%]{transition:all .3s ease}.footer-link[_ngcontent-%COMP%]:hover{color:#93c5fd;transform:translate(4px)}.social-btn[_ngcontent-%COMP%]{transition:all .3s ease}.social-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #3b82f64d}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.focus-visible[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.btn-blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;transition:all .3s ease}.btn-blue[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translateY(-2px);box-shadow:0 8px 16px #3b82f64d}.btn-blue-outline[_ngcontent-%COMP%]{border:2px solid #3b82f6;color:#3b82f6;background:transparent;transition:all .3s ease}.btn-blue-outline[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:translateY(-2px)}.dark-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#111827,#000)}.dark-card[_ngcontent-%COMP%]{background:#1f2937cc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.3)}@media print{.no-print[_ngcontent-%COMP%]{display:none}*[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact!important;color-adjust:exact!important}.card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #e5e7eb}.text-blue-600[_ngcontent-%COMP%], .bg-blue-600[_ngcontent-%COMP%]{color:#3b82f6!important;background-color:#3b82f6!important}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(50px)}to{opacity:1;transform:translate(0)}}.slide-in-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInLeft .8s ease-out}.slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .8s ease-out}.card-hover-effect[_ngcontent-%COMP%]{transition:all .4s cubic-bezier(.25,.8,.25,1);position:relative;overflow:hidden}.card-hover-effect[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.1),transparent);transition:left .6s}.card-hover-effect[_ngcontent-%COMP%]:hover:before{left:100%}.card-hover-effect[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 25px 50px -12px #3b82f640}.loading-dots[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.loading-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:#3b82f6;animation-timing-function:cubic-bezier(0,1,1,0)}.loading-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:_ngcontent-%COMP%_loading-dots1 .6s infinite}.loading-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:_ngcontent-%COMP%_loading-dots2 .6s infinite}.loading-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:_ngcontent-%COMP%_loading-dots2 .6s infinite}.loading-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:_ngcontent-%COMP%_loading-dots3 .6s infinite}@keyframes _ngcontent-%COMP%_loading-dots1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_loading-dots3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes _ngcontent-%COMP%_loading-dots2{0%{transform:translate(0)}to{transform:translate(24px)}}@media (max-width: 640px){.hero-title[_ngcontent-%COMP%]{font-size:2rem;line-height:1.2}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.125rem}.service-card[_ngcontent-%COMP%], .team-card[_ngcontent-%COMP%]{padding:1.5rem}.pricing-card[_ngcontent-%COMP%]{margin-bottom:2rem}}']})};var bk=()=>["/dashboard"],xk=()=>({exact:!0}),Ub=n=>[n];function wk(n,t){if(n&1&&_(0,"i"),n&2){let e=g(2).$implicit;he("flex-shrink-0 w-5 h-5 mr-3 "+e.icono)}}function Ck(n,t){n&1&&(I(),a(0,"svg",11),_(1,"path",46),l())}function Ek(n,t){if(n&1&&(I(),a(0,"svg",47),_(1,"path",48),l()),n&2){let e=g(2).$implicit,r=g();he("w-4 h-4 transition-transform duration-200 module-arrow "+(r.isModuleExpanded(e.id_modulo)?"module-expanded":""))}}function Sk(n,t){if(n&1&&_(0,"i"),n&2){let e=g().$implicit;he("flex-shrink-0 w-4 h-4 mr-3 "+e.icono)}}function Mk(n,t){n&1&&(I(),a(0,"svg",53),_(1,"path",54),l())}function Ik(n,t){if(n&1&&(a(0,"a",51),x(1,Sk,1,2,"i",42)(2,Mk,2,0,"svg",52),d(3),l()),n&2){let e=t.$implicit;h("routerLink",Cf(4,Ub,e.ruta)),p(),h("ngIf",e.icono),p(),h("ngIf",!e.icono),p(),D(" ",e.nombre," ")}}function Dk(n,t){if(n&1&&(a(0,"div",49),x(1,Ik,4,6,"a",50),l()),n&2){let e=g(2).$implicit,r=g();p(),h("ngForOf",r.getFilteredChildren(e))}}function Tk(n,t){if(n&1){let e=V();a(0,"div")(1,"button",41),E("click",function(){w(e);let i=g().$implicit,o=g();return C(o.toggleModule(i.id_modulo))}),x(2,wk,1,2,"i",42)(3,Ck,2,0,"svg",43),a(4,"span"),d(5),l(),x(6,Ek,2,2,"svg",44),l(),x(7,Dk,2,1,"div",45),l()}if(n&2){let e=g().$implicit,r=g();p(),h("disabled",r.isSidebarCollapsed),Je("data-tooltip",r.isSidebarCollapsed?e.nombre:null),p(),h("ngIf",e.icono),p(),h("ngIf",!e.icono),p(),he(r.isSidebarCollapsed?"hidden":"flex-1 text-left"),p(),M(e.nombre),p(),h("ngIf",!r.isSidebarCollapsed),p(),h("ngIf",r.isModuleExpanded(e.id_modulo)&&!r.isSidebarCollapsed)}}function kk(n,t){if(n&1&&_(0,"i"),n&2){let e=g(2).$implicit;he("flex-shrink-0 w-5 h-5 mr-3 "+e.icono)}}function Ak(n,t){n&1&&(I(),a(0,"svg",11),_(1,"path",46),l())}function Ok(n,t){if(n&1&&(a(0,"a",55),x(1,kk,1,2,"i",42)(2,Ak,2,0,"svg",43),a(3,"span"),d(4),l()()),n&2){let e=g().$implicit,r=g();h("routerLink",Cf(7,Ub,e.ruta)),Je("data-tooltip",r.isSidebarCollapsed?e.nombre:null),p(),h("ngIf",e.icono),p(),h("ngIf",!e.icono),p(),he(r.isSidebarCollapsed?"hidden":"block"),p(),M(e.nombre)}}function Pk(n,t){if(n&1&&(a(0,"div",9),x(1,Tk,8,9,"div",39)(2,Ok,5,9,"a",40),l()),n&2){let e=t.$implicit,r=g();p(),h("ngIf",e.es_padre&&r.getFilteredChildren(e).length>0),p(),h("ngIf",!e.es_padre||r.getFilteredChildren(e).length===0)}}function Fk(n,t){if(n&1){let e=V();a(0,"button",56),E("click",function(){w(e);let i=g();return C(i.logout())}),I(),a(1,"svg",57),_(2,"path",37),l()()}}function Rk(n,t){if(n&1){let e=V();a(0,"div",58),E("click",function(){w(e);let i=g();return C(i.toggleSidebarMobile())}),l()}}var Ad=class n{constructor(t,e,r,i){this.authService=t;this.permissionsService=e;this.supabaseService=r;this.router=i}currentUser=null;menuItems=[];isSidebarCollapsed=!1;isMobileMenuOpen=!1;currentRoute="";expandedModules=new Set;loading=!1;stats={totalUsers:0,activeProjects:23,pendingTasks:47,totalReports:156};subscriptions=new De;onResize(t){t.target.innerWidth>768&&this.isMobileMenuOpen&&(this.isMobileMenuOpen=!1)}ngOnInit(){return y(this,null,function*(){if(console.log("Layout inicializado"),this.checkMobileView(),this.currentUser=this.authService.getCurrentUser(),!this.currentUser){console.log("No hay usuario autenticado, redirigiendo a login"),this.router.navigate(["/login"]);return}yield this.loadUserMenu(),yield this.loadDashboardStats(),this.subscriptions.add(this.router.events.pipe(nt(t=>t instanceof at)).subscribe(t=>{this.currentRoute=t.urlAfterRedirects,this.isMobileMenuOpen&&(this.isMobileMenuOpen=!1),console.log("Ruta actual en layout:",this.currentRoute)})),this.currentRoute=this.router.url})}ngOnDestroy(){this.subscriptions.unsubscribe()}checkMobileView(){window.innerWidth<=768&&(this.isSidebarCollapsed=!0)}loadUserMenu(){return y(this,null,function*(){try{console.log("Cargando men\xFA del usuario en layout..."),this.menuItems=yield this.permissionsService.loadUserMenu(),(!this.menuItems||this.menuItems.length===0)&&(console.log("No se obtuvo men\xFA de la BD, usando men\xFA por defecto"),this.menuItems=this.createDefaultMenu()),this.updateExpandedModules(),console.log("Men\xFA cargado en layout:",this.menuItems)}catch(t){console.error("Error cargando men\xFA:",t),this.menuItems=this.createDefaultMenu(),this.updateExpandedModules()}})}createDefaultMenu(){return[{id_modulo:1,nombre:"Dashboard",descripcion:"Panel principal",icono:"fas fa-tachometer-alt",ruta:"/dashboard",orden:1,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:2,nombre:"Usuarios",descripcion:"Gesti\xF3n de usuarios",icono:"fas fa-users",ruta:"/usuarios",orden:2,es_padre:!0,modulo_padre_id:null,permisos:["view"],expanded:!1,children:[{id_modulo:6,nombre:"Lista de Usuarios",descripcion:"Ver todos los usuarios",icono:"fas fa-list",ruta:"/usuarios/lista",orden:1,es_padre:!1,modulo_padre_id:2,permisos:["view"],expanded:!1},{id_modulo:7,nombre:"Crear Usuario",descripcion:"Crear nuevo usuario",icono:"fas fa-user-plus",ruta:"/usuarios/crear",orden:2,es_padre:!1,modulo_padre_id:2,permisos:["create"],expanded:!1}]},{id_modulo:3,nombre:"Gesti\xF3n CV",descripcion:"Gesti\xF3n de curr\xEDculums",icono:"fas fa-file-alt",ruta:"/cv",orden:3,es_padre:!0,modulo_padre_id:null,permisos:["view"],expanded:!1,children:[{id_modulo:8,nombre:"Mis CVs",descripcion:"Ver mis curr\xEDculums",icono:"fas fa-eye",ruta:"/cv/lista",orden:1,es_padre:!1,modulo_padre_id:3,permisos:["view"],expanded:!1},{id_modulo:9,nombre:"Crear CV",descripcion:"Crear nuevo curr\xEDculum",icono:"fas fa-plus",ruta:"/cv/crear",orden:2,es_padre:!1,modulo_padre_id:3,permisos:["create"],expanded:!1}]},{id_modulo:4,nombre:"Postulaciones",descripcion:"Gesti\xF3n de aplicaciones",icono:"fas fa-briefcase",ruta:"/postulaciones",orden:4,es_padre:!0,modulo_padre_id:null,permisos:["view"],expanded:!1,children:[{id_modulo:10,nombre:"Mis Aplicaciones",descripcion:"Ver mis postulaciones",icono:"fas fa-paper-plane",ruta:"/postulaciones/mis-aplicaciones",orden:1,es_padre:!1,modulo_padre_id:4,permisos:["view"],expanded:!1},{id_modulo:11,nombre:"Buscar Empleos",descripcion:"Buscar ofertas laborales",icono:"fas fa-search",ruta:"/postulaciones/buscar-empleos",orden:2,es_padre:!1,modulo_padre_id:4,permisos:["view"],expanded:!1}]},{id_modulo:5,nombre:"Reportes",descripcion:"Sistema de reportes",icono:"fas fa-chart-bar",ruta:"/reportes",orden:5,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:6,nombre:"Configuraci\xF3n",descripcion:"Configuraci\xF3n del sistema",icono:"fas fa-cog",ruta:"/configuracion",orden:6,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1}]}loadDashboardStats(){return y(this,null,function*(){try{let t=yield this.supabaseService.getData("profiles");this.stats.totalUsers=t?.length||0}catch(t){console.error("Error cargando estad\xEDsticas:",t)}})}updateExpandedModules(){this.menuItems.forEach(t=>{t.expanded===void 0&&(t.expanded=!1),t.children&&t.children.forEach(e=>{e.expanded===void 0&&(e.expanded=!1)})})}toggleSidebar(){if(window.innerWidth<=768){this.toggleSidebarMobile();return}this.isSidebarCollapsed=!this.isSidebarCollapsed,console.log("Sidebar colapsado:",this.isSidebarCollapsed),this.isSidebarCollapsed&&this.expandedModules.clear()}toggleSidebarMobile(){this.isMobileMenuOpen=!this.isMobileMenuOpen,console.log("Men\xFA m\xF3vil abierto:",this.isMobileMenuOpen)}toggleModule(t){if(this.isSidebarCollapsed)return;this.expandedModules.has(t)?this.expandedModules.delete(t):this.expandedModules.add(t);let e=this.menuItems.find(r=>r.id_modulo===t);e&&(e.expanded=this.expandedModules.has(t))}isModuleExpanded(t){return this.expandedModules.has(t)}getFilteredMenuItems(){return this.menuItems.filter(t=>!t.modulo_padre_id)}getFilteredChildren(t){return t.children?t.children:this.menuItems.filter(e=>e.modulo_padre_id===t.id_modulo)}isRouteActive(t){return!t||t==="#"?!1:this.currentRoute===t||this.currentRoute.startsWith(t+"/")}navigateTo(t){t&&t!=="#"&&(console.log("Navegando a:",t),this.router.navigate([t]))}getUserInitials(){if(!this.currentUser?.full_name)return"U";let t=this.currentUser.full_name.split(" ");return t.length>=2?(t[0].charAt(0)+t[1].charAt(0)).toUpperCase():this.currentUser.full_name.charAt(0).toUpperCase()}getUserRole(){switch(this.currentUser?.id_perfil){case 1:return"Administrador";case 2:return"Usuario";case 3:return"Supervisor";case 4:return"Invitado";default:return"Usuario"}}logout(){console.log("Cerrando sesi\xF3n desde layout"),this.permissionsService.clearUserData(),this.currentUser=null,this.menuItems=[],this.expandedModules.clear(),this.isSidebarCollapsed=!1,this.isMobileMenuOpen=!1,this.authService.logout()}getPageTitle(){let t={"/dashboard":"Dashboard","/usuarios":"Gesti\xF3n de Usuarios","/usuarios/lista":"Lista de Usuarios","/usuarios/crear":"Crear Usuario","/cv":"Gesti\xF3n de CV","/cv/lista":"Mis CVs","/cv/crear":"Crear CV","/cv/editar":"Editar CV","/cv/ver":"Ver CV","/postulaciones":"Postulaciones","/postulaciones/mis-aplicaciones":"Mis Aplicaciones","/postulaciones/buscar-empleos":"Buscar Empleos","/postulaciones/revisar-candidatos":"Revisar Candidatos","/postulaciones/entrevistas":"Entrevistas","/empresas":"Gesti\xF3n de Empresas","/empresas/crear":"Crear Empresa","/empresas/editar":"Editar Empresa","/empleos":"Gesti\xF3n de Empleos","/empleos/crear":"Crear Empleo","/empleos/editar":"Editar Empleo","/reportes":"Reportes","/configuracion":"Configuraci\xF3n"};if(t[this.currentRoute])return t[this.currentRoute];for(let e in t)if(this.currentRoute.startsWith(e))return t[e];return"Sistema de Gesti\xF3n"}isDashboardRoute(){return this.currentRoute==="/dashboard"}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inv\xE1lida"}}refreshDashboard(){return y(this,null,function*(){this.loading=!0;try{yield this.loadUserMenu(),yield this.loadDashboardStats(),yield this.permissionsService.loadUserPermissions()}catch(t){console.error("Error refrescando dashboard:",t)}finally{this.loading=!1}})}isMobile(){return window.innerWidth<=768}getSidebarState(){return this.isMobile()?this.isMobileMenuOpen?"mobile-open":"mobile-closed":this.isSidebarCollapsed?"collapsed":"expanded"}static \u0275fac=function(e){return new(e||n)(R(de),R(ar),R(We),R(ce))};static \u0275cmp=le({type:n,selectors:[["app-layout"]],hostBindings:function(e,r){e&1&&E("resize",function(o){return r.onResize(o)},!1,rv)},standalone:!1,decls:55,vars:26,consts:[[1,"min-h-screen","bg-gray-50"],[1,"sidebar-header","flex","items-center","justify-between","p-4"],[1,"text-xl","font-bold"],[1,"text-sm","text-gray-300"],[1,"sidebar-toggle-btn","p-2","rounded-lg","hover:bg-gray-800","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"nav-scroll-container"],[1,"px-2"],[1,"space-y-1"],["routerLinkActive","bg-indigo-600 text-white",1,"tooltip-collapsed","group","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-colors","duration-200","text-gray-300","hover:bg-gray-800","hover:text-white",3,"routerLink","routerLinkActiveOptions"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"flex-shrink-0","w-5","h-5","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 5a2 2 0 012-2h4a2 2 0 012 2v14l-6-3-6 3V5z"],["class","space-y-1",4,"ngFor","ngForOf"],[1,"user-section","p-4"],[1,"flex-shrink-0"],[1,"user-avatar","h-8","w-8","rounded-full","flex","items-center","justify-center"],[1,"text-xs","font-medium","text-white"],[1,"text-sm","font-medium","text-white","truncate"],[1,"text-xs","text-gray-400","truncate"],["class","logout-btn ml-2 p-1 rounded-lg hover:bg-gray-800 transition-colors duration-200","title","Cerrar Sesi\xF3n",3,"click",4,"ngIf"],["class","sidebar-overlay show",3,"click",4,"ngIf"],[1,"main-header","bg-white","shadow-sm","border-b","border-gray-200"],[1,"px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","items-center"],[1,"mobile-menu-btn","mr-3","p-2","rounded-md","text-gray-600","hover:text-gray-900","hover:bg-gray-100",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"text-xl","font-semibold","text-gray-900"],[1,"flex","items-center","space-x-4"],[1,"p-2","text-gray-600","hover:text-gray-900","hover:bg-gray-100","rounded-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-5 5v-5z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 19.5A2.5 2.5 0 01.5 17H4m0 2.5A2.5 2.5 0 006.5 19.5H4m0 2.5V22"],[1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","leading-4","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"flex-1","content-area","custom-scrollbar"],[4,"ngIf"],["routerLinkActive","bg-indigo-600 text-white","class","tooltip-collapsed group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 text-gray-300 hover:bg-gray-800 hover:text-white",3,"routerLink",4,"ngIf"],[1,"tooltip-collapsed","group","w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-300","rounded-lg","hover:bg-gray-800","hover:text-white","transition-colors","duration-200",3,"click","disabled"],[3,"class",4,"ngIf"],["class","flex-shrink-0 w-5 h-5 mr-3","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"class",4,"ngIf"],["class","ml-6 space-y-1 submenu-enter submenu-enter-active",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 00-2 2v2a2 2 0 002 2m0 0h14"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"ml-6","space-y-1","submenu-enter","submenu-enter-active"],["routerLinkActive","bg-indigo-600 text-white","class","group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 text-gray-400 hover:bg-gray-800 hover:text-white",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","bg-indigo-600 text-white",1,"group","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-colors","duration-200","text-gray-400","hover:bg-gray-800","hover:text-white",3,"routerLink"],["class","flex-shrink-0 w-4 h-4 mr-3","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"flex-shrink-0","w-4","h-4","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m3 5.197H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],["routerLinkActive","bg-indigo-600 text-white",1,"tooltip-collapsed","group","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-colors","duration-200","text-gray-300","hover:bg-gray-800","hover:text-white",3,"routerLink"],["title","Cerrar Sesi\xF3n",1,"logout-btn","ml-2","p-1","rounded-lg","hover:bg-gray-800","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],[1,"sidebar-overlay","show",3,"click"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div")(2,"div",1)(3,"div")(4,"h1",2),d(5,"Simplifika"),l(),a(6,"p",3),d(7,"Sistema de Gesti\xF3n"),l()(),a(8,"button",4),E("click",function(){return r.toggleSidebar()}),I(),a(9,"svg",5),_(10,"path",6),l()()(),F(),a(11,"div",7)(12,"nav",8)(13,"div",9)(14,"a",10),I(),a(15,"svg",11),_(16,"path",12)(17,"path",13),l(),F(),a(18,"span"),d(19,"Dashboard"),l()(),x(20,Pk,3,2,"div",14),l()()(),a(21,"div",15)(22,"div")(23,"div",16)(24,"div",17)(25,"span",18),d(26),l()()(),a(27,"div")(28,"p",19),d(29),l(),a(30,"p",20),d(31),l()(),x(32,Fk,3,0,"button",21),l()()(),x(33,Rk,1,0,"div",22),a(34,"div")(35,"header",23)(36,"div",24)(37,"div",25)(38,"div",26)(39,"button",27),E("click",function(){return r.toggleSidebarMobile()}),I(),a(40,"svg",28),_(41,"path",29),l()(),F(),a(42,"h1",30),d(43),l()(),a(44,"div",31)(45,"button",32),I(),a(46,"svg",5),_(47,"path",33)(48,"path",34),l()(),F(),a(49,"button",35),E("click",function(){return r.logout()}),I(),a(50,"svg",36),_(51,"path",37),l(),d(52," Cerrar Sesi\xF3n "),l()()()()(),F(),a(53,"main",38),_(54,"router-outlet"),l()()()),e&2&&(p(),he("sidebar text-white transition-all duration-300 ease-in-out "+(r.isSidebarCollapsed?"sidebar-collapsed":"sidebar-expanded")),p(2),he(r.isSidebarCollapsed?"hidden":"block"),p(5),Je("title",r.isSidebarCollapsed?"Expandir men\xFA":"Contraer men\xFA"),p(2),Je("d",r.isSidebarCollapsed?"M9 5l7 7-7 7":"M15 19l-7-7 7-7"),p(4),h("routerLink",is(24,bk))("routerLinkActiveOptions",is(25,xk)),Je("data-tooltip",r.isSidebarCollapsed?"Dashboard":null),p(4),he(r.isSidebarCollapsed?"hidden":"block"),p(2),h("ngForOf",r.getFilteredMenuItems()),p(2),he("flex items-center "+(r.isSidebarCollapsed?"justify-center":"")),p(4),D(" ",r.getUserInitials()," "),p(),he(r.isSidebarCollapsed?"hidden":"ml-3 flex-1"),p(2),D(" ",(r.currentUser==null?null:r.currentUser.full_name)||"Usuario"," "),p(2),D(" ",r.getUserRole()," "),p(),h("ngIf",!r.isSidebarCollapsed),p(),h("ngIf",r.isMobileMenuOpen),p(),he("transition-smooth flex flex-col min-h-screen "+(r.isSidebarCollapsed?"main-content-collapsed":"main-content-expanded")),p(9),M(r.getPageTitle()))},dependencies:[Ce,pe,Jr,Rn,Cm],styles:['.layout-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f9fafb}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;z-index:1000;background:linear-gradient(135deg,#1f2937,#111827);transition:width .3s ease-in-out;box-shadow:2px 0 10px #0000001a;overflow:hidden}.sidebar-collapsed[_ngcontent-%COMP%]{width:4rem}.sidebar-expanded[_ngcontent-%COMP%]{width:16rem}.main-content[_ngcontent-%COMP%]{transition:margin-left .3s ease-in-out;min-height:100vh;background-color:#f9fafb}.main-content-expanded[_ngcontent-%COMP%]{margin-left:16rem}.main-content-collapsed[_ngcontent-%COMP%]{margin-left:4rem}.nav-scroll-container[_ngcontent-%COMP%]{height:calc(100vh - 140px);overflow-y:auto;padding-bottom:1rem;scrollbar-width:thin;scrollbar-color:#4B5563 #1F2937}.nav-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.nav-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1f2937;border-radius:3px}.nav-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563;border-radius:3px}.nav-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.sidebar-header[_ngcontent-%COMP%]{height:72px;border-bottom:1px solid #374151;flex-shrink:0}.user-section[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:68px;background:#111827f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-top:1px solid rgba(75,85,99,.3);flex-shrink:0}.nav-item[_ngcontent-%COMP%]{transition:all .2s ease-in-out;border-radius:.5rem}.nav-item[_ngcontent-%COMP%]:hover{background-color:#374151b3;transform:translate(2px)}.nav-item.active[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff}.nav-item.active[_ngcontent-%COMP%]:hover{background-color:#4338ca}.main-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;position:sticky;top:0;z-index:100}.content-area[_ngcontent-%COMP%]{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch}.sidebar-toggle-btn[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.sidebar-toggle-btn[_ngcontent-%COMP%]:hover{background-color:#374151cc;transform:scale(1.05)}.user-avatar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#7c3aed);transition:transform .2s ease-in-out}.user-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%);z-index:1050}.sidebar-mobile-open[_ngcontent-%COMP%]{transform:translate(0)}.main-content-expanded[_ngcontent-%COMP%], .main-content-collapsed[_ngcontent-%COMP%]{margin-left:0!important}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:1040;display:none}.sidebar-overlay.show[_ngcontent-%COMP%]{display:block}.main-header[_ngcontent-%COMP%]{padding-left:1rem}}.module-expanded[_ngcontent-%COMP%]   .module-arrow[_ngcontent-%COMP%]{transform:rotate(90deg)}.submenu-enter[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease-in-out}.submenu-enter-active[_ngcontent-%COMP%]{max-height:500px}.tooltip-collapsed[_ngcontent-%COMP%]{position:relative}.tooltip-collapsed[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);position:absolute;left:calc(100% + 10px);top:50%;transform:translateY(-50%);background-color:#1f2937;color:#fff;padding:.5rem .75rem;border-radius:.375rem;font-size:.875rem;white-space:nowrap;z-index:1100;box-shadow:0 4px 6px -1px #0000001a}.tooltip-collapsed[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;left:calc(100% + 5px);top:50%;transform:translateY(-50%);border-top:5px solid transparent;border-bottom:5px solid transparent;border-right:5px solid #1f2937;z-index:1100}.dashboard-card[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;transition:all .2s ease-in-out}.dashboard-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transform:translateY(-1px)}.stat-icon[_ngcontent-%COMP%]{border-radius:.375rem;padding:.75rem}.stat-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.welcome-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#7c3aed);border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.welcome-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;padding:.75rem}.quick-action-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:.5rem;padding:1.5rem;transition:all .2s ease-in-out;cursor:pointer}.quick-action-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transform:translateY(-2px);border-color:#4f46e5}.quick-action-icon[_ngcontent-%COMP%]{border-radius:.5rem;padding:.75rem;margin-bottom:1rem}.logout-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc2626,#b91c1c);transition:all .2s ease-in-out}.logout-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b91c1c,#991b1b);transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.loading-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem;border:2px solid #e5e7eb;border-top:2px solid #4f46e5;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.success-message[_ngcontent-%COMP%]{background-color:#d1fae5;border:1px solid #a7f3d0;color:#065f46;padding:1rem;border-radius:.5rem;margin-bottom:1rem}.error-message[_ngcontent-%COMP%]{background-color:#fee2e2;border:1px solid #fecaca;color:#991b1b;padding:1rem;border-radius:.5rem;margin-bottom:1rem}.user-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.user-info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.user-info-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280}.user-info-value[_ngcontent-%COMP%]{font-size:.875rem;color:#111827}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.transition-smooth[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.shadow-subtle[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.shadow-moderate[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.shadow-strong[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.custom-scrollbar[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#d1d5db #f3f4f6}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f3f4f6;border-radius:4px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:4px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}@media (max-width: 1024px){.dashboard-stats[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 640px){.dashboard-stats[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%], .user-info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.main-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.welcome-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.nav-scroll-container[_ngcontent-%COMP%]{height:calc(100vh - 120px)}}@media (max-width: 768px){.mobile-menu-btn[_ngcontent-%COMP%]{display:block}.sidebar-header[_ngcontent-%COMP%], .user-section[_ngcontent-%COMP%]{height:60px}.nav-scroll-container[_ngcontent-%COMP%]{height:calc(100vh - 120px)}}@media (min-width: 769px){.mobile-menu-btn[_ngcontent-%COMP%]{display:none}}']})};var Un={MAX_NOMBRE_LENGTH:255,MIN_ANIO:1950,MAX_ANIO:new Date().getFullYear()+10,NIVELES_IDIOMA:["b\xE1sico","intermedio","avanzado","materno"],TIPOS_PARENTESCO:["padre","madre","hermano","hermana","amigo","familiar","supervisora","supervisor","colega","otro"],MAX_FILE_SIZE:5242880,ALLOWED_FILE_TYPES:["application/pdf"]};var Ir=class n{constructor(t,e){this.supabaseService=t;this.authService=e}createCV(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e?.id)return{success:!1,message:"Usuario no autenticado"};if(console.log("\u{1F504} Iniciando creaci\xF3n de CV para usuario:",e.id),console.log("\u{1F4DD} Datos del CV:",t),!t.nombre||t.nombre.trim().length===0)return{success:!1,message:"El nombre del CV es requerido"};let r={id_profile:e.id,nombre:t.nombre.trim(),cv_pdf_url:t.cv_pdf_url||null,educacion:t.educacion&&t.educacion.length>0?t.educacion:[],experiencia_laboral:t.experiencia_laboral&&t.experiencia_laboral.length>0?t.experiencia_laboral:[],idiomas:t.idiomas&&t.idiomas.length>0?t.idiomas:[],cursos_certificaciones_extra:t.cursos_certificaciones_extra&&t.cursos_certificaciones_extra.length>0?t.cursos_certificaciones_extra:[],contactos_referencias:t.contactos_referencias&&t.contactos_referencias.length>0?t.contactos_referencias:[],status:1};console.log("\u{1F4E4} Datos preparados para insertar:",r);let{data:i,error:o}=yield this.supabaseService.client.from("cv").insert(r).select().single();return console.log("\u{1F4E5} Respuesta de Supabase:",{data:i,error:o}),o?(console.error("\u274C Error de Supabase:",o),{success:!1,message:"Error al crear CV: "+o.message}):i?(console.log("\u2705 CV creado exitosamente:",i),{success:!0,message:"CV creado exitosamente",data:this.parseCV(i)}):(console.error("\u274C No se recibi\xF3 data de Supabase"),{success:!1,message:"Error inesperado: no se recibieron datos"})}catch(e){return console.error("\u{1F4A5} Error cr\xEDtico creando CV:",e),{success:!1,message:"Error inesperado al crear CV: "+e.message}}})}getUserCVs(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t?.id)return{success:!1,message:"Usuario no autenticado"};console.log("Obteniendo CVs del usuario:",t.id);let{data:e,error:r}=yield this.supabaseService.client.from("cv").select("*").eq("id_profile",t.id).eq("status",1).order("updated_at",{ascending:!1});return r?(console.error("Error obteniendo CVs:",r),{success:!1,message:"Error al obtener CVs"}):{success:!0,message:"CVs obtenidos exitosamente",data:(e||[]).map(o=>this.parseCV(o))}}catch(t){return console.error("Error en getUserCVs:",t),{success:!1,message:"Error inesperado al obtener CVs"}}})}getCVById(t){return y(this,null,function*(){try{let{data:e,error:r}=yield this.supabaseService.client.from("cv").select("*").eq("id",t).eq("status",1).single();return r?(console.error("Error obteniendo CV:",r),{success:!1,message:"CV no encontrado"}):e?{success:!0,message:"CV obtenido exitosamente",data:this.parseCV(e)}:{success:!1,message:"CV no encontrado"}}catch(e){return console.error("Error en getCVById:",e),{success:!1,message:"Error inesperado al obtener CV"}}})}uploadCVFile(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e?.id)return{success:!1,message:"Usuario no autenticado"};if(t.size>Un.MAX_FILE_SIZE)return{success:!1,message:"El archivo es demasiado grande (m\xE1ximo 5MB)"};if(!Un.ALLOWED_FILE_TYPES.includes(t.type))return{success:!1,message:"Solo se permiten archivos PDF"};let o=`cvs/${`cv-${e.id}-${Date.now()}.pdf`}`,{error:s}=yield this.supabaseService.client.storage.from("cv-files").upload(o,t);if(s)return console.error("Error subiendo archivo:",s),{success:!1,message:"Error al subir el archivo"};let{data:c}=this.supabaseService.client.storage.from("cv-files").getPublicUrl(o);return{success:!0,message:"Archivo subido exitosamente",url:c.publicUrl}}catch(e){return console.error("Error en uploadCVFile:",e),{success:!1,message:"Error inesperado al subir archivo"}}})}deleteCVFile(t){return y(this,null,function*(){try{if(!t)return{success:!0,message:"No hay archivo para eliminar"};let e=t.split("/"),i=`cvs/${e[e.length-1]}`,{error:o}=yield this.supabaseService.client.storage.from("cv-files").remove([i]);return o?(console.error("Error eliminando archivo:",o),{success:!1,message:"Error al eliminar el archivo"}):{success:!0,message:"Archivo eliminado exitosamente"}}catch(e){return console.error("Error en deleteCVFile:",e),{success:!1,message:"Error inesperado al eliminar archivo"}}})}updateCV(t,e){return y(this,null,function*(){try{let r=this.authService.getCurrentUser();if(!r?.id)return{success:!1,message:"Usuario no autenticado"};console.log("\u{1F504} Actualizando CV:",t,"para usuario:",r.id);let{data:i,error:o}=yield this.supabaseService.client.from("cv").select("id, id_profile").eq("id",t).eq("status",1).single();if(o||!i)return console.error("\u274C CV no encontrado:",o),{success:!1,message:"CV no encontrado"};if(i.id_profile!==r.id)return{success:!1,message:"No tienes permisos para editar este CV"};let s=this.validateCV(e);if(!s.isValid)return{success:!1,message:"Datos inv\xE1lidos: "+s.errors.map(m=>m.message).join(", ")};let c={nombre:e.nombre.trim(),cv_pdf_url:e.cv_pdf_url||null,educacion:e.educacion||[],experiencia_laboral:e.experiencia_laboral||[],idiomas:e.idiomas||[],cursos_certificaciones_extra:e.cursos_certificaciones_extra||[],contactos_referencias:e.contactos_referencias||[],updated_at:new Date().toISOString()};console.log("\u{1F4E4} Actualizando con datos:",c);let{data:u,error:f}=yield this.supabaseService.client.from("cv").update(c).eq("id",t).select().single();return console.log("\u{1F4E5} Respuesta de actualizaci\xF3n:",{data:u,error:f}),f?(console.error("\u274C Error actualizando CV:",f),{success:!1,message:"Error al actualizar CV: "+f.message}):u?(console.log("\u2705 CV actualizado exitosamente:",u),{success:!0,message:"CV actualizado exitosamente",data:this.parseCV(u)}):{success:!1,message:"Error inesperado al actualizar"}}catch(r){return console.error("\u{1F4A5} Error cr\xEDtico actualizando CV:",r),{success:!1,message:"Error inesperado al actualizar CV: "+r.message}}})}deleteCV(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e?.id)return{success:!1,message:"Usuario no autenticado"};console.log("\u{1F5D1}\uFE0F Eliminando CV:",t,"para usuario:",e.id);let r=yield this.getCVById(t);if(!r.success||!r.data)return{success:!1,message:"CV no encontrado"};if(r.data.id_profile!==e.id)return{success:!1,message:"No tienes permisos para eliminar este CV"};let{data:i,error:o}=yield this.supabaseService.client.from("cv").update({status:0,updated_at:new Date().toISOString()}).eq("id",t).select().single();return o?(console.error("\u274C Error eliminando CV:",o),{success:!1,message:"Error al eliminar CV: "+o.message}):i?(console.log("\u2705 CV eliminado exitosamente"),{success:!0,message:"CV eliminado exitosamente"}):{success:!1,message:"Error inesperado al eliminar"}}catch(e){return console.error("\u{1F4A5} Error cr\xEDtico eliminando CV:",e),{success:!1,message:"Error inesperado al eliminar CV: "+e.message}}})}testConnection(){return y(this,null,function*(){console.log("\u{1F9EA} Probando conexi\xF3n con Supabase...");try{let{data:t,error:e}=yield this.supabaseService.client.from("cv").select("*").limit(1);console.log("\u{1F50D} Test tabla CV:",{data:t,error:e}),e?(console.error("\u274C Error accediendo a tabla CV:",e),console.log("\u{1F4A1} Posibles soluciones:"),console.log('  1. Verificar que la tabla "cv" existe en Supabase'),console.log("  2. Verificar permisos RLS (Row Level Security)"),console.log("  3. Verificar configuraci\xF3n de Supabase")):(console.log("\u2705 Tabla CV accesible"),t&&t.length>0?console.log("\u{1F4CB} Estructura de CV:",Object.keys(t[0])):console.log("\u{1F4CB} Tabla CV vac\xEDa (sin datos)"));let r=this.authService.getCurrentUser();console.log("\u{1F464} Usuario actual:",r)}catch(t){console.error("\u{1F4A5} Error cr\xEDtico en test:",t)}})}validateCV(t){let e=[];return(!t.nombre||t.nombre.trim().length===0)&&e.push({field:"nombre",message:"El nombre del CV es requerido"}),console.log("\u{1F50D} Validando CV:",t.nombre,"Errores encontrados:",e.length),{isValid:e.length===0,errors:e}}searchCVs(t){return y(this,null,function*(){try{let e=this.supabaseService.client.from("v_cv_search").select("*");t.nombre&&(e=e.ilike("nombre",`%${t.nombre}%`)),t.titulo_educacion&&(e=e.ilike("titulos_educacion",`%${t.titulo_educacion}%`)),t.puesto_experiencia&&(e=e.ilike("puestos_experiencia",`%${t.puesto_experiencia}%`)),t.idioma&&(e=e.ilike("idiomas_disponibles",`%${t.idioma}%`)),t.status!==void 0&&(e=e.eq("status",t.status));let{data:r,error:i}=yield e.order("updated_at",{ascending:!1});return i?(console.error("Error buscando CVs:",i),{success:!1,message:"Error al buscar CVs"}):{success:!0,message:"B\xFAsqueda completada exitosamente",data:r||[]}}catch(e){return console.error("Error en searchCVs:",e),{success:!1,message:"Error inesperado en b\xFAsqueda"}}})}parseCV(t){return{id:t.id,id_profile:t.id_profile,nombre:t.nombre,cv_pdf_url:t.cv_pdf_url,educacion:this.parseJsonField(t.educacion,[]),experiencia_laboral:this.parseJsonField(t.experiencia_laboral,[]),idiomas:this.parseJsonField(t.idiomas,[]),cursos_certificaciones_extra:this.parseJsonField(t.cursos_certificaciones_extra,[]),contactos_referencias:this.parseJsonField(t.contactos_referencias,[]),status:t.status,created_at:t.created_at,updated_at:t.updated_at}}parseJsonField(t,e=[]){if(typeof t=="string")try{return JSON.parse(t)}catch(r){return console.error("Error parsing JSON field:",r),e}return t||e}getAvailableYears(){let t=new Date().getFullYear(),e=[];for(let r=Un.MIN_ANIO;r<=t+5;r++)e.push(r);return e.reverse()}getEmptyEducacion(){return{institucion:"",anio_inicio:new Date().getFullYear(),anio_finalizacion:new Date().getFullYear(),titulo_obtenido:""}}getEmptyExperiencia(){return{institucion:"",anio_inicio:new Date().getFullYear(),anio_finalizacion:new Date().getFullYear(),puesto_ejercido:"",motivo_retiro:""}}getEmptyIdioma(){return{idioma:"",nivel:"b\xE1sico"}}getEmptyCurso(){return{nombre_reconocimiento:"",anio_realizado:new Date().getFullYear(),institucion:""}}getEmptyContacto(){return{nombre_apellido:"",numero_telefonico:"",parentesco:"amigo"}}createEmptyCV(){return{nombre:"",educacion:[],experiencia_laboral:[],idiomas:[],cursos_certificaciones_extra:[],contactos_referencias:[]}}static \u0275fac=function(e){return new(e||n)(U(We),U(de))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function Nk(n,t){if(n&1){let e=V();a(0,"div",26)(1,"div",27),I(),a(2,"svg",28),_(3,"path",29),l(),F(),a(4,"div",30)(5,"p",31),d(6),l()(),a(7,"div",32)(8,"button",33),E("click",function(){w(e);let i=g();return C(i.error="")}),I(),a(9,"svg",34),_(10,"path",35),l()()()()()}if(n&2){let e=g();p(6),M(e.error)}}function Vk(n,t){n&1&&(a(0,"div",36)(1,"div",37),_(2,"div",38),a(3,"p",39),d(4,"Cargando CVs..."),l()()())}function Lk(n,t){n&1&&(a(0,"div")(1,"div",72),I(),a(2,"svg",7),_(3,"path",73),l(),d(4," PDF disponible "),l()())}function jk(n,t){if(n&1){let e=V();a(0,"button",74),E("click",function(){w(e);let i=g().$implicit,o=g(3);return C(o.downloadCV(i))}),I(),a(1,"svg",70),_(2,"path",75),l()()}}function Uk(n,t){if(n&1){let e=V();a(0,"div",49)(1,"div",50)(2,"div",51)(3,"div",14)(4,"h3",52),d(5),l(),a(6,"p",44),d(7),l()(),a(8,"div",53)(9,"span",54),I(),a(10,"svg",55),_(11,"circle",56),l(),d(12," Activo "),l()()()(),F(),a(13,"div",57)(14,"div")(15,"h4",58),d(16,"Educaci\xF3n"),l(),a(17,"p",59),d(18),l()(),a(19,"div")(20,"h4",58),d(21,"Experiencia"),l(),a(22,"p",59),d(23),l()(),a(24,"div")(25,"h4",58),d(26,"Idiomas"),l(),a(27,"p",59),d(28),l()(),x(29,Lk,5,0,"div",60),l(),a(30,"div",61)(31,"div",42)(32,"div",5)(33,"button",62),E("click",function(){let i=w(e).$implicit,o=g(3);return C(o.viewCV(i))}),I(),a(34,"svg",63),_(35,"path",64)(36,"path",65),l(),d(37," Ver "),l(),F(),a(38,"button",66),E("click",function(){let i=w(e).$implicit,o=g(3);return C(o.editCV(i))}),I(),a(39,"svg",63),_(40,"path",67),l(),d(41," Editar "),l()(),F(),a(42,"div",5),x(43,jk,3,0,"button",68),a(44,"button",69),E("click",function(){let i=w(e).$implicit,o=g(3);return C(o.deleteCV(i))}),I(),a(45,"svg",70),_(46,"path",71),l()()()()()()}if(n&2){let e=t.$implicit,r=g(3);p(5),M(e.nombre),p(2),D(" Actualizado: ",r.formatDate(e.updated_at)," "),p(11),M(r.getEducationSummary(e)),p(5),M(r.getExperienceSummary(e)),p(5),M(r.getLanguagesSummary(e)),p(),h("ngIf",e.cv_pdf_url),p(14),h("ngIf",e.cv_pdf_url)}}function Bk(n,t){if(n&1&&(a(0,"div",47),x(1,Uk,47,7,"div",48),l()),n&2){let e=g(2);p(),h("ngForOf",e.filteredCVs)("ngForTrackBy",e.trackByCV)}}function Hk(n,t){if(n&1){let e=V();a(0,"button",84),E("click",function(){w(e);let i=g(3);return C(i.createNewCV())}),I(),a(1,"svg",10),_(2,"path",11),l(),d(3," Crear mi primer CV "),l()}}function $k(n,t){if(n&1){let e=V();a(0,"button",85),E("click",function(){w(e);let i=g(3);return C(i.clearSearch())}),d(1," Limpiar b\xFAsqueda "),l()}}function zk(n,t){if(n&1&&(a(0,"div",76)(1,"div",77),I(),a(2,"svg",78),_(3,"path",73),l(),F(),a(4,"h3",79),d(5,"No tienes CVs"),l(),a(6,"p",80),d(7),l(),a(8,"div",81),x(9,Hk,4,0,"button",82)(10,$k,2,0,"button",83),l()()()),n&2){let e=g(2);p(7),D(" ",e.cvs.length===0?"Comienza creando tu primer curriculum vitae.":"No se encontraron CVs con los filtros aplicados."," "),p(2),h("ngIf",e.cvs.length===0),p(),h("ngIf",e.cvs.length>0)}}function Gk(n,t){if(n&1&&(a(0,"div",40)(1,"div",41)(2,"div",42)(3,"h3",43),d(4),l(),a(5,"span",44),d(6),l()()(),x(7,Bk,2,2,"div",45)(8,zk,11,3,"div",46),l()),n&2){let e=g();p(4),ke(" Mis CVs (",e.filteredCVs.length," de ",e.cvs.length,") "),p(2),ke(" Mostrando ",e.filteredCVs.length," resultado",e.filteredCVs.length!==1?"s":""," "),p(),h("ngIf",e.filteredCVs.length>0),p(),h("ngIf",e.filteredCVs.length===0&&!e.loading)}}var Od=class n{constructor(t,e,r){this.cvService=t;this.authService=e;this.router=r}cvs=[];filteredCVs=[];loading=!0;error="";searchTerm="";currentUser=null;ngOnInit(){return y(this,null,function*(){this.currentUser=this.authService.getCurrentUser(),yield this.loadCVs()})}loadCVs(){return y(this,null,function*(){this.loading=!0,this.error="";try{let t=yield this.cvService.getUserCVs();t.success&&t.data?(this.cvs=t.data,this.filteredCVs=[...this.cvs],console.log("CVs cargados:",this.cvs)):(this.error=t.message,this.cvs=[],this.filteredCVs=[])}catch(t){console.error("Error cargando CVs:",t),this.error="Error al cargar los CVs",this.cvs=[],this.filteredCVs=[]}finally{this.loading=!1}})}onSearch(){if(!this.searchTerm.trim()){this.filteredCVs=[...this.cvs];return}let t=this.searchTerm.toLowerCase();this.filteredCVs=this.cvs.filter(e=>e.nombre.toLowerCase().includes(t))}createNewCV(){this.router.navigate(["/cv/crear"])}editCV(t){this.router.navigate(["/cv/editar",t.id])}viewCV(t){this.router.navigate(["/cv/ver",t.id])}deleteCV(t){return y(this,null,function*(){let e=`\xBFEst\xE1 seguro de eliminar el CV "${t.nombre}"?`;if(confirm(e))try{let r=yield this.cvService.deleteCV(t.id);r.success?(yield this.loadCVs(),console.log("CV eliminado exitosamente")):(this.error=r.message,setTimeout(()=>this.error="",5e3))}catch(r){console.error("Error eliminando CV:",r),this.error="Error al eliminar el CV",setTimeout(()=>this.error="",5e3)}})}downloadCV(t){t.cv_pdf_url?window.open(t.cv_pdf_url,"_blank"):alert("Este CV no tiene archivo PDF asociado")}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inv\xE1lida"}}getEducationSummary(t){return!t.educacion||t.educacion.length===0?"Sin educaci\xF3n registrada":t.educacion.map(r=>r.titulo_obtenido).slice(0,2).join(", ")+(t.educacion.length>2?"...":"")}getExperienceSummary(t){return!t.experiencia_laboral||t.experiencia_laboral.length===0?"Sin experiencia registrada":t.experiencia_laboral.map(r=>r.puesto_ejercido).slice(0,2).join(", ")+(t.experiencia_laboral.length>2?"...":"")}getLanguagesSummary(t){return!t.idiomas||t.idiomas.length===0?"Sin idiomas registrados":t.idiomas.map(r=>r.idioma).slice(0,3).join(", ")+(t.idiomas.length>3?"...":"")}refreshCVs(){return y(this,null,function*(){yield this.loadCVs()})}clearSearch(){this.searchTerm="",this.onSearch()}trackByCV(t,e){return e.id||t}static \u0275fac=function(e){return new(e||n)(R(Ir),R(de),R(ce))};static \u0275cmp=le({type:n,selectors:[["app-cv-list"]],standalone:!1,decls:33,vars:5,consts:[[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"flex","space-x-2"],["title","Refrescar lista",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"bg-white","rounded-lg","shadow","mb-6","p-6"],[1,"flex","items-center","space-x-4"],[1,"flex-1"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","search","type","text","placeholder","Buscar por nombre del CV...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"flex-shrink-0","mt-6"],[1,"text-sm","text-indigo-600","hover:text-indigo-800",3,"click"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-6",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-6"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"ml-auto","pl-3"],[1,"text-red-400","hover:text-red-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"space-y-6"],[1,"bg-white","px-4","py-3","border-b","border-gray-200","rounded-t-lg"],[1,"flex","justify-between","items-center"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["class","text-center py-12",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-200","border","border-gray-200"],[1,"p-6","border-b","border-gray-200"],[1,"flex","items-start","justify-between"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"flex-shrink-0"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"],[1,"p-6","space-y-4"],[1,"text-sm","font-medium","text-gray-700","mb-1"],[1,"text-sm","text-gray-600"],[4,"ngIf"],[1,"px-6","py-4","bg-gray-50","border-t","border-gray-200","rounded-b-lg"],["title","Ver CV completo",1,"text-indigo-600","hover:text-indigo-900","text-sm","font-medium","transition-colors","duration-150",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","inline","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Editar CV",1,"text-green-600","hover:text-green-900","text-sm","font-medium","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["class","text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors duration-150","title","Descargar PDF",3,"click",4,"ngIf"],["title","Eliminar CV",1,"text-red-600","hover:text-red-900","p-1","rounded","hover:bg-red-50","transition-colors","duration-150",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"flex","items-center","text-sm","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["title","Descargar PDF",1,"text-blue-600","hover:text-blue-900","p-1","rounded","hover:bg-blue-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-center","py-12"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6"],["class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-sm","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),d(5,"Mis Curriculum Vitae"),l(),a(6,"p",4),d(7),l()(),a(8,"div",5)(9,"button",6),E("click",function(){return r.refreshCVs()}),I(),a(10,"svg",7),_(11,"path",8),l(),d(12," Refrescar "),l(),F(),a(13,"button",9),E("click",function(){return r.createNewCV()}),I(),a(14,"svg",10),_(15,"path",11),l(),d(16," Nuevo CV "),l()()()(),F(),a(17,"div",12)(18,"div",13)(19,"div",14)(20,"label",15),d(21," Buscar CV "),l(),a(22,"div",16)(23,"input",17),A("ngModelChange",function(o){return O(r.searchTerm,o)||(r.searchTerm=o),o}),E("input",function(){return r.onSearch()}),l(),a(24,"div",18),I(),a(25,"svg",19),_(26,"path",20),l()()()(),F(),a(27,"div",21)(28,"button",22),E("click",function(){return r.clearSearch()}),d(29," Limpiar "),l()()()(),x(30,Nk,11,1,"div",23)(31,Vk,5,0,"div",24)(32,Gk,9,6,"div",25),l()),e&2&&(p(7),D(" Gestiona tus curriculum vitae - Total: ",r.cvs.length," "),p(16),k("ngModel",r.searchTerm),p(7),h("ngIf",r.error),p(),h("ngIf",r.loading),p(),h("ngIf",!r.loading))},dependencies:[Ce,pe,Ee,Te,Ie],encapsulation:2})};function Wk(n,t){n&1&&(a(0,"div",11)(1,"div",12),_(2,"div",13),a(3,"p",14),d(4,"Cargando CV..."),l()()())}function qk(n,t){if(n&1){let e=V();a(0,"div",38)(1,"div",3)(2,"div",39),I(),a(3,"svg",40),_(4,"path",41),l(),F(),a(5,"div")(6,"p",42),d(7,"Archivo PDF subido"),l(),a(8,"p",43),d(9,"Archivo disponible para descarga"),l()()(),a(10,"div",44)(11,"a",45),d(12," Ver "),l(),a(13,"button",46),E("click",function(){w(e);let i=g(2);return C(i.removeFile())}),d(14," Eliminar "),l()()()()}if(n&2){let e=g(2);p(11),h("href",e.cvForm.cv_pdf_url,Dn)}}function Yk(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function Zk(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function Qk(n,t){if(n&1){let e=V();a(0,"div",47)(1,"button",48),E("click",function(){let i=w(e).index,o=g(2);return C(o.removeEducacion(i))}),I(),a(2,"svg",49),_(3,"path",50),l()(),F(),a(4,"div",51)(5,"div")(6,"label",52),d(7," Instituci\xF3n "),a(8,"span",20),d(9,"*"),l()(),a(10,"input",53),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.institucion,i)||(o.institucion=i),C(i)}),l()(),a(11,"div")(12,"label",52),d(13," T\xEDtulo Obtenido "),a(14,"span",20),d(15,"*"),l()(),a(16,"input",54),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.titulo_obtenido,i)||(o.titulo_obtenido=i),C(i)}),l()(),a(17,"div")(18,"label",52),d(19," A\xF1o de Inicio "),a(20,"span",20),d(21,"*"),l()(),a(22,"select",55),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.anio_inicio,i)||(o.anio_inicio=i),C(i)}),a(23,"option",56),d(24,"Seleccionar a\xF1o"),l(),x(25,Yk,2,2,"option",57),l()(),a(26,"div")(27,"label",52),d(28," A\xF1o de Finalizaci\xF3n "),a(29,"span",20),d(30,"*"),l()(),a(31,"select",55),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.anio_finalizacion,i)||(o.anio_finalizacion=i),C(i)}),a(32,"option",56),d(33,"Seleccionar a\xF1o"),l(),x(34,Zk,2,2,"option",57),l()()()()}if(n&2){let e=t.$implicit,r=t.index,i=g(2);p(6),h("for","edu_institucion_"+r),p(4),h("id","edu_institucion_"+r),k("ngModel",e.institucion),h("name","edu_institucion_"+r),p(2),h("for","edu_titulo_"+r),p(4),h("id","edu_titulo_"+r),k("ngModel",e.titulo_obtenido),h("name","edu_titulo_"+r),p(2),h("for","edu_inicio_"+r),p(4),h("id","edu_inicio_"+r),k("ngModel",e.anio_inicio),h("name","edu_inicio_"+r),p(3),h("ngForOf",i.availableYears),p(2),h("for","edu_fin_"+r),p(4),h("id","edu_fin_"+r),k("ngModel",e.anio_finalizacion),h("name","edu_fin_"+r),p(3),h("ngForOf",i.availableYears)}}function Kk(n,t){n&1&&(a(0,"div",59)(1,"p"),d(2,'No has agregado ninguna educaci\xF3n. Haz clic en "Agregar Educaci\xF3n" para comenzar.'),l()())}function Jk(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function Xk(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function e4(n,t){if(n&1){let e=V();a(0,"div",47)(1,"button",60),E("click",function(){let i=w(e).index,o=g(2);return C(o.removeExperiencia(i))}),I(),a(2,"svg",49),_(3,"path",50),l()(),F(),a(4,"div",51)(5,"div")(6,"label",52),d(7," Empresa/Instituci\xF3n "),a(8,"span",20),d(9,"*"),l()(),a(10,"input",61),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.institucion,i)||(o.institucion=i),C(i)}),l()(),a(11,"div")(12,"label",52),d(13," Puesto Ejercido "),a(14,"span",20),d(15,"*"),l()(),a(16,"input",62),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.puesto_ejercido,i)||(o.puesto_ejercido=i),C(i)}),l()(),a(17,"div")(18,"label",52),d(19," A\xF1o de Inicio "),a(20,"span",20),d(21,"*"),l()(),a(22,"select",55),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.anio_inicio,i)||(o.anio_inicio=i),C(i)}),a(23,"option",56),d(24,"Seleccionar a\xF1o"),l(),x(25,Jk,2,2,"option",57),l()(),a(26,"div")(27,"label",52),d(28," A\xF1o de Finalizaci\xF3n "),a(29,"span",20),d(30,"*"),l()(),a(31,"select",55),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.anio_finalizacion,i)||(o.anio_finalizacion=i),C(i)}),a(32,"option",56),d(33,"Seleccionar a\xF1o"),l(),x(34,Xk,2,2,"option",57),l()(),a(35,"div",63)(36,"label",52),d(37," Motivo de Retiro "),l(),a(38,"input",64),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.motivo_retiro,i)||(o.motivo_retiro=i),C(i)}),l()()()()}if(n&2){let e=t.$implicit,r=t.index,i=g(2);p(6),h("for","exp_institucion_"+r),p(4),h("id","exp_institucion_"+r),k("ngModel",e.institucion),h("name","exp_institucion_"+r),p(2),h("for","exp_puesto_"+r),p(4),h("id","exp_puesto_"+r),k("ngModel",e.puesto_ejercido),h("name","exp_puesto_"+r),p(2),h("for","exp_inicio_"+r),p(4),h("id","exp_inicio_"+r),k("ngModel",e.anio_inicio),h("name","exp_inicio_"+r),p(3),h("ngForOf",i.availableYears),p(2),h("for","exp_fin_"+r),p(4),h("id","exp_fin_"+r),k("ngModel",e.anio_finalizacion),h("name","exp_fin_"+r),p(3),h("ngForOf",i.availableYears),p(2),h("for","exp_motivo_"+r),p(2),h("id","exp_motivo_"+r),k("ngModel",e.motivo_retiro),h("name","exp_motivo_"+r)}}function t4(n,t){n&1&&(a(0,"div",59)(1,"p"),d(2,'No has agregado ninguna experiencia laboral. Haz clic en "Agregar Experiencia" para comenzar.'),l()())}function n4(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit,r=g(3);h("value",e),p(),M(r.capitalize(e))}}function r4(n,t){if(n&1){let e=V();a(0,"div",47)(1,"button",65),E("click",function(){let i=w(e).index,o=g(2);return C(o.removeIdioma(i))}),I(),a(2,"svg",49),_(3,"path",50),l()(),F(),a(4,"div",51)(5,"div")(6,"label",52),d(7," Idioma "),a(8,"span",20),d(9,"*"),l()(),a(10,"input",66),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.idioma,i)||(o.idioma=i),C(i)}),l()(),a(11,"div")(12,"label",52),d(13," Nivel "),a(14,"span",20),d(15,"*"),l()(),a(16,"select",55),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.nivel,i)||(o.nivel=i),C(i)}),a(17,"option",56),d(18,"Seleccionar nivel"),l(),x(19,n4,2,2,"option",57),l()()()()}if(n&2){let e=t.$implicit,r=t.index,i=g(2);p(6),h("for","idioma_nombre_"+r),p(4),h("id","idioma_nombre_"+r),k("ngModel",e.idioma),h("name","idioma_nombre_"+r),p(2),h("for","idioma_nivel_"+r),p(4),h("id","idioma_nivel_"+r),k("ngModel",e.nivel),h("name","idioma_nivel_"+r),p(3),h("ngForOf",i.nivelesIdioma)}}function i4(n,t){n&1&&(a(0,"div",59)(1,"p"),d(2,'No has agregado ning\xFAn idioma. Haz clic en "Agregar Idioma" para comenzar.'),l()())}function o4(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function s4(n,t){if(n&1){let e=V();a(0,"div",47)(1,"button",67),E("click",function(){let i=w(e).index,o=g(2);return C(o.removeCurso(i))}),I(),a(2,"svg",49),_(3,"path",50),l()(),F(),a(4,"div",68)(5,"div")(6,"label",52),d(7," Nombre del Curso/Certificaci\xF3n "),a(8,"span",20),d(9,"*"),l()(),a(10,"input",69),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.nombre_reconocimiento,i)||(o.nombre_reconocimiento=i),C(i)}),l()(),a(11,"div")(12,"label",52),d(13," Instituci\xF3n "),a(14,"span",20),d(15,"*"),l()(),a(16,"input",70),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.institucion,i)||(o.institucion=i),C(i)}),l()(),a(17,"div")(18,"label",52),d(19," A\xF1o Realizado "),a(20,"span",20),d(21,"*"),l()(),a(22,"select",55),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.anio_realizado,i)||(o.anio_realizado=i),C(i)}),a(23,"option",56),d(24,"Seleccionar a\xF1o"),l(),x(25,o4,2,2,"option",57),l()()()()}if(n&2){let e=t.$implicit,r=t.index,i=g(2);p(6),h("for","curso_nombre_"+r),p(4),h("id","curso_nombre_"+r),k("ngModel",e.nombre_reconocimiento),h("name","curso_nombre_"+r),p(2),h("for","curso_institucion_"+r),p(4),h("id","curso_institucion_"+r),k("ngModel",e.institucion),h("name","curso_institucion_"+r),p(2),h("for","curso_anio_"+r),p(4),h("id","curso_anio_"+r),k("ngModel",e.anio_realizado),h("name","curso_anio_"+r),p(3),h("ngForOf",i.availableYears)}}function a4(n,t){n&1&&(a(0,"div",59)(1,"p"),d(2,'No has agregado ning\xFAn curso o certificaci\xF3n. Haz clic en "Agregar Curso/Certificaci\xF3n" para comenzar.'),l()())}function l4(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit,r=g(3);h("value",e),p(),M(r.capitalize(e))}}function c4(n,t){if(n&1){let e=V();a(0,"div",47)(1,"button",71),E("click",function(){let i=w(e).index,o=g(2);return C(o.removeContacto(i))}),I(),a(2,"svg",49),_(3,"path",50),l()(),F(),a(4,"div",68)(5,"div")(6,"label",52),d(7," Nombre y Apellido "),a(8,"span",20),d(9,"*"),l()(),a(10,"input",72),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.nombre_apellido,i)||(o.nombre_apellido=i),C(i)}),l()(),a(11,"div")(12,"label",52),d(13," N\xFAmero Telef\xF3nico "),a(14,"span",20),d(15,"*"),l()(),a(16,"input",73),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.numero_telefonico,i)||(o.numero_telefonico=i),C(i)}),l()(),a(17,"div")(18,"label",52),d(19," Parentesco/Relaci\xF3n "),a(20,"span",20),d(21,"*"),l()(),a(22,"select",55),A("ngModelChange",function(i){let o=w(e).$implicit;return O(o.parentesco,i)||(o.parentesco=i),C(i)}),a(23,"option",56),d(24,"Seleccionar relaci\xF3n"),l(),x(25,l4,2,2,"option",57),l()()()()}if(n&2){let e=t.$implicit,r=t.index,i=g(2);p(6),h("for","contacto_nombre_"+r),p(4),h("id","contacto_nombre_"+r),k("ngModel",e.nombre_apellido),h("name","contacto_nombre_"+r),p(2),h("for","contacto_telefono_"+r),p(4),h("id","contacto_telefono_"+r),k("ngModel",e.numero_telefonico),h("name","contacto_telefono_"+r),p(2),h("for","contacto_parentesco_"+r),p(4),h("id","contacto_parentesco_"+r),k("ngModel",e.parentesco),h("name","contacto_parentesco_"+r),p(3),h("ngForOf",i.tiposParentesco)}}function d4(n,t){n&1&&(a(0,"div",59)(1,"p"),d(2,'No has agregado ning\xFAn contacto de referencia. Haz clic en "Agregar Contacto" para comenzar.'),l()())}function u4(n,t){if(n&1&&(a(0,"div",74)(1,"div",75),I(),a(2,"svg",76),_(3,"path",77),l(),F(),a(4,"div",78)(5,"p",79),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.error)}}function p4(n,t){if(n&1&&(a(0,"div",80)(1,"div",75),I(),a(2,"svg",81),_(3,"path",82),l(),F(),a(4,"div",78)(5,"p",83),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.successMessage)}}function f4(n,t){n&1&&_(0,"div",84)}function m4(n,t){if(n&1){let e=V();a(0,"div")(1,"form",15,0),E("ngSubmit",function(){w(e);let i=g();return C(i.onSubmit())}),a(3,"div",16)(4,"h2",17),d(5,"Informaci\xF3n B\xE1sica"),l(),a(6,"div",18)(7,"div")(8,"label",19),d(9," Nombre del CV "),a(10,"span",20),d(11,"*"),l()(),a(12,"input",21),A("ngModelChange",function(i){w(e);let o=g();return O(o.cvForm.nombre,i)||(o.cvForm.nombre=i),C(i)}),l()(),a(13,"div"),x(14,qk,15,1,"div",22),l()()(),a(15,"div",16)(16,"div",23)(17,"h2",24),d(18,"Educaci\xF3n"),l(),a(19,"button",25),E("click",function(){w(e);let i=g();return C(i.addEducacion())}),I(),a(20,"svg",26),_(21,"path",27),l(),d(22," Agregar Educaci\xF3n "),l()(),F(),a(23,"div",28),x(24,Qk,35,18,"div",29)(25,Kk,3,0,"div",30),l()(),a(26,"div",16)(27,"div",23)(28,"h2",24),d(29,"Experiencia Laboral"),l(),a(30,"button",25),E("click",function(){w(e);let i=g();return C(i.addExperiencia())}),I(),a(31,"svg",26),_(32,"path",27),l(),d(33," Agregar Experiencia "),l()(),F(),a(34,"div",28),x(35,e4,39,22,"div",29)(36,t4,3,0,"div",30),l()(),a(37,"div",16)(38,"div",23)(39,"h2",24),d(40,"Idiomas"),l(),a(41,"button",25),E("click",function(){w(e);let i=g();return C(i.addIdioma())}),I(),a(42,"svg",26),_(43,"path",27),l(),d(44," Agregar Idioma "),l()(),F(),a(45,"div",31),x(46,r4,20,9,"div",29)(47,i4,3,0,"div",30),l()(),a(48,"div",16)(49,"div",23)(50,"h2",24),d(51,"Cursos y Certificaciones"),l(),a(52,"button",25),E("click",function(){w(e);let i=g();return C(i.addCurso())}),I(),a(53,"svg",26),_(54,"path",27),l(),d(55," Agregar Curso/Certificaci\xF3n "),l()(),F(),a(56,"div",31),x(57,s4,26,13,"div",29)(58,a4,3,0,"div",30),l()(),a(59,"div",16)(60,"div",23)(61,"h2",24),d(62,"Contactos y Referencias"),l(),a(63,"button",25),E("click",function(){w(e);let i=g();return C(i.addContacto())}),I(),a(64,"svg",26),_(65,"path",27),l(),d(66," Agregar Contacto "),l()(),F(),a(67,"div",31),x(68,c4,26,13,"div",29)(69,d4,3,0,"div",30),l()(),x(70,u4,7,1,"div",32)(71,p4,7,1,"div",33),a(72,"div",34)(73,"button",35),E("click",function(){w(e);let i=g();return C(i.cancel())}),d(74," Cancelar "),l(),a(75,"button",36),x(76,f4,1,0,"div",37),d(77),l()()()()}if(n&2){let e=Fe(2),r=g();p(12),k("ngModel",r.cvForm.nombre),p(2),h("ngIf",r.cvForm.cv_pdf_url),p(10),h("ngForOf",r.cvForm.educacion)("ngForTrackBy",r.trackByIndex),p(),h("ngIf",r.cvForm.educacion.length===0),p(10),h("ngForOf",r.cvForm.experiencia_laboral)("ngForTrackBy",r.trackByIndex),p(),h("ngIf",r.cvForm.experiencia_laboral.length===0),p(10),h("ngForOf",r.cvForm.idiomas)("ngForTrackBy",r.trackByIndex),p(),h("ngIf",r.cvForm.idiomas.length===0),p(10),h("ngForOf",r.cvForm.cursos_certificaciones_extra)("ngForTrackBy",r.trackByIndex),p(),h("ngIf",r.cvForm.cursos_certificaciones_extra.length===0),p(10),h("ngForOf",r.cvForm.contactos_referencias)("ngForTrackBy",r.trackByIndex),p(),h("ngIf",r.cvForm.contactos_referencias.length===0),p(),h("ngIf",r.error),p(),h("ngIf",r.successMessage),p(4),h("disabled",r.loading||!e.form.valid),p(),h("ngIf",r.loading),p(),D(" ",r.getSubmitButtonText()," ")}}var mi=class n{constructor(t,e,r,i){this.cvService=t;this.authService=e;this.route=r;this.router=i;this.cvForm=this.cvService.createEmptyCV(),this.availableYears=this.cvService.getAvailableYears()}cvForm;loading=!1;error="";successMessage="";isEditMode=!1;cvId=null;currentUser=null;nivelesIdioma=[...Un.NIVELES_IDIOMA];tiposParentesco=[...Un.TIPOS_PARENTESCO];availableYears=[];selectedFile=null;uploadingFile=!1;ngOnInit(){return y(this,null,function*(){this.currentUser=this.authService.getCurrentUser();let t=this.route.snapshot.params.id;t&&(this.isEditMode=!0,this.cvId=parseInt(t),yield this.loadCV())})}loadCV(){return y(this,null,function*(){if(this.cvId){this.loading=!0,this.error="";try{let t=yield this.cvService.getCVById(this.cvId);t.success&&t.data?this.cvForm={nombre:t.data.nombre,cv_pdf_url:t.data.cv_pdf_url,educacion:t.data.educacion||[],experiencia_laboral:t.data.experiencia_laboral||[],idiomas:t.data.idiomas||[],cursos_certificaciones_extra:t.data.cursos_certificaciones_extra||[],contactos_referencias:t.data.contactos_referencias||[]}:this.error=t.message}catch(t){console.error("Error cargando CV:",t),this.error="Error al cargar el CV"}finally{this.loading=!1}}})}onSubmit(){return y(this,null,function*(){this.loading=!0,this.error="",this.successMessage="";try{let t;this.isEditMode&&this.cvId?t=yield this.cvService.updateCV(this.cvId,this.cvForm):t=yield this.cvService.createCV(this.cvForm),t.success?(this.successMessage=t.message,setTimeout(()=>{this.router.navigate(["/cv/mis-cvs"])},2e3)):this.error=t.message}catch(t){console.error("Error guardando CV:",t),this.error="Error inesperado al guardar el CV"}finally{this.loading=!1}})}addEducacion(){this.cvForm.educacion.push(this.cvService.getEmptyEducacion())}removeEducacion(t){confirm("\xBFEst\xE1 seguro de eliminar esta educaci\xF3n?")&&this.cvForm.educacion.splice(t,1)}addExperiencia(){this.cvForm.experiencia_laboral.push(this.cvService.getEmptyExperiencia())}removeExperiencia(t){confirm("\xBFEst\xE1 seguro de eliminar esta experiencia laboral?")&&this.cvForm.experiencia_laboral.splice(t,1)}addIdioma(){this.cvForm.idiomas.push(this.cvService.getEmptyIdioma())}removeIdioma(t){confirm("\xBFEst\xE1 seguro de eliminar este idioma?")&&this.cvForm.idiomas.splice(t,1)}addCurso(){this.cvForm.cursos_certificaciones_extra.push(this.cvService.getEmptyCurso())}removeCurso(t){confirm("\xBFEst\xE1 seguro de eliminar este curso/certificaci\xF3n?")&&this.cvForm.cursos_certificaciones_extra.splice(t,1)}addContacto(){this.cvForm.contactos_referencias.push(this.cvService.getEmptyContacto())}removeContacto(t){confirm("\xBFEst\xE1 seguro de eliminar este contacto de referencia?")&&this.cvForm.contactos_referencias.splice(t,1)}onFileSelected(t){let e=t.target.files[0];if(e){if(e.size>Un.MAX_FILE_SIZE){this.error=`El archivo es demasiado grande. M\xE1ximo ${Un.MAX_FILE_SIZE/1024/1024}MB.`;return}if(!Un.ALLOWED_FILE_TYPES.includes(e.type)){this.error="Solo se permiten archivos PDF.";return}this.selectedFile=e,this.error=""}}uploadFile(){return y(this,null,function*(){if(this.selectedFile){this.uploadingFile=!0,this.error="";try{let t=yield this.cvService.uploadCVFile(this.selectedFile);t.success&&t.url?(this.cvForm.cv_pdf_url=t.url,this.selectedFile=null,this.successMessage="Archivo subido exitosamente",setTimeout(()=>this.successMessage="",3e3)):this.error=t.message}catch(t){console.error("Error subiendo archivo:",t),this.error="Error al subir el archivo"}finally{this.uploadingFile=!1}}})}removeFile(){return y(this,null,function*(){if(this.cvForm.cv_pdf_url&&confirm("\xBFEst\xE1 seguro de eliminar el archivo PDF?"))try{yield this.cvService.deleteCVFile(this.cvForm.cv_pdf_url),this.cvForm.cv_pdf_url=void 0,this.successMessage="Archivo eliminado exitosamente",setTimeout(()=>this.successMessage="",3e3)}catch(t){console.error("Error eliminando archivo:",t),this.error="Error al eliminar el archivo"}})}cancel(){confirm("\xBFEst\xE1 seguro de cancelar? Se perder\xE1n los cambios no guardados.")&&this.router.navigate(["/cv/mis-cvs"])}getPageTitle(){return this.isEditMode?"Editar CV":"Crear Nuevo CV"}getSubmitButtonText(){return this.loading?this.isEditMode?"Actualizando...":"Creando...":this.isEditMode?"Actualizar CV":"Crear CV"}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}validateYears(t,e){return e>=t}trackByIndex(t){return t}static \u0275fac=function(e){return new(e||n)(R(Ir),R(de),R(bt),R(ce))};static \u0275cmp=le({type:n,selectors:[["app-cv-form"]],standalone:!1,decls:14,vars:4,consts:[["cvFormElement","ngForm"],[1,"max-w-4xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],["class","flex justify-center items-center h-64",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"space-y-8",3,"ngSubmit"],[1,"bg-white","shadow","rounded-lg","p-6"],[1,"text-xl","font-semibold","text-gray-900","mb-6"],[1,"grid","grid-cols-1","gap-6"],["for","nombre",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["id","nombre","type","text","name","nombre","required","","maxlength","255","placeholder","Ej: CV - Juan P\xE9rez - Desarrollador",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["class","mb-4 p-4 bg-green-50 border border-green-200 rounded-md",4,"ngIf"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-semibold","text-gray-900"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-indigo-700","bg-indigo-100","hover:bg-indigo-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-0.5","mr-2","h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"space-y-6"],["class","border border-gray-200 rounded-lg p-4 relative",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-6 text-gray-500",4,"ngIf"],[1,"space-y-4"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],["class","bg-green-50 border border-green-200 rounded-md p-4",4,"ngIf"],[1,"flex","justify-end","space-x-3","pt-6","border-t","border-gray-200"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","submit",1,"inline-flex","justify-center","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2",4,"ngIf"],[1,"mb-4","p-4","bg-green-50","border","border-green-200","rounded-md"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-green-600","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","font-medium","text-green-800"],[1,"text-xs","text-green-600"],[1,"flex","space-x-2"],["target","_blank",1,"text-green-600","hover:text-green-800","text-sm","font-medium",3,"href"],["type","button",1,"text-red-600","hover:text-red-800","text-sm","font-medium",3,"click"],[1,"border","border-gray-200","rounded-lg","p-4","relative"],["type","button","title","Eliminar educaci\xF3n",1,"absolute","top-2","right-2","text-red-600","hover:text-red-800",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1",3,"for"],["type","text","required","","placeholder","Ej: Universidad de San Carlos",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","text","required","","placeholder","Ej: Ingenier\xEDa en Sistemas",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["required","",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-center","py-6","text-gray-500"],["type","button","title","Eliminar experiencia",1,"absolute","top-2","right-2","text-red-600","hover:text-red-800",3,"click"],["type","text","required","","placeholder","Ej: Tech Solutions GT",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","text","required","","placeholder","Ej: Desarrollador Full Stack",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],[1,"md:col-span-2"],["type","text","placeholder","Ej: B\xFAsqueda de crecimiento profesional",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","button","title","Eliminar idioma",1,"absolute","top-2","right-2","text-red-600","hover:text-red-800",3,"click"],["type","text","required","","placeholder","Ej: Ingl\xE9s",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","button","title","Eliminar curso/certificaci\xF3n",1,"absolute","top-2","right-2","text-red-600","hover:text-red-800",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["type","text","required","","placeholder","Ej: Certificaci\xF3n AWS Solutions Architect",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","text","required","","placeholder","Ej: Amazon Web Services",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","button","title","Eliminar contacto",1,"absolute","top-2","right-2","text-red-600","hover:text-red-800",3,"click"],["type","text","required","","placeholder","Ej: Mar\xEDa P\xE9rez Garc\xEDa",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","tel","required","","placeholder","Ej: +502 1234-5678",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"bg-green-50","border","border-green-200","rounded-md","p-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","text-green-700"],[1,"animate-spin","rounded-full","h-4","w-4","border-b-2","border-white","mr-2"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),d(5),l(),a(6,"p",5),d(7),l()(),a(8,"button",6),E("click",function(){return r.cancel()}),I(),a(9,"svg",7),_(10,"path",8),l(),d(11," Volver "),l()()(),x(12,Wk,5,0,"div",9)(13,m4,78,22,"div",10),l()),e&2&&(p(5),M(r.getPageTitle()),p(2),D(" ",r.isEditMode?"Modifica la informaci\xF3n de tu curriculum vitae":"Completa la informaci\xF3n para crear tu curriculum vitae"," "),p(5),h("ngIf",r.loading&&r.isEditMode),p(),h("ngIf",!r.loading||!r.isEditMode))},dependencies:[Ce,pe,Ye,et,tt,Ee,Ze,Te,qe,Ue,nh,Ie,je],encapsulation:2})};function h4(n,t){if(n&1){let e=V();a(0,"button",18),E("click",function(){w(e);let i=g();return C(i.editCV())}),I(),a(1,"svg",12),_(2,"path",19),l(),d(3," Editar "),l()}}function g4(n,t){n&1&&(a(0,"div",20)(1,"div",21),_(2,"div",22),a(3,"p",23),d(4,"Cargando CV..."),l()()())}function v4(n,t){if(n&1&&(a(0,"div",24)(1,"div",25),I(),a(2,"svg",26),_(3,"path",27),l(),F(),a(4,"div",28)(5,"p",29),d(6),l()()()()),n&2){let e=g();p(6),M(e.error)}}function _4(n,t){if(n&1&&(a(0,"div",47)(1,"div",48)(2,"div",49)(3,"h3",50),d(4),l(),a(5,"p",51),d(6),l(),a(7,"p",52),d(8),a(9,"span",53),d(10),l()()()()()),n&2){let e=t.$implicit;p(4),M(e.titulo_obtenido),p(2),M(e.institucion),p(2),ke(" ",e.anio_inicio," - ",e.anio_finalizacion," "),p(2),D("(",e.anio_finalizacion-e.anio_inicio+1," a\xF1os)")}}function y4(n,t){if(n&1&&(a(0,"div",45),x(1,_4,11,5,"div",46),l()),n&2){let e=g(2);p(),h("ngForOf",e.cv.educacion)}}function b4(n,t){n&1&&(a(0,"div",54),I(),a(1,"svg",55),_(2,"path",56),l(),F(),a(3,"p",57),d(4,"No hay informaci\xF3n de educaci\xF3n registrada"),l()())}function x4(n,t){if(n&1&&(a(0,"p",62)(1,"strong"),d(2,"Motivo de retiro:"),l(),d(3),l()),n&2){let e=g().$implicit;p(3),D(" ",e.motivo_retiro," ")}}function w4(n,t){if(n&1&&(a(0,"div",59)(1,"div",48)(2,"div",49)(3,"h3",50),d(4),l(),a(5,"p",60),d(6),l(),a(7,"p",52),d(8),a(9,"span",53),d(10),l()(),x(11,x4,4,1,"p",61),l()()()),n&2){let e=t.$implicit;p(4),M(e.puesto_ejercido),p(2),M(e.institucion),p(2),ke(" ",e.anio_inicio," - ",e.anio_finalizacion," "),p(2),D("(",e.anio_finalizacion-e.anio_inicio+1," a\xF1os)"),p(),h("ngIf",e.motivo_retiro)}}function C4(n,t){if(n&1&&(a(0,"div",45),x(1,w4,12,6,"div",58),l()),n&2){let e=g(2);p(),h("ngForOf",e.cv.experiencia_laboral)}}function E4(n,t){n&1&&(a(0,"div",54),I(),a(1,"svg",55),_(2,"path",63),l(),F(),a(3,"p",57),d(4,"No hay experiencia laboral registrada"),l()())}function S4(n,t){if(n&1&&(a(0,"div",66)(1,"div",7)(2,"h3",67),d(3),l(),a(4,"span"),d(5),l()()()),n&2){let e=t.$implicit,r=g(3);p(3),M(e.idioma),p(),he("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.nivel==="materno"?"bg-purple-100 text-purple-800":e.nivel==="avanzado"?"bg-green-100 text-green-800":e.nivel==="intermedio"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800")),p(),D(" ",r.capitalize(e.nivel)," ")}}function M4(n,t){if(n&1&&(a(0,"div",64),x(1,S4,6,4,"div",65),l()),n&2){let e=g(2);p(),h("ngForOf",e.cv.idiomas)}}function I4(n,t){n&1&&(a(0,"div",54),I(),a(1,"svg",55),_(2,"path",68),l(),F(),a(3,"p",57),d(4,"No hay idiomas registrados"),l()())}function D4(n,t){if(n&1&&(a(0,"div",70)(1,"div",48)(2,"div",49)(3,"h3",50),d(4),l(),a(5,"p",71),d(6),l(),a(7,"p",52),d(8),l()()()()),n&2){let e=t.$implicit;p(4),M(e.nombre_reconocimiento),p(2),M(e.institucion),p(2),D("A\xF1o: ",e.anio_realizado,"")}}function T4(n,t){if(n&1&&(a(0,"div",45),x(1,D4,9,3,"div",69),l()),n&2){let e=g(2);p(),h("ngForOf",e.cv.cursos_certificaciones_extra)}}function k4(n,t){n&1&&(a(0,"div",54),I(),a(1,"svg",55),_(2,"path",72),l(),F(),a(3,"p",57),d(4,"No hay cursos o certificaciones registrados"),l()())}function A4(n,t){if(n&1&&(a(0,"div",75)(1,"div",76)(2,"div",77)(3,"div",78),I(),a(4,"svg",79),_(5,"path",80),l()()(),F(),a(6,"div",81)(7,"h3",67),d(8),l(),a(9,"p",82),d(10),l(),a(11,"span",83),d(12),l()()()()),n&2){let e=t.$implicit,r=g(3);p(8),M(e.nombre_apellido),p(2),M(e.numero_telefonico),p(2),D(" ",r.capitalize(e.parentesco)," ")}}function O4(n,t){if(n&1&&(a(0,"div",73),x(1,A4,13,3,"div",74),l()),n&2){let e=g(2);p(),h("ngForOf",e.cv.contactos_referencias)}}function P4(n,t){n&1&&(a(0,"div",54),I(),a(1,"svg",55),_(2,"path",84),l(),F(),a(3,"p",57),d(4,"No hay contactos de referencia registrados"),l()())}function F4(n,t){if(n&1&&(a(0,"div",30)(1,"div",31)(2,"div",32)(3,"h2",33),d(4,"Informaci\xF3n B\xE1sica"),l()(),a(5,"div",34)(6,"dl",35)(7,"div")(8,"dt",36),d(9,"Nombre del CV"),l(),a(10,"dd",37),d(11),l()(),a(12,"div")(13,"dt",36),d(14,"Estado"),l(),a(15,"dd",38)(16,"span",39),I(),a(17,"svg",40),_(18,"circle",41),l(),d(19," Activo "),l()()(),F(),a(20,"div")(21,"dt",36),d(22,"Fecha de Creaci\xF3n"),l(),a(23,"dd",37),d(24),l()(),a(25,"div")(26,"dt",36),d(27,"\xDAltima Actualizaci\xF3n"),l(),a(28,"dd",37),d(29),l()()()()(),a(30,"div",31)(31,"div",32)(32,"h2",33),d(33,"Educaci\xF3n"),l()(),a(34,"div",34),x(35,y4,2,1,"div",42)(36,b4,5,0,"ng-template",null,0,Tn),l()(),a(38,"div",31)(39,"div",32)(40,"h2",33),d(41,"Experiencia Laboral"),l()(),a(42,"div",34),x(43,C4,2,1,"div",42)(44,E4,5,0,"ng-template",null,1,Tn),l()(),a(46,"div",31)(47,"div",32)(48,"h2",33),d(49,"Idiomas"),l()(),a(50,"div",34),x(51,M4,2,1,"div",43)(52,I4,5,0,"ng-template",null,2,Tn),l()(),a(54,"div",31)(55,"div",32)(56,"h2",33),d(57,"Cursos y Certificaciones"),l()(),a(58,"div",34),x(59,T4,2,1,"div",42)(60,k4,5,0,"ng-template",null,3,Tn),l()(),a(62,"div",31)(63,"div",32)(64,"h2",33),d(65,"Contactos y Referencias"),l()(),a(66,"div",34),x(67,O4,2,1,"div",44)(68,P4,5,0,"ng-template",null,4,Tn),l()()()),n&2){let e=Fe(37),r=Fe(45),i=Fe(53),o=Fe(61),s=Fe(69),c=g();p(11),M(c.cv.nombre),p(13),M(c.formatDate(c.cv.created_at)),p(5),M(c.formatDate(c.cv.updated_at)),p(6),h("ngIf",c.cv.educacion&&c.cv.educacion.length>0)("ngIfElse",e),p(8),h("ngIf",c.cv.experiencia_laboral&&c.cv.experiencia_laboral.length>0)("ngIfElse",r),p(8),h("ngIf",c.cv.idiomas&&c.cv.idiomas.length>0)("ngIfElse",i),p(8),h("ngIf",c.cv.cursos_certificaciones_extra&&c.cv.cursos_certificaciones_extra.length>0)("ngIfElse",o),p(8),h("ngIf",c.cv.contactos_referencias&&c.cv.contactos_referencias.length>0)("ngIfElse",s)}}var Pd=class n{constructor(t,e,r){this.cvService=t;this.route=e;this.router=r;this.cvId=parseInt(this.route.snapshot.params.id)}cv=null;loading=!0;error="";cvId;ngOnInit(){return y(this,null,function*(){yield this.loadCV()})}loadCV(){return y(this,null,function*(){this.loading=!0,this.error="";try{let t=yield this.cvService.getCVById(this.cvId);t.success&&t.data?this.cv=t.data:this.error=t.message}catch(t){console.error("Error cargando CV:",t),this.error="Error al cargar el CV"}finally{this.loading=!1}})}editCV(){this.router.navigate(["/cv/editar",this.cvId])}goBack(){this.router.navigate(["/cv/mis-cvs"])}downloadPDF(){this.cv?.cv_pdf_url&&window.open(this.cv.cv_pdf_url,"_blank")}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inv\xE1lida"}}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}static \u0275fac=function(e){return new(e||n)(R(Ir),R(bt),R(ce))};static \u0275cmp=le({type:n,selectors:[["app-cv-view"]],standalone:!1,decls:17,vars:5,consts:[["noEducation",""],["noExperience",""],["noLanguages",""],["noCourses",""],["noContacts",""],[1,"max-w-4xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"flex","space-x-3"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],["class","inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-6",4,"ngIf"],["class","space-y-8",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-6"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"space-y-8"],[1,"bg-white","shadow","rounded-lg","overflow-hidden"],[1,"px-6","py-4","bg-gray-50","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"px-6","py-4"],[1,"grid","grid-cols-1","gap-x-4","gap-y-4","sm:grid-cols-2"],[1,"text-sm","font-medium","text-gray-500"],[1,"mt-1","text-sm","text-gray-900"],[1,"mt-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"],["class","space-y-4",4,"ngIf","ngIfElse"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",4,"ngIf","ngIfElse"],["class","grid grid-cols-1 md:grid-cols-2 gap-4",4,"ngIf","ngIfElse"],[1,"space-y-4"],["class","border-l-4 border-indigo-400 pl-4 py-2",4,"ngFor","ngForOf"],[1,"border-l-4","border-indigo-400","pl-4","py-2"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-md","text-indigo-600","font-medium"],[1,"text-sm","text-gray-500"],[1,"ml-2"],[1,"text-center","py-6","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"],[1,"mt-2","text-sm"],["class","border-l-4 border-green-400 pl-4 py-2",4,"ngFor","ngForOf"],[1,"border-l-4","border-green-400","pl-4","py-2"],[1,"text-md","text-green-600","font-medium"],["class","text-sm text-gray-600 mt-2",4,"ngIf"],[1,"text-sm","text-gray-600","mt-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","bg-blue-50 border border-blue-200 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"text-md","font-medium","text-gray-900"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"],["class","border-l-4 border-yellow-400 pl-4 py-2",4,"ngFor","ngForOf"],[1,"border-l-4","border-yellow-400","pl-4","py-2"],[1,"text-md","text-yellow-600","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","bg-gray-50 border border-gray-200 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"bg-gray-50","border","border-gray-200","rounded-lg","p-4"],[1,"flex","items-start"],[1,"flex-shrink-0"],[1,"h-10","w-10","bg-indigo-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"ml-4","flex-1"],[1,"text-sm","text-gray-600"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","bg-blue-100","text-blue-800","mt-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"]],template:function(e,r){e&1&&(a(0,"div",5)(1,"div",6)(2,"div",7)(3,"div")(4,"h1",8),d(5),l(),a(6,"p",9),d(7," Vista detallada del curriculum vitae "),l()(),a(8,"div",10)(9,"button",11),E("click",function(){return r.goBack()}),I(),a(10,"svg",12),_(11,"path",13),l(),d(12," Volver "),l(),x(13,h4,4,0,"button",14),l()()(),x(14,g4,5,0,"div",15)(15,v4,7,1,"div",16)(16,F4,70,13,"div",17),l()),e&2&&(p(5),M((r.cv==null?null:r.cv.nombre)||"Curriculum Vitae"),p(8),h("ngIf",r.cv),p(),h("ngIf",r.loading),p(),h("ngIf",r.error&&!r.loading),p(),h("ngIf",r.cv&&!r.loading))},dependencies:[Ce,pe],encapsulation:2})};var R4=(n,t)=>({"bg-green-100 text-green-800":n,"bg-red-100 text-red-800":t});function N4(n,t){if(n&1){let e=V();a(0,"button",37),E("click",function(){w(e);let i=g();return C(i.openCreateModal())}),I(),a(1,"svg",38),_(2,"path",39),l(),d(3," Nueva Empresa "),l()}}function V4(n,t){n&1&&(a(0,"div",40),d(1," Solo supervisores pueden crear empresas "),l())}function L4(n,t){if(n&1&&(a(0,"option",41),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function j4(n,t){if(n&1&&(a(0,"option",41),d(1),l()),n&2){let e=t.$implicit,r=g();h("value",e),p(),M(r.getTamanoLegible(e))}}function U4(n,t){if(n&1){let e=V();a(0,"div",42)(1,"div",43),I(),a(2,"svg",44),_(3,"path",45),l(),F(),a(4,"div",46)(5,"p",47),d(6),l()(),a(7,"div",48)(8,"button",49),E("click",function(){w(e);let i=g();return C(i.error="")}),I(),a(9,"svg",50),_(10,"path",51),l()()()()()}if(n&2){let e=g();p(6),M(e.error)}}function B4(n,t){n&1&&(a(0,"div",52)(1,"div",53),_(2,"div",54),a(3,"p",55),d(4,"Cargando empresas..."),l()()())}function H4(n,t){if(n&1&&(a(0,"span"),d(1),l()),n&2){let e=g().$implicit;p(),M(e.direccion)}}function $4(n,t){n&1&&(a(0,"span"),d(1,"Sin direcci\xF3n"),l())}function z4(n,t){if(n&1&&(a(0,"div",97)(1,"a",98),d(2),l()()),n&2){let e=g().$implicit;p(),h("href",e.sitio_web,Dn),p(),D(" ",e.sitio_web," ")}}function G4(n,t){if(n&1&&(a(0,"div",100)(1,"span",101),d(2),l()()),n&2){let e=t.$implicit;p(2),D(" ",e.full_name||e.username," ")}}function W4(n,t){if(n&1&&(a(0,"div"),x(1,G4,3,1,"div",99),l()),n&2){let e=g().$implicit;p(),h("ngForOf",e.responsables_info)}}function q4(n,t){n&1&&(a(0,"span",102),d(1,"Sin responsables"),l())}function Y4(n,t){if(n&1&&(a(0,"div",103),I(),a(1,"svg",104),_(2,"path",105),l(),d(3),l()),n&2){let e=g().$implicit;p(3),D(" ",e.telefono," ")}}function Z4(n,t){if(n&1&&(a(0,"div",70),I(),a(1,"svg",104),_(2,"path",106),l(),d(3),l()),n&2){let e=g().$implicit;p(3),D(" ",e.email," ")}}function Q4(n,t){n&1&&(a(0,"div",102),d(1," Sin contacto "),l())}function K4(n,t){if(n&1){let e=V();a(0,"button",107),E("click",function(){w(e);let i=g().$implicit,o=g(2);return C(o.openEditModal(i))}),I(),a(1,"svg",91),_(2,"path",108),l()()}}function J4(n,t){if(n&1){let e=V();a(0,"button",109),E("click",function(){w(e);let i=g().$implicit,o=g(2);return C(o.deactivateEmpresa(i))}),I(),a(1,"svg",91),_(2,"path",110),l()()}}function X4(n,t){if(n&1){let e=V();a(0,"button",111),E("click",function(){w(e);let i=g().$implicit,o=g(2);return C(o.reactivateEmpresa(i))}),I(),a(1,"svg",91),_(2,"path",112),l()()}}function e5(n,t){if(n&1&&(a(0,"tr",68)(1,"td",69)(2,"div",70)(3,"div",71)(4,"div",72),I(),a(5,"svg",73),_(6,"path",74),l()()(),F(),a(7,"div",75)(8,"div",76),d(9),l(),a(10,"div",60),x(11,H4,2,1,"span",77)(12,$4,2,0,"span",77),l(),x(13,z4,3,2,"div",78),l()()(),a(14,"td",69)(15,"div",79),d(16),l(),a(17,"div",60),d(18),l()(),a(19,"td",80)(20,"div",79),x(21,W4,2,1,"div",81)(22,q4,2,0,"ng-template",null,0,Tn),l()(),a(24,"td",69)(25,"div",79),x(26,Y4,4,1,"div",82)(27,Z4,4,1,"div",83)(28,Q4,2,0,"div",84),l()(),a(29,"td",69)(30,"span",85),I(),a(31,"svg",86),_(32,"circle",87),l(),d(33),l()(),F(),a(34,"td",88)(35,"div",89)(36,"button",90),I(),a(37,"svg",91),_(38,"path",92)(39,"path",93),l()(),x(40,K4,3,0,"button",94)(41,J4,3,0,"button",95)(42,X4,3,0,"button",96),l()()()),n&2){let e=t.$implicit,r=Fe(23),i=g(2);p(9),M(e.nombre),p(2),h("ngIf",e.direccion),p(),h("ngIf",!e.direccion),p(),h("ngIf",e.sitio_web),p(3),M(e.sector||"Sin especificar"),p(2),M(i.getTamanoLegible(e.tamano_empresa)),p(3),h("ngIf",e.responsables_info&&e.responsables_info.length>0)("ngIfElse",r),p(5),h("ngIf",e.telefono),p(),h("ngIf",e.email),p(),h("ngIf",!e.telefono&&!e.email),p(2),h("ngClass",Zi(16,R4,e.status===1,e.status===0)),p(3),D(" ",i.getStatusText(e.status)," "),p(7),h("ngIf",i.canEdit()),p(),h("ngIf",i.canEdit()&&e.status===1),p(),h("ngIf",i.canEdit()&&e.status===0)}}function t5(n,t){if(n&1){let e=V();a(0,"button",120),E("click",function(){w(e);let i=g(3);return C(i.openCreateModal())}),d(1," Crear primera empresa "),l()}}function n5(n,t){if(n&1){let e=V();a(0,"button",121),E("click",function(){w(e);let i=g(3);return C(i.clearFilters())}),d(1," Limpiar filtros "),l()}}function r5(n,t){if(n&1&&(a(0,"div",113),I(),a(1,"svg",114),_(2,"path",74),l(),F(),a(3,"h3",115),d(4,"No hay empresas"),l(),a(5,"p",116),d(6),l(),a(7,"div",117),x(8,t5,2,0,"button",118)(9,n5,2,0,"button",119),l()()),n&2){let e=g(2);p(6),D(" ",e.empresas.length===0?"No se encontraron empresas en la base de datos.":"No se encontraron empresas con los filtros aplicados."," "),p(2),h("ngIf",e.empresas.length===0&&e.canCreate()),p(),h("ngIf",e.empresas.length>0)}}function i5(n,t){if(n&1&&(a(0,"div",56)(1,"div",57)(2,"div",58)(3,"h3",59),d(4),l(),a(5,"span",60),d(6),l()()(),a(7,"div",61)(8,"table",62)(9,"thead",63)(10,"tr")(11,"th",64),d(12," Empresa "),l(),a(13,"th",64),d(14," Sector / Tama\xF1o "),l(),a(15,"th",64),d(16," Responsables "),l(),a(17,"th",64),d(18," Contacto "),l(),a(19,"th",64),d(20," Estado "),l(),a(21,"th",64),d(22," Acciones "),l()()(),a(23,"tbody",65),x(24,e5,43,19,"tr",66),l()(),x(25,r5,10,3,"div",67),l()()),n&2){let e=g();p(4),ke(" Lista de Empresas (",e.filteredEmpresas.length," de ",e.empresas.length,") "),p(2),ke(" Mostrando ",e.filteredEmpresas.length," resultado",e.filteredEmpresas.length!==1?"s":""," "),p(18),h("ngForOf",e.filteredEmpresas)("ngForTrackBy",e.trackByEmpresaId),p(),h("ngIf",e.filteredEmpresas.length===0&&!e.loading)}}function o5(n,t){if(n&1&&(a(0,"option",41),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function s5(n,t){if(n&1&&(a(0,"option",41),d(1),l()),n&2){let e=t.$implicit,r=g(2);h("value",e),p(),M(r.getTamanoLegible(e))}}function a5(n,t){n&1&&(a(0,"div",180)(1,"div",43),I(),a(2,"svg",181),_(3,"path",182),l(),F(),a(4,"div",46)(5,"p",183)(6,"strong"),d(7,"No hay usuarios con perfil de Supervisor disponibles."),l(),_(8,"br"),d(9," Para asignar responsables, debe crear al menos un usuario con perfil de Supervisor (perfil 3) primero. "),l()()()())}function l5(n,t){if(n&1&&(a(0,"div",184)(1,"div",70),I(),a(2,"svg",185),_(3,"path",186),l(),F(),a(4,"p",187),d(5),l()()()),n&2){let e=g(2);p(5),xf(" ",e.getConteoSupervisores()," supervisor",e.getConteoSupervisores()!==1?"es":""," disponible",e.getConteoSupervisores()!==1?"s":""," para asignar como responsable",e.getConteoSupervisores()!==1?"s":"",". ")}}function c5(n,t){if(n&1){let e=V();a(0,"div",70)(1,"input",190),E("change",function(){let i=w(e).$implicit,o=g(3);return C(o.toggleResponsable(i.id))}),l(),a(2,"label",191),d(3),a(4,"span",192),d(5),l(),a(6,"span",193),d(7),l()()()}if(n&2){let e=t.$implicit,r=g(3);p(),h("id","responsable-"+e.id)("checked",r.isResponsableSelected(e.id)),p(),h("for","responsable-"+e.id),p(),D(" ",e.full_name||e.username," "),p(2),D("(",r.getPerfilName(e.id_perfil),")"),p(2),M(e.username)}}function d5(n,t){if(n&1&&(a(0,"div",188),x(1,c5,8,6,"div",189),l()),n&2){let e=g(2);p(),h("ngForOf",e.usuariosSupervisores)}}function u5(n,t){n&1&&(a(0,"div",131)(1,"p",194),d(2," No hay responsables asignados. Seleccione al menos un supervisor para gestionar esta empresa. "),l()())}function p5(n,t){if(n&1&&(a(0,"span",199),d(1),l()),n&2){let e=t.$implicit,r=g(3);p(),D(" ",r.getNombreUsuario(e)," ")}}function f5(n,t){if(n&1&&(a(0,"div",195)(1,"p",196)(2,"strong"),d(3,"Responsables seleccionados:"),l(),d(4),l(),a(5,"div",197),x(6,p5,2,1,"span",198),l()()),n&2){let e=g(2);p(4),D(" ",e.empresaForm.responsables.length," "),p(2),h("ngForOf",e.empresaForm.responsables)}}function m5(n,t){if(n&1&&(a(0,"span"),d(1),l()),n&2){let e=g().$implicit;p(),D("\u{1F4DE} ",e.telefono,"")}}function h5(n,t){n&1&&(a(0,"span"),d(1," | "),l())}function g5(n,t){if(n&1&&(a(0,"span"),d(1),l()),n&2){let e=g().$implicit;p(),D("\u2709\uFE0F ",e.email,"")}}function v5(n,t){if(n&1){let e=V();a(0,"div",202)(1,"div",203)(2,"div",204)(3,"div",76),d(4),l(),a(5,"div",205),d(6),l(),a(7,"div",206),x(8,m5,2,1,"span",77)(9,h5,2,0,"span",77)(10,g5,2,1,"span",77),l()(),a(11,"button",207),E("click",function(){let i=w(e).index,o=g(3);return C(o.removerContacto(i))}),I(),a(12,"svg",208),_(13,"path",209),l()()()()}if(n&2){let e=t.$implicit;p(4),M(e.nombre),p(2),M(e.cargo),p(2),h("ngIf",e.telefono),p(),h("ngIf",e.telefono&&e.email),p(),h("ngIf",e.email)}}function _5(n,t){if(n&1&&(a(0,"div",200),x(1,v5,14,5,"div",201),l()),n&2){let e=g(2);p(),h("ngForOf",e.empresaForm.contactos_referencias)}}function y5(n,t){if(n&1&&(a(0,"div",210)(1,"div",43),I(),a(2,"svg",44),_(3,"path",45),l(),F(),a(4,"div",46)(5,"p",47),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.error)}}function b5(n,t){n&1&&(I(),a(0,"svg",211),_(1,"path",9),l())}function x5(n,t){if(n&1){let e=V();a(0,"div",122)(1,"div",123)(2,"div",124),E("click",function(){w(e);let i=g();return C(i.closeModal())}),l(),a(3,"span",125),d(4,"\u200B"),l(),a(5,"div",126)(6,"div",127)(7,"div",128)(8,"div",129),I(),a(9,"svg",73),_(10,"path",74),l()(),F(),a(11,"div",130)(12,"h3",59),d(13),l(),a(14,"div",131)(15,"p",60),d(16),l()()()()(),a(17,"div",132)(18,"form",133)(19,"div",134)(20,"div",14)(21,"label",135),d(22," Nombre de la Empresa "),a(23,"span",136),d(24,"*"),l()(),a(25,"input",137),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.nombre,i)||(o.empresaForm.nombre=i),C(i)}),l()(),a(26,"div")(27,"label",138),d(28," Sector "),a(29,"span",136),d(30,"*"),l()(),a(31,"select",139),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.sector,i)||(o.empresaForm.sector=i),C(i)}),a(32,"option",140),d(33,"Seleccionar sector"),l(),x(34,o5,2,2,"option",28),l()(),a(35,"div")(36,"label",141),d(37," Tama\xF1o de Empresa "),l(),a(38,"select",142),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.tamano_empresa,i)||(o.empresaForm.tamano_empresa=i),C(i)}),x(39,s5,2,2,"option",28),l()(),a(40,"div",14)(41,"label",143),d(42," Direcci\xF3n "),l(),a(43,"input",144),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.direccion,i)||(o.empresaForm.direccion=i),C(i)}),l()(),a(44,"div")(45,"label",145),d(46," Tel\xE9fono "),l(),a(47,"input",146),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.telefono,i)||(o.empresaForm.telefono=i),C(i)}),l()(),a(48,"div")(49,"label",147),d(50," Email "),l(),a(51,"input",148),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.email,i)||(o.empresaForm.email=i),C(i)}),l()(),a(52,"div",14)(53,"label",149),d(54," Sitio Web "),l(),a(55,"input",150),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.sitio_web,i)||(o.empresaForm.sitio_web=i),C(i)}),l()(),a(56,"div",14)(57,"label",151),d(58," Descripci\xF3n de la Empresa "),l(),a(59,"textarea",152),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.descripcion.descripcion,i)||(o.empresaForm.descripcion.descripcion=i),C(i)}),l()(),a(60,"div")(61,"label",153),d(62," Estado "),l(),a(63,"select",154),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.status,i)||(o.empresaForm.status=i),C(i)}),a(64,"option",155),d(65,"Activa"),l(),a(66,"option",156),d(67,"Inactiva"),l()()()(),a(68,"div",117)(69,"label",157),d(70," Responsables de la Empresa "),a(71,"span",158),d(72,"(Solo usuarios con perfil de Supervisor)"),l()(),x(73,a5,10,0,"div",159)(74,l5,6,4,"div",160)(75,d5,2,1,"div",161)(76,u5,3,0,"div",162)(77,f5,7,2,"div",163),a(78,"p",164),d(79," Solo los usuarios con perfil de "),a(80,"strong"),d(81,"Supervisor"),l(),d(82," pueden ser asignados como responsables de empresas. Los responsables podr\xE1n gestionar la informaci\xF3n de la empresa y ver candidatos asociados. "),l()(),a(83,"div",117)(84,"label",157),d(85," Contactos de Referencia "),l(),x(86,_5,2,1,"div",165),a(87,"div",166)(88,"h4",167),d(89,"Agregar Nuevo Contacto"),l(),a(90,"div",168)(91,"div")(92,"input",169),A("ngModelChange",function(i){w(e);let o=g();return O(o.nuevoContacto.nombre,i)||(o.nuevoContacto.nombre=i),C(i)}),l()(),a(93,"div")(94,"input",170),A("ngModelChange",function(i){w(e);let o=g();return O(o.nuevoContacto.cargo,i)||(o.nuevoContacto.cargo=i),C(i)}),l()(),a(95,"div")(96,"input",171),A("ngModelChange",function(i){w(e);let o=g();return O(o.nuevoContacto.telefono,i)||(o.nuevoContacto.telefono=i),C(i)}),l()(),a(97,"div")(98,"input",172),A("ngModelChange",function(i){w(e);let o=g();return O(o.nuevoContacto.email,i)||(o.nuevoContacto.email=i),C(i)}),l()()(),a(99,"div",173)(100,"button",174),E("click",function(){w(e);let i=g();return C(i.agregarContacto())}),I(),a(101,"svg",8),_(102,"path",39),l(),d(103," Agregar Contacto "),l()()()()(),x(104,y5,7,1,"div",175),l(),F(),a(105,"div",176)(106,"button",177),E("click",function(){w(e);let i=g();return C(i.saveEmpresa())}),x(107,b5,2,0,"svg",178),d(108),l(),a(109,"button",179),E("click",function(){w(e);let i=g();return C(i.closeModal())})("click",function(){w(e);let i=g();return C(i.closeModal())}),d(110," Cancelar "),l()()()()()}if(n&2){let e=g();p(13),D(" ",e.modalMode==="create"?"Crear Nueva Empresa":"Editar Empresa"," "),p(3),D(" ",e.modalMode==="create"?"Complete los datos para registrar una nueva empresa.":"Modifique los datos de la empresa seleccionada."," "),p(9),k("ngModel",e.empresaForm.nombre),p(6),k("ngModel",e.empresaForm.sector),p(3),h("ngForOf",e.sectoresDisponibles),p(4),k("ngModel",e.empresaForm.tamano_empresa),p(),h("ngForOf",e.tamanosEmpresa),p(4),k("ngModel",e.empresaForm.direccion),p(4),k("ngModel",e.empresaForm.telefono),p(4),k("ngModel",e.empresaForm.email),p(4),k("ngModel",e.empresaForm.sitio_web),p(4),k("ngModel",e.empresaForm.descripcion.descripcion),p(4),k("ngModel",e.empresaForm.status),p(10),h("ngIf",!e.haySupervisoresDisponibles()),p(),h("ngIf",e.haySupervisoresDisponibles()),p(),h("ngIf",e.haySupervisoresDisponibles()),p(),h("ngIf",e.haySupervisoresDisponibles()&&e.empresaForm.responsables.length===0),p(),h("ngIf",e.empresaForm.responsables.length>0),p(9),h("ngIf",e.empresaForm.contactos_referencias.length>0),p(6),k("ngModel",e.nuevoContacto.nombre),p(2),k("ngModel",e.nuevoContacto.cargo),p(2),k("ngModel",e.nuevoContacto.telefono),p(2),k("ngModel",e.nuevoContacto.email),p(2),h("disabled",!e.nuevoContacto.nombre||!e.nuevoContacto.cargo),p(4),h("ngIf",e.error),p(2),h("disabled",!e.empresaForm.nombre||!e.empresaForm.sector),p(),h("ngIf",e.loading),p(),D(" ",e.modalMode==="create"?"Crear Empresa":"Guardar Cambios"," ")}}var Fd=class n{constructor(t,e){this.supabaseService=t;this.authService=e}empresas=[];filteredEmpresas=[];usuarios=[];usuariosSupervisores=[];loading=!0;error="";success="";searchTerm="";showModal=!1;modalMode="create";selectedEmpresa=null;currentUser=null;empresaForm={nombre:"",descripcion:{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:[],contactos_referencias:[],direccion:"",telefono:"",email:"",sitio_web:"",sector:"",tamano_empresa:"Pequena",status:1};nuevoContacto={nombre:"",cargo:"",telefono:"",email:""};statusFilter="all";sectorFilter="all";tamanoFilter="all";sectoresDisponibles=["Tecnologia","Consultoria IT","Finanzas","Salud","Educacion","Retail","Manufactura","Servicios","Gobierno","ONG","Otro"];tamanosEmpresa=["Pequena","Mediana","Grande","Corporativa"];ngOnInit(){return y(this,null,function*(){if(console.log("EmpresasComponent inicializado"),this.currentUser=this.authService.getCurrentUser(),!this.currentUser){this.error="Usuario no autenticado",this.loading=!1;return}console.log("Usuario actual:",this.currentUser),yield Promise.all([this.loadEmpresas(),this.loadUsuarios()])})}loadEmpresas(){return y(this,null,function*(){this.loading=!0,this.error="";try{console.log("Cargando empresas...");let t=yield this.supabaseService.getData("empresas");console.log("Datos de empresas recibidos:",t),this.empresas=yield Promise.all((t||[]).map(e=>y(this,null,function*(){let r=[];if(e.responsables&&e.responsables.length>0)try{let{data:i}=yield this.supabaseService.client.from("profiles").select("id, username, full_name, id_perfil").in("id",e.responsables).eq("status",1).eq("id_perfil",3);i&&r.push(...i)}catch(i){console.error("Error cargando responsables:",i)}return G(P({},e),{responsables_info:r})}))),this.filteredEmpresas=[...this.empresas],this.applyFilters(),console.log("Empresas cargadas exitosamente:",this.empresas.length)}catch(t){console.error("Error cargando empresas:",t),this.error="Error al cargar las empresas"}finally{this.loading=!1}})}loadUsuarios(){return y(this,null,function*(){try{let t=yield this.supabaseService.getData("profiles");this.usuarios=(t||[]).filter(e=>e.status===1),this.usuariosSupervisores=this.usuarios.filter(e=>e.id_perfil===3),console.log("Usuarios cargados:",this.usuarios.length),console.log("Supervisores disponibles:",this.usuariosSupervisores.length)}catch(t){console.error("Error cargando usuarios:",t)}})}applyFilters(){let t=[...this.empresas];if(this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(r=>r.nombre?.toLowerCase().includes(e)||r.sector?.toLowerCase().includes(e)||r.direccion?.toLowerCase().includes(e))}this.statusFilter==="active"?t=t.filter(e=>e.status===1):this.statusFilter==="inactive"&&(t=t.filter(e=>e.status===0)),this.sectorFilter!=="all"&&(t=t.filter(e=>e.sector===this.sectorFilter)),this.tamanoFilter!=="all"&&(t=t.filter(e=>e.tamano_empresa===this.tamanoFilter)),this.filteredEmpresas=t}onSearch(){this.applyFilters()}onFilterChange(){this.applyFilters()}openCreateModal(){if(this.usuariosSupervisores.length===0){this.error="No hay usuarios con perfil de Supervisor disponibles para asignar como responsables.";return}this.modalMode="create",this.empresaForm={nombre:"",descripcion:{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:[],contactos_referencias:[],direccion:"",telefono:"",email:"",sitio_web:"",sector:"",tamano_empresa:"Pequena",status:1},this.error="",this.success="",this.showModal=!0}openEditModal(t){if(this.usuariosSupervisores.length===0){this.error="No hay usuarios con perfil de Supervisor disponibles.";return}this.modalMode="edit",this.selectedEmpresa=t;let e=t.descripcion;if(typeof e=="string")try{e=JSON.parse(e)}catch{e={descripcion:e,sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""}}this.empresaForm=G(P({},t),{descripcion:e||{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:t.responsables||[],contactos_referencias:t.contactos_referencias||[]}),this.error="",this.success="",this.showModal=!0}closeModal(){this.showModal=!1,this.selectedEmpresa=null,this.error="",this.success="",this.nuevoContacto={nombre:"",cargo:"",telefono:"",email:""}}saveEmpresa(){return y(this,null,function*(){try{if(console.log("=== GUARDANDO EMPRESA ==="),console.log("Modo:",this.modalMode),console.log("Usuario actual:",this.currentUser),console.log("Datos del formulario:",this.empresaForm),this.error="",this.success="",!this.empresaForm.nombre||this.empresaForm.nombre.trim()===""){this.error="El nombre de la empresa es requerido";return}if(!this.empresaForm.sector){this.error="El sector es requerido";return}if(!this.currentUser||!this.currentUser.id){this.error="Usuario no autenticado correctamente";return}if(this.currentUser.id_perfil!==1&&this.currentUser.id_perfil!==3){this.error="No tienes permisos para realizar esta acci\xF3n";return}let t={nombre:this.empresaForm.nombre.trim(),descripcion:this.empresaForm.descripcion,responsables:this.empresaForm.responsables||[],contactos_referencias:this.empresaForm.contactos_referencias||[],direccion:this.empresaForm.direccion?.trim()||null,telefono:this.empresaForm.telefono?.trim()||null,email:this.empresaForm.email?.trim()||null,sitio_web:this.empresaForm.sitio_web?.trim()||null,sector:this.empresaForm.sector,tamano_empresa:this.empresaForm.tamano_empresa,status:this.empresaForm.status,updated_by:this.currentUser.id};if(this.modalMode==="create"){let{data:e}=yield this.supabaseService.client.from("empresas").select("nombre").eq("nombre",this.empresaForm.nombre.trim()).single();if(e){this.error="Ya existe una empresa con este nombre";return}let r=G(P({},t),{created_by:this.currentUser.id});console.log("Creando empresa:",r);let i=yield this.supabaseService.insertData("empresas",r);console.log("Resultado creaci\xF3n:",i),this.success="Empresa creada exitosamente"}else{console.log("Editando empresa ID:",this.selectedEmpresa.id);let e=yield this.supabaseService.updateData("empresas",this.selectedEmpresa.id.toString(),t);console.log("Resultado actualizaci\xF3n:",e),this.success="Empresa actualizada exitosamente"}yield this.loadEmpresas(),setTimeout(()=>{this.closeModal()},1500)}catch(t){console.error("=== ERROR EN GUARDADO ==="),console.error("Error:",t),t.message?.includes("duplicate key")?this.error="Ya existe una empresa con este nombre":t.message?.includes("permission")?this.error="No tienes permisos para realizar esta acci\xF3n":this.error=`Error al guardar: ${t.message||"Error desconocido"}`}})}deactivateEmpresa(t){return y(this,null,function*(){if(!this.canEdit()){this.error="No tienes permisos para desactivar empresas";return}let e=`\xBFEst\xE1 seguro de desactivar la empresa "${t.nombre}"?`;if(confirm(e))try{yield this.supabaseService.updateData("empresas",t.id.toString(),{status:0,updated_by:this.currentUser.id}),yield this.loadEmpresas(),this.success="Empresa desactivada exitosamente",setTimeout(()=>this.success="",3e3)}catch(r){console.error("Error desactivando empresa:",r),this.error="Error al desactivar la empresa",setTimeout(()=>this.error="",5e3)}})}reactivateEmpresa(t){return y(this,null,function*(){if(!this.canEdit()){this.error="No tienes permisos para reactivar empresas";return}let e=`\xBFEst\xE1 seguro de reactivar la empresa "${t.nombre}"?`;if(confirm(e))try{yield this.supabaseService.updateData("empresas",t.id.toString(),{status:1,updated_by:this.currentUser.id}),yield this.loadEmpresas(),this.success="Empresa reactivada exitosamente",setTimeout(()=>this.success="",3e3)}catch(r){console.error("Error reactivando empresa:",r),this.error="Error al reactivar la empresa",setTimeout(()=>this.error="",5e3)}})}agregarContacto(){if(!this.nuevoContacto.nombre||!this.nuevoContacto.cargo){this.error="Nombre y cargo son requeridos para el contacto";return}this.empresaForm.contactos_referencias.push(P({},this.nuevoContacto)),this.nuevoContacto={nombre:"",cargo:"",telefono:"",email:""},this.error=""}removerContacto(t){this.empresaForm.contactos_referencias.splice(t,1)}isResponsableSelected(t){return this.empresaForm.responsables.includes(t)}toggleResponsable(t){if(!this.usuariosSupervisores.find(i=>i.id===t)){this.error="Solo se pueden asignar usuarios con perfil de Supervisor";return}let r=this.empresaForm.responsables.indexOf(t);r>-1?this.empresaForm.responsables.splice(r,1):this.empresaForm.responsables.push(t),this.error=""}getStatusText(t){return t===1?"Activa":"Inactiva"}getStatusColor(t){return t===1?"green":"red"}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formateando fecha:",e),"Fecha inv\xE1lida"}}getNombreUsuario(t){let e=this.usuarios.find(r=>r.id===t);return e?e.full_name||e.username:"Usuario no encontrado"}getResponsablesNombres(t){return!t||t.length===0?"Sin responsables":t.map(r=>this.getNombreUsuario(r)).join(", ")}refreshEmpresas(){return y(this,null,function*(){console.log("Refrescando lista de empresas"),yield this.loadEmpresas()})}clearFilters(){console.log("Limpiando filtros"),this.searchTerm="",this.statusFilter="all",this.sectorFilter="all",this.tamanoFilter="all",this.applyFilters()}canEdit(){return this.currentUser?.id_perfil===1||this.currentUser?.id_perfil===3}canCreate(){return this.canEdit()}trackByEmpresaId(t,e){return e.id||t}getSectoresUnicos(){let t=new Set(this.empresas.map(e=>e.sector).filter(e=>e));return Array.from(t).filter(e=>typeof e=="string").sort()}getTamanoLegible(t){return t?{Pequena:"Peque\xF1a",Mediana:"Mediana",Grande:"Grande",Corporativa:"Corporativa"}[t]||t:"No definido"}getPerfilName(t){switch(t){case 1:return"Administrador";case 2:return"Usuario";case 3:return"Supervisor";case 4:return"Invitado";default:return"Sin asignar"}}haySupervisoresDisponibles(){return this.usuariosSupervisores.length>0}getConteoSupervisores(){return this.usuariosSupervisores.length}validarResponsables(){return this.empresaForm.responsables.filter(e=>!this.usuariosSupervisores.some(r=>r.id===e)).length===0}static \u0275fac=function(e){return new(e||n)(R(We),R(de))};static \u0275cmp=le({type:n,selectors:[["app-empresas"]],standalone:!1,decls:56,vars:13,consts:[["noResponsables",""],[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"flex","space-x-2"],["title","Refrescar lista",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["class","inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","text-sm text-gray-500 italic",4,"ngIf"],[1,"bg-white","rounded-lg","shadow","mb-6","p-6"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4"],[1,"md:col-span-2"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","search","type","text","placeholder","Buscar por nombre, sector o direcci\xF3n...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["for","statusFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","statusFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],["value","all"],["value","active"],["value","inactive"],["for","sectorFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","sectorFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","tamanoFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","tamanoFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],[1,"mt-4","flex","justify-end"],[1,"text-sm","text-indigo-600","hover:text-indigo-800",3,"click"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-6",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-white shadow overflow-hidden sm:rounded-md",4,"ngIf"],["class","fixed inset-0 z-50 overflow-y-auto",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"text-sm","text-gray-500","italic"],[3,"value"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-6"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"ml-auto","pl-3"],[1,"text-red-400","hover:text-red-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"bg-white","shadow","overflow-hidden","sm:rounded-md"],[1,"px-4","py-5","sm:px-6","border-b","border-gray-200"],[1,"flex","justify-between","items-center"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors duration-150",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-12",4,"ngIf"],[1,"hover:bg-gray-50","transition-colors","duration-150"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"h-12","w-12","flex-shrink-0"],[1,"h-12","w-12","rounded-lg","bg-indigo-100","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h2M7 7h10M7 11h4m6 0h2M7 15h10M7 19h4m6 0h2"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[4,"ngIf"],["class","text-xs text-gray-400",4,"ngIf"],[1,"text-sm","text-gray-900"],[1,"px-6","py-4"],[4,"ngIf","ngIfElse"],["class","flex items-center mb-1",4,"ngIf"],["class","flex items-center",4,"ngIf"],["class","text-gray-400 italic",4,"ngIf"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","justify-end","space-x-2"],["title","Ver detalles",1,"text-indigo-600","hover:text-indigo-900","p-1","rounded","hover:bg-indigo-50","transition-colors","duration-150"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["class","text-indigo-600 hover:text-indigo-900 p-1 rounded hover:bg-indigo-50 transition-colors duration-150","title","Editar empresa",3,"click",4,"ngIf"],["class","text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors duration-150","title","Desactivar empresa",3,"click",4,"ngIf"],["class","text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors duration-150","title","Reactivar empresa",3,"click",4,"ngIf"],[1,"text-xs","text-gray-400"],["target","_blank",1,"hover:text-indigo-600",3,"href"],["class","mb-1",4,"ngFor","ngForOf"],[1,"mb-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"text-gray-400","italic"],[1,"flex","items-center","mb-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","text-gray-400","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["title","Editar empresa",1,"text-indigo-600","hover:text-indigo-900","p-1","rounded","hover:bg-indigo-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Desactivar empresa",1,"text-red-600","hover:text-red-900","p-1","rounded","hover:bg-red-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636"],["title","Reactivar empresa",1,"text-green-600","hover:text-green-900","p-1","rounded","hover:bg-green-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6"],["class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-sm","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-4xl","sm:w-full"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mx-auto","flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-indigo-100","sm:mx-0","sm:h-10","sm:w-10"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","w-full"],[1,"mt-2"],[1,"bg-white","px-4","pb-4","sm:px-6","max-h-96","overflow-y-auto"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nombre",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["id","nombre","type","text","name","nombre","required","","placeholder","Ej: TechCorp Guatemala",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","sector",1,"block","text-sm","font-medium","text-gray-700"],["id","sector","name","sector","required","",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value",""],["for","tamano",1,"block","text-sm","font-medium","text-gray-700"],["id","tamano","name","tamano",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","direccion",1,"block","text-sm","font-medium","text-gray-700"],["id","direccion","type","text","name","direccion","placeholder","Ej: Zona 10, 6a Avenida 12-25",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","telefono",1,"block","text-sm","font-medium","text-gray-700"],["id","telefono","type","tel","name","telefono","placeholder","+502 2234-5678",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","type","email","name","email","placeholder","contacto@empresa.com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","sitio_web",1,"block","text-sm","font-medium","text-gray-700"],["id","sitio_web","type","url","name","sitio_web","placeholder","https://www.empresa.com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","descripcion",1,"block","text-sm","font-medium","text-gray-700"],["id","descripcion","rows","3","name","descripcion","placeholder","Describe la empresa, sus servicios, misi\xF3n, etc.",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","status",1,"block","text-sm","font-medium","text-gray-700"],["id","status","name","status",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","1"],["value","0"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"text-xs","text-gray-500"],["class","bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4",4,"ngIf"],["class","bg-blue-50 border border-blue-200 rounded-md p-3 mb-4",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-3",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","mt-3 p-2 bg-green-50 rounded-md border border-green-200",4,"ngIf"],[1,"mt-2","text-xs","text-gray-500"],["class","mb-4 space-y-2",4,"ngIf"],[1,"bg-blue-50","p-4","rounded-md","border","border-blue-200"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],["type","text","name","nuevoContactoNombre","placeholder","Nombre completo",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["type","text","name","nuevoContactoCargo","placeholder","Cargo/Posici\xF3n",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["type","tel","name","nuevoContactoTelefono","placeholder","Tel\xE9fono",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["type","email","name","nuevoContactoEmail","placeholder","Email",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mt-3","flex","justify-end"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","leading-4","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","mt-4 bg-red-50 border border-red-200 rounded-md p-3",4,"ngIf"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-indigo-600","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:ml-3","sm:w-auto","sm:text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["type","button","type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],[1,"bg-yellow-50","border","border-yellow-200","rounded-md","p-4","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-yellow-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"],[1,"text-sm","text-yellow-700"],[1,"bg-blue-50","border","border-blue-200","rounded-md","p-3","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-blue-400","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","text-blue-700"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-3","max-h-32","overflow-y-auto","border","border-gray-200","rounded-md","p-3"],["class","flex items-center",4,"ngFor","ngForOf"],["type","checkbox",1,"h-4","w-4","text-indigo-600","focus:ring-indigo-500","border-gray-300","rounded",3,"change","id","checked"],[1,"ml-2","text-sm","text-gray-700","cursor-pointer",3,"for"],[1,"text-xs","text-blue-600","font-medium"],[1,"text-xs","text-gray-500","block"],[1,"text-xs","text-gray-500","italic"],[1,"mt-3","p-2","bg-green-50","rounded-md","border","border-green-200"],[1,"text-xs","text-green-700"],[1,"flex","flex-wrap","gap-1","mt-1"],["class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"mb-4","space-y-2"],["class","bg-gray-50 p-3 rounded-md border border-gray-200",4,"ngFor","ngForOf"],[1,"bg-gray-50","p-3","rounded-md","border","border-gray-200"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"text-xs","text-gray-600"],[1,"text-xs","text-gray-500","mt-1"],["type","button","title","Eliminar contacto",1,"text-red-600","hover:text-red-800","p-1",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"mt-4","bg-red-50","border","border-red-200","rounded-md","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),d(5,"Gesti\xF3n de Empresas"),l(),a(6,"p",5),d(7),l()(),a(8,"div",6)(9,"button",7),E("click",function(){return r.refreshEmpresas()}),I(),a(10,"svg",8),_(11,"path",9),l(),d(12," Refrescar "),l(),x(13,N4,4,0,"button",10)(14,V4,2,0,"div",11),l()()(),F(),a(15,"div",12)(16,"div",13)(17,"div",14)(18,"label",15),d(19," Buscar "),l(),a(20,"div",16)(21,"input",17),A("ngModelChange",function(o){return O(r.searchTerm,o)||(r.searchTerm=o),o}),E("input",function(){return r.onSearch()}),l(),a(22,"div",18),I(),a(23,"svg",19),_(24,"path",20),l()()()(),F(),a(25,"div")(26,"label",21),d(27," Estado "),l(),a(28,"select",22),A("ngModelChange",function(o){return O(r.statusFilter,o)||(r.statusFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(29,"option",23),d(30,"Todas"),l(),a(31,"option",24),d(32,"Activas"),l(),a(33,"option",25),d(34,"Inactivas"),l()()(),a(35,"div")(36,"label",26),d(37," Sector "),l(),a(38,"select",27),A("ngModelChange",function(o){return O(r.sectorFilter,o)||(r.sectorFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(39,"option",23),d(40,"Todos"),l(),x(41,L4,2,2,"option",28),l()(),a(42,"div")(43,"label",29),d(44," Tama\xF1o "),l(),a(45,"select",30),A("ngModelChange",function(o){return O(r.tamanoFilter,o)||(r.tamanoFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(46,"option",23),d(47,"Todos"),l(),x(48,j4,2,2,"option",28),l()()(),a(49,"div",31)(50,"button",32),E("click",function(){return r.clearFilters()}),d(51," Limpiar filtros "),l()()(),x(52,U4,11,1,"div",33)(53,B4,5,0,"div",34)(54,i5,26,7,"div",35),l(),x(55,x5,111,28,"div",36)),e&2&&(p(7),D(" Administra las empresas reclutadoras del sistema - Total: ",r.empresas.length," "),p(6),h("ngIf",r.canCreate()),p(),h("ngIf",!r.canCreate()),p(7),k("ngModel",r.searchTerm),p(7),k("ngModel",r.statusFilter),p(10),k("ngModel",r.sectorFilter),p(3),h("ngForOf",r.sectoresDisponibles),p(4),k("ngModel",r.tamanoFilter),p(3),h("ngForOf",r.tamanosEmpresa),p(4),h("ngIf",r.error),p(),h("ngIf",r.loading),p(),h("ngIf",!r.loading),p(),h("ngIf",r.showModal))},dependencies:[st,Ce,pe,Ye,et,tt,Ee,Ze,Te,qe,Ue,Ie,je],encapsulation:2})};var w5=(n,t)=>({"bg-green-100 text-green-800":n,"bg-red-100 text-red-800":t});function C5(n,t){if(n&1){let e=V();a(0,"button",40),E("click",function(){w(e);let i=g();return C(i.openCreateModal())}),I(),a(1,"svg",41),_(2,"path",42),l(),d(3," Nueva Empresa "),l()}}function E5(n,t){if(n&1&&(a(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46)(4,"div",47),I(),a(5,"svg",48),_(6,"path",49),l()(),F(),a(7,"div",50)(8,"dl")(9,"dt",51),d(10,"Total Empresas"),l(),a(11,"dd",52),d(12),l()()()()()(),a(13,"div",44)(14,"div",45)(15,"div",46)(16,"div",47),I(),a(17,"svg",53),_(18,"path",54),l()(),F(),a(19,"div",50)(20,"dl")(21,"dt",51),d(22,"Empresas Activas"),l(),a(23,"dd",52),d(24),l()()()()()(),a(25,"div",44)(26,"div",45)(27,"div",46)(28,"div",47),I(),a(29,"svg",55),_(30,"path",56),l()(),F(),a(31,"div",50)(32,"dl")(33,"dt",51),d(34,"Empresas Inactivas"),l(),a(35,"dd",52),d(36),l()()()()()(),a(37,"div",44)(38,"div",45)(39,"div",46)(40,"div",47),I(),a(41,"svg",57),_(42,"path",58),l()(),F(),a(43,"div",50)(44,"dl")(45,"dt",51),d(46,"Mi Rol"),l(),a(47,"dd",59),d(48),l()()()()()()()),n&2){let e=g();p(12),M(e.getUserStats().totalEmpresas),p(12),M(e.getUserStats().empresasActivas),p(12),M(e.getUserStats().empresasInactivas),p(12),M(e.getUserStats().role)}}function S5(n,t){if(n&1&&(a(0,"option",60),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function M5(n,t){n&1&&(a(0,"span",61),I(),a(1,"svg",62),_(2,"path",63),l()())}function I5(n,t){n&1&&(a(0,"span",64),I(),a(1,"svg",62),_(2,"path",63),l(),d(3," Supervisor - Puede gestionar empresas asignadas "),l())}function D5(n,t){if(n&1){let e=V();a(0,"div",65)(1,"div",66),I(),a(2,"svg",67),_(3,"path",68),l(),F(),a(4,"div",69)(5,"p",70),d(6),l()(),a(7,"div",71)(8,"button",72),E("click",function(){w(e);let i=g();return C(i.error="")}),I(),a(9,"svg",73),_(10,"path",74),l()()()()()}if(n&2){let e=g();p(6),M(e.error)}}function T5(n,t){if(n&1){let e=V();a(0,"div",75)(1,"div",66),I(),a(2,"svg",76),_(3,"path",54),l(),F(),a(4,"div",69)(5,"p",77),d(6),l()(),a(7,"div",71)(8,"button",78),E("click",function(){w(e);let i=g();return C(i.success="")}),I(),a(9,"svg",73),_(10,"path",74),l()()()()()}if(n&2){let e=g();p(6),M(e.success)}}function k5(n,t){n&1&&(a(0,"div",79)(1,"div",80),_(2,"div",81),a(3,"p",82),d(4,"Cargando empresas..."),l()()())}function A5(n,t){n&1&&(a(0,"span",116),I(),a(1,"svg",117),_(2,"path",63),l(),d(3," Soy Responsable "),l())}function O5(n,t){if(n&1&&(a(0,"div",119)(1,"div",120)(2,"span",121),d(3),l()(),a(4,"span",122),d(5),l()()),n&2){let e=t.$implicit;p(3),D(" ",(e.full_name==null?null:e.full_name.charAt(0))||(e.username==null?null:e.username.charAt(0))," "),p(2),M(e.full_name||e.username)}}function P5(n,t){if(n&1&&(a(0,"div"),x(1,O5,6,2,"div",118),l()),n&2){let e=g().$implicit;p(),h("ngForOf",e.responsables_info)}}function F5(n,t){n&1&&(a(0,"span",123),d(1,"Sin responsables"),l())}function R5(n,t){if(n&1&&(a(0,"div"),I(),a(1,"svg",124),_(2,"path",125),l(),d(3),l()),n&2){let e=g().$implicit;p(3),D(" ",e.email," ")}}function N5(n,t){if(n&1&&(a(0,"div"),I(),a(1,"svg",124),_(2,"path",126),l(),d(3),l()),n&2){let e=g().$implicit;p(3),D(" ",e.telefono," ")}}function V5(n,t){if(n&1){let e=V();a(0,"button",127),E("click",function(){w(e);let i=g().$implicit,o=g(2);return C(o.openEditModal(i))}),I(),a(1,"svg",128),_(2,"path",129),l()()}}function L5(n,t){if(n&1){let e=V();a(0,"button",130),E("click",function(){w(e);let i=g().$implicit,o=g(2);return C(o.deactivateEmpresa(i))}),I(),a(1,"svg",128),_(2,"path",131),l()()}}function j5(n,t){if(n&1){let e=V();a(0,"button",132),E("click",function(){w(e);let i=g().$implicit,o=g(2);return C(o.reactivateEmpresa(i))}),I(),a(1,"svg",128),_(2,"path",54),l()()}}function U5(n,t){n&1&&(a(0,"span",133),d(1," Solo lectura "),l())}function B5(n,t){if(n&1&&(a(0,"tr",95)(1,"td",96)(2,"div",46)(3,"div",97)(4,"div",98),I(),a(5,"svg",99),_(6,"path",49),l()()(),F(),a(7,"div",100)(8,"div",59),d(9),l(),a(10,"div",87),x(11,A5,4,0,"span",101),d(12),l()()()(),a(13,"td",96)(14,"div",102),d(15),l(),a(16,"div",87),d(17),l()(),a(18,"td",103)(19,"div",102),x(20,P5,2,1,"div",104)(21,F5,2,0,"ng-template",null,0,Tn),l()(),a(23,"td",96)(24,"span",105),I(),a(25,"svg",106),_(26,"circle",107),l(),d(27),l()(),F(),a(28,"td",108),x(29,R5,4,1,"div",109)(30,N5,4,1,"div",109),l(),a(31,"td",110)(32,"div",111),x(33,V5,3,0,"button",112)(34,L5,3,0,"button",113)(35,j5,3,0,"button",114)(36,U5,2,0,"span",115),l()()()),n&2){let e=t.$implicit,r=Fe(22),i=g(2);p(9),M(e.nombre),p(2),h("ngIf",i.isResponsableOf(e)),p(),D(" ID: ",e.id," "),p(3),M(e.sector),p(2),M(i.getTamanoLegible(e.tamano_empresa)),p(3),h("ngIf",e.responsables_info&&e.responsables_info.length>0)("ngIfElse",r),p(4),h("ngClass",Zi(15,w5,e.status===1,e.status===0)),p(3),D(" ",i.getStatusText(e.status)," "),p(2),h("ngIf",e.email),p(),h("ngIf",e.telefono),p(3),h("ngIf",i.canEditEmpresa(e)),p(),h("ngIf",i.canEditEmpresa(e)&&e.status===1),p(),h("ngIf",i.canEditEmpresa(e)&&e.status===0),p(),h("ngIf",!i.canEditEmpresa(e))}}function H5(n,t){if(n&1){let e=V();a(0,"button",141),E("click",function(){w(e);let i=g(3);return C(i.openCreateModal())}),d(1," Crear primera empresa "),l()}}function $5(n,t){if(n&1){let e=V();a(0,"button",142),E("click",function(){w(e);let i=g(3);return C(i.clearFilters())}),d(1," Limpiar filtros "),l()}}function z5(n,t){if(n&1&&(a(0,"div",134),I(),a(1,"svg",135),_(2,"path",49),l(),F(),a(3,"h3",136),d(4,"No hay empresas"),l(),a(5,"p",137),d(6),l(),a(7,"div",138),x(8,H5,2,0,"button",139)(9,$5,2,0,"button",140),l()()),n&2){let e=g(2);p(6),D(" ",e.empresasAsignadas.length===0?"No tienes empresas asignadas como responsable.":"No se encontraron empresas con los filtros aplicados."," "),p(2),h("ngIf",e.canCreateEmpresa()&&e.empresasAsignadas.length===0),p(),h("ngIf",e.empresasAsignadas.length>0)}}function G5(n,t){if(n&1&&(a(0,"div",83)(1,"div",84)(2,"div",85)(3,"h3",86),d(4),l(),a(5,"span",87),d(6),l()()(),a(7,"div",88)(8,"table",89)(9,"thead",90)(10,"tr")(11,"th",91),d(12," Empresa "),l(),a(13,"th",91),d(14," Sector / Tama\xF1o "),l(),a(15,"th",91),d(16," Responsables "),l(),a(17,"th",91),d(18," Estado "),l(),a(19,"th",91),d(20," Contacto "),l(),a(21,"th",91),d(22," Acciones "),l()()(),a(23,"tbody",92),x(24,B5,37,18,"tr",93),l()(),x(25,z5,10,3,"div",94),l()()),n&2){let e=g();p(4),ke(" Mis Empresas (",e.filteredEmpresas.length," de ",e.empresasAsignadas.length,") "),p(2),ke(" Mostrando ",e.filteredEmpresas.length," resultado",e.filteredEmpresas.length!==1?"s":""," "),p(18),h("ngForOf",e.filteredEmpresas)("ngForTrackBy",e.trackByEmpresaId),p(),h("ngIf",e.filteredEmpresas.length===0&&!e.loading)}}function W5(n,t){if(n&1&&(a(0,"span"),d(1),l()),n&2){let e=g().$implicit;p(),D("\u{1F4DE} ",e.telefono,"")}}function q5(n,t){if(n&1&&(a(0,"span"),d(1),l()),n&2){let e=g().$implicit;p(),D("\u2709\uFE0F ",e.email,"")}}function Y5(n,t){if(n&1){let e=V();a(0,"div",188)(1,"div",189)(2,"p",59),d(3),l(),a(4,"p",190),d(5),l(),a(6,"div",191),x(7,W5,2,1,"span",109)(8,q5,2,1,"span",109),l()(),a(9,"button",192),E("click",function(){let i=w(e).index,o=g(3);return C(o.removerContacto(i))}),I(),a(10,"svg",193),_(11,"path",194),l()()()}if(n&2){let e=t.$implicit;p(3),M(e.nombre),p(2),M(e.cargo),p(2),h("ngIf",e.telefono),p(),h("ngIf",e.email)}}function Z5(n,t){if(n&1&&(a(0,"div",186),x(1,Y5,12,4,"div",187),l()),n&2){let e=g(2);p(),h("ngForOf",e.empresaForm.contactos_referencias)}}function Q5(n,t){if(n&1&&(a(0,"div",195)(1,"div",66),I(),a(2,"svg",67),_(3,"path",68),l(),F(),a(4,"div",69)(5,"p",70),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.error)}}function K5(n,t){if(n&1&&(a(0,"div",196)(1,"div",66),I(),a(2,"svg",76),_(3,"path",54),l(),F(),a(4,"div",69)(5,"p",77),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.success)}}function J5(n,t){n&1&&(I(),a(0,"svg",197),_(1,"path",10),l())}function X5(n,t){if(n&1){let e=V();a(0,"div",143)(1,"div",144)(2,"div",145),E("click",function(){w(e);let i=g();return C(i.closeModal())}),l(),a(3,"span",146),d(4,"\u200B"),l(),a(5,"div",147)(6,"div",148)(7,"div",149)(8,"div",150),I(),a(9,"svg",99),_(10,"path",49),l()(),F(),a(11,"div",151)(12,"h3",86),d(13),l(),a(14,"div",152)(15,"p",87),d(16),l()()()()(),a(17,"div",153)(18,"form",154)(19,"div",155)(20,"div",15)(21,"label",156),d(22," Nombre de la Empresa "),a(23,"span",157),d(24,"*"),l()(),a(25,"input",158),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.nombre,i)||(o.empresaForm.nombre=i),C(i)}),l()()(),a(26,"div",155)(27,"div")(28,"label",159),d(29," Email de Contacto "),l(),a(30,"input",160),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.email,i)||(o.empresaForm.email=i),C(i)}),l()(),a(31,"div")(32,"label",161),d(33," Tel\xE9fono "),l(),a(34,"input",162),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.telefono,i)||(o.empresaForm.telefono=i),C(i)}),l()(),a(35,"div",15)(36,"label",163),d(37," Direcci\xF3n "),l(),a(38,"input",164),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.direccion,i)||(o.empresaForm.direccion=i),C(i)}),l()(),a(39,"div",15)(40,"label",165),d(41," Sitio Web "),l(),a(42,"input",166),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.sitio_web,i)||(o.empresaForm.sitio_web=i),C(i)}),l()()(),a(43,"div")(44,"label",167),d(45," Descripci\xF3n de la Empresa "),l(),a(46,"textarea",168),A("ngModelChange",function(i){w(e);let o=g();return O(o.empresaForm.descripcion.descripcion,i)||(o.empresaForm.descripcion.descripcion=i),C(i)}),l()(),a(47,"div",138)(48,"label",169),d(49," Contactos de Referencia "),l(),x(50,Z5,2,1,"div",170),a(51,"div",171)(52,"h4",172),d(53,"Agregar Nuevo Contacto"),l(),a(54,"div",173)(55,"div")(56,"input",174),A("ngModelChange",function(i){w(e);let o=g();return O(o.nuevoContacto.nombre,i)||(o.nuevoContacto.nombre=i),C(i)}),l()(),a(57,"div")(58,"input",175),A("ngModelChange",function(i){w(e);let o=g();return O(o.nuevoContacto.cargo,i)||(o.nuevoContacto.cargo=i),C(i)}),l()(),a(59,"div")(60,"input",176),A("ngModelChange",function(i){w(e);let o=g();return O(o.nuevoContacto.telefono,i)||(o.nuevoContacto.telefono=i),C(i)}),l()(),a(61,"div")(62,"input",177),A("ngModelChange",function(i){w(e);let o=g();return O(o.nuevoContacto.email,i)||(o.nuevoContacto.email=i),C(i)}),l()()(),a(63,"div",178)(64,"button",179),E("click",function(){w(e);let i=g();return C(i.agregarContacto())}),I(),a(65,"svg",9),_(66,"path",42),l(),d(67," Agregar Contacto "),l()()()()(),x(68,Q5,7,1,"div",180)(69,K5,7,1,"div",181),l(),F(),a(70,"div",182)(71,"button",183),E("click",function(){w(e);let i=g();return C(i.saveEmpresa())}),x(72,J5,2,0,"svg",184),d(73),l(),a(74,"button",185),E("click",function(){w(e);let i=g();return C(i.closeModal())}),d(75," Cancelar "),l()()()()()}if(n&2){let e=g();p(13),D(" ",e.modalMode==="create"?"Crear Nueva Empresa":"Editar Empresa"," "),p(3),D(" ",e.modalMode==="create"?"Complete la informaci\xF3n para registrar una nueva empresa.":"Modifique la informaci\xF3n de la empresa seleccionada."," "),p(9),k("ngModel",e.empresaForm.nombre),p(5),k("ngModel",e.empresaForm.email),p(4),k("ngModel",e.empresaForm.telefono),p(4),k("ngModel",e.empresaForm.direccion),p(4),k("ngModel",e.empresaForm.sitio_web),p(4),k("ngModel",e.empresaForm.descripcion.descripcion),p(4),h("ngIf",e.empresaForm.contactos_referencias.length>0),p(6),k("ngModel",e.nuevoContacto.nombre),p(2),k("ngModel",e.nuevoContacto.cargo),p(2),k("ngModel",e.nuevoContacto.telefono),p(2),k("ngModel",e.nuevoContacto.email),p(6),h("ngIf",e.error),p(),h("ngIf",e.success),p(2),h("disabled",!e.empresaForm.nombre||!e.empresaForm.sector||e.empresaForm.responsables.length===0),p(),h("ngIf",e.loading),p(),D(" ",e.modalMode==="create"?"Crear Empresa":"Guardar Cambios"," ")}}var Rd=class n{constructor(t,e){this.supabaseService=t;this.authService=e}empresas=[];empresasAsignadas=[];filteredEmpresas=[];usuarios=[];usuariosSupervisores=[];loading=!0;error="";success="";searchTerm="";showModal=!1;modalMode="create";selectedEmpresa=null;currentUser=null;empresaForm={nombre:"",descripcion:{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:[],contactos_referencias:[],direccion:"",telefono:"",email:"",sitio_web:"",sector:"",tamano_empresa:"Pequena",status:1};nuevoContacto={nombre:"",cargo:"",telefono:"",email:""};statusFilter="all";sectorFilter="all";tamanoFilter="all";responsableFilter="mis-empresas";sectoresDisponibles=["Tecnologia","Consultoria IT","Finanzas","Salud","Educacion","Retail","Manufactura","Servicios","Gobierno","ONG","Otro"];tamanosEmpresa=["Pequena","Mediana","Grande","Corporativa"];ngOnInit(){return y(this,null,function*(){if(console.log("GestionarEmpresasComponent inicializado"),this.currentUser=this.authService.getCurrentUser(),!this.currentUser){this.error="Usuario no autenticado",this.loading=!1;return}if(!this.canAccessModule()){this.error="No tienes permisos para acceder a este m\xF3dulo",this.loading=!1;return}yield Promise.all([this.loadEmpresas(),this.loadUsuarios()])})}canAccessModule(){return this.currentUser?this.currentUser.id_perfil===1||this.currentUser.id_perfil===3:!1}isResponsableOf(t){return!this.currentUser||!t.responsables?!1:t.responsables.includes(this.currentUser.id)}canEditEmpresa(t){return this.currentUser?this.currentUser.id_perfil===1?!0:this.isResponsableOf(t):!1}canCreateEmpresa(){return this.currentUser?this.currentUser.id_perfil===1||this.currentUser.id_perfil===3:!1}loadEmpresas(){return y(this,null,function*(){this.loading=!0,this.error="";try{console.log("Cargando empresas desde la base de datos...");let{data:t,error:e}=yield this.supabaseService.client.from("empresas").select(`
          *,
          profiles!empresas_created_by_fkey(username, full_name)
        `).order("created_at",{ascending:!1});if(e)throw e;console.log("Datos recibidos:",t),this.empresas=yield Promise.all((t||[]).map(r=>y(this,null,function*(){let i=[];if(r.responsables&&r.responsables.length>0){let{data:o}=yield this.supabaseService.client.from("profiles").select("id, username, full_name, id_perfil").in("id",r.responsables).eq("status",1);o&&i.push(...o)}return G(P({},r),{responsables_info:i})}))),this.filterEmpresasByPermissions(),console.log("Empresas cargadas exitosamente:",this.empresas.length),console.log("Empresas donde soy responsable:",this.empresasAsignadas.length)}catch(t){console.error("Error cargando empresas:",t),this.error="Error al cargar las empresas. Verifique la conexi\xF3n a la base de datos."}finally{this.loading=!1}})}filterEmpresasByPermissions(){this.currentUser&&(this.currentUser.id_perfil===1?this.empresasAsignadas=[...this.empresas]:this.empresasAsignadas=this.empresas.filter(t=>this.isResponsableOf(t)),this.filteredEmpresas=[...this.empresasAsignadas],this.applyFilters())}loadUsuarios(){return y(this,null,function*(){try{let t=yield this.supabaseService.getData("profiles");this.usuarios=(t||[]).filter(e=>e.status===1),this.usuariosSupervisores=this.usuarios.filter(e=>e.id_perfil===3),console.log("Usuarios cargados:",this.usuarios.length),console.log("Supervisores disponibles:",this.usuariosSupervisores.length)}catch(t){console.error("Error cargando usuarios:",t)}})}applyFilters(){let t=[...this.empresasAsignadas];if(this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(r=>r.nombre?.toLowerCase().includes(e)||r.sector?.toLowerCase().includes(e)||r.direccion?.toLowerCase().includes(e))}this.statusFilter==="active"?t=t.filter(e=>e.status===1):this.statusFilter==="inactive"&&(t=t.filter(e=>e.status===0)),this.sectorFilter!=="all"&&(t=t.filter(e=>e.sector===this.sectorFilter)),this.tamanoFilter!=="all"&&(t=t.filter(e=>e.tamano_empresa===this.tamanoFilter)),this.responsableFilter==="mis-empresas"&&(t=t.filter(e=>this.isResponsableOf(e))),this.filteredEmpresas=t,console.log("Empresas filtradas:",this.filteredEmpresas.length)}onSearch(){this.applyFilters()}onFilterChange(){this.applyFilters()}openCreateModal(){if(!this.canCreateEmpresa()){this.error="No tienes permisos para crear empresas";return}if(this.usuariosSupervisores.length===0){this.error="No hay usuarios con perfil de Supervisor disponibles para asignar como responsables.";return}this.modalMode="create",this.empresaForm={nombre:"",descripcion:{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:[this.currentUser.id],contactos_referencias:[],direccion:"",telefono:"",email:"",sitio_web:"",sector:"",tamano_empresa:"Pequena",status:1},this.error="",this.success="",this.showModal=!0}openEditModal(t){if(!this.canEditEmpresa(t)){this.error="No tienes permisos para editar esta empresa";return}this.modalMode="edit",this.selectedEmpresa=t;let e=t.descripcion;if(typeof e=="string")try{e=JSON.parse(e)}catch{e={descripcion:e,sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""}}this.empresaForm=G(P({},t),{descripcion:e||{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:t.responsables||[],contactos_referencias:t.contactos_referencias||[]}),this.error="",this.success="",this.showModal=!0}closeModal(){this.showModal=!1,this.selectedEmpresa=null,this.error="",this.success="",this.nuevoContacto={nombre:"",cargo:"",telefono:"",email:""}}saveEmpresa(){return y(this,null,function*(){try{if(console.log("Guardando empresa:",this.empresaForm),this.error="",this.success="",!this.empresaForm.nombre||this.empresaForm.nombre.trim()===""){this.error="El nombre de la empresa es requerido";return}if(!this.empresaForm.sector){this.error="El sector es requerido";return}if(!this.empresaForm.responsables||this.empresaForm.responsables.length===0){this.error="Debe asignar al menos un responsable";return}let t={nombre:this.empresaForm.nombre.trim(),descripcion:this.empresaForm.descripcion,responsables:this.empresaForm.responsables||[],contactos_referencias:this.empresaForm.contactos_referencias||[],direccion:this.empresaForm.direccion?.trim()||null,telefono:this.empresaForm.telefono?.trim()||null,email:this.empresaForm.email?.trim()||null,sitio_web:this.empresaForm.sitio_web?.trim()||null,sector:this.empresaForm.sector,tamano_empresa:this.empresaForm.tamano_empresa,status:this.empresaForm.status,updated_by:this.currentUser?.id};if(this.modalMode==="create"){if(!this.canCreateEmpresa()){this.error="No tienes permisos para crear empresas";return}let{data:e}=yield this.supabaseService.client.from("empresas").select("nombre").eq("nombre",this.empresaForm.nombre.trim()).single();if(e){this.error="Ya existe una empresa con este nombre";return}let r=G(P({},t),{created_by:this.currentUser?.id});console.log("Creando empresa:",r),yield this.supabaseService.insertData("empresas",r),this.success="Empresa creada exitosamente",console.log("Empresa creada exitosamente")}else{if(!this.canEditEmpresa(this.selectedEmpresa)){this.error="No tienes permisos para editar esta empresa";return}console.log("Actualizando empresa:",t),yield this.supabaseService.updateData("empresas",this.selectedEmpresa.id.toString(),t),this.success="Empresa actualizada exitosamente",console.log("Empresa actualizada exitosamente")}yield this.loadEmpresas(),setTimeout(()=>{this.closeModal()},1500)}catch(t){console.error("Error guardando empresa:",t),this.error="Error al guardar la empresa. Intente nuevamente."}})}deactivateEmpresa(t){return y(this,null,function*(){if(!this.canEditEmpresa(t)){this.error="No tienes permisos para desactivar esta empresa";return}let e=`\xBFEst\xE1 seguro de desactivar la empresa "${t.nombre}"?`;if(confirm(e))try{console.log("Desactivando empresa:",t.nombre),yield this.supabaseService.updateData("empresas",t.id.toString(),{status:0,updated_by:this.currentUser?.id}),yield this.loadEmpresas(),this.success="Empresa desactivada exitosamente",setTimeout(()=>this.success="",3e3)}catch(r){console.error("Error desactivando empresa:",r),this.error="Error al desactivar la empresa",setTimeout(()=>this.error="",5e3)}})}reactivateEmpresa(t){return y(this,null,function*(){if(!this.canEditEmpresa(t)){this.error="No tienes permisos para reactivar esta empresa";return}let e=`\xBFEst\xE1 seguro de reactivar la empresa "${t.nombre}"?`;if(confirm(e))try{console.log("Reactivando empresa:",t.nombre),yield this.supabaseService.updateData("empresas",t.id.toString(),{status:1,updated_by:this.currentUser?.id}),yield this.loadEmpresas(),this.success="Empresa reactivada exitosamente",setTimeout(()=>this.success="",3e3)}catch(r){console.error("Error reactivando empresa:",r),this.error="Error al reactivar la empresa",setTimeout(()=>this.error="",5e3)}})}agregarContacto(){if(!this.nuevoContacto.nombre||!this.nuevoContacto.cargo){this.error="Nombre y cargo son requeridos para el contacto";return}this.empresaForm.contactos_referencias.push(P({},this.nuevoContacto)),this.nuevoContacto={nombre:"",cargo:"",telefono:"",email:""},this.error=""}removerContacto(t){this.empresaForm.contactos_referencias.splice(t,1)}isResponsableSelected(t){return this.empresaForm.responsables.includes(t)}toggleResponsable(t){let e=this.empresaForm.responsables.indexOf(t);if(e>-1){if(this.empresaForm.responsables.length===1){this.error="Debe haber al menos un responsable asignado";return}this.empresaForm.responsables.splice(e,1)}else this.empresaForm.responsables.push(t);this.error=""}getStatusText(t){return t===1?"Activa":"Inactiva"}getStatusColor(t){return t===1?"green":"red"}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formateando fecha:",e),"Fecha inv\xE1lida"}}getNombreUsuario(t){let e=this.usuarios.find(r=>r.id===t);return e?e.full_name||e.username:"Usuario no encontrado"}getResponsablesNombres(t){return!t||t.length===0?"Sin responsables":t.map(r=>this.getNombreUsuario(r)).join(", ")}refreshEmpresas(){return y(this,null,function*(){console.log("Refrescando lista de empresas"),yield this.loadEmpresas()})}clearFilters(){console.log("Limpiando filtros"),this.searchTerm="",this.statusFilter="all",this.sectorFilter="all",this.tamanoFilter="all",this.responsableFilter="mis-empresas",this.applyFilters()}trackByEmpresaId(t,e){return e.id||t}getSectoresUnicos(){let t=new Set(this.empresas.map(e=>e.sector).filter(e=>typeof e=="string"&&!!e));return Array.from(t).sort()}getTamanoLegible(t){return t?{Pequena:"Peque\xF1a",Mediana:"Mediana",Grande:"Grande",Corporativa:"Corporativa"}[t]||t:"No definido"}getPerfilName(t){switch(t){case 1:return"Administrador";case 2:return"Usuario";case 3:return"Supervisor";case 4:return"Invitado";default:return"Sin asignar"}}haySupervisoresDisponibles(){return this.usuariosSupervisores.length>0}getConteoSupervisores(){return this.usuariosSupervisores.length}getUserStats(){return this.currentUser?{totalEmpresas:this.empresasAsignadas.length,empresasActivas:this.empresasAsignadas.filter(t=>t.status===1).length,empresasInactivas:this.empresasAsignadas.filter(t=>t.status===0).length,role:this.getPerfilName(this.currentUser.id_perfil)}:null}static \u0275fac=function(e){return new(e||n)(R(We),R(de))};static \u0275cmp=le({type:n,selectors:[["app-gestionar-empresas"]],standalone:!1,decls:55,vars:14,consts:[["noResponsables",""],[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"font-medium","text-blue-600"],[1,"flex","space-x-2"],["title","Refrescar lista",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["class","inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",4,"ngIf"],[1,"bg-white","rounded-lg","shadow","mb-6","p-6"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4"],[1,"md:col-span-2"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","search","type","text","placeholder","Buscar por nombre, sector o direcci\xF3n...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["for","statusFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","statusFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],["value","all"],["value","active"],["value","inactive"],["for","sectorFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","sectorFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-4","flex","justify-between","items-center"],[1,"text-sm","text-indigo-600","hover:text-indigo-800",3,"click"],[1,"text-xs","text-gray-500"],["class","text-green-600",4,"ngIf"],["class","text-blue-600",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-6",4,"ngIf"],["class","bg-green-50 border border-green-200 rounded-md p-4 mb-6",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-white shadow overflow-hidden sm:rounded-md",4,"ngIf"],["class","fixed inset-0 z-50 overflow-y-auto",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"mt-6","grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"bg-white","overflow-hidden","shadow","rounded-lg"],[1,"p-5"],[1,"flex","items-center"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h2M7 7h10M7 11h10M7 15h10"],[1,"ml-5","w-0","flex-1"],[1,"text-sm","font-medium","text-gray-500","truncate"],[1,"text-lg","font-medium","text-gray-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-sm","font-medium","text-gray-900"],[3,"value"],[1,"text-green-600"],["fill","currentColor","viewBox","0 0 20 20",1,"inline","h-3","w-3","mr-1"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"text-blue-600"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-6"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"ml-auto","pl-3"],[1,"text-red-400","hover:text-red-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"bg-green-50","border","border-green-200","rounded-md","p-4","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-green-400"],[1,"text-sm","text-green-700"],[1,"text-green-400","hover:text-green-600",3,"click"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"bg-white","shadow","overflow-hidden","sm:rounded-md"],[1,"px-4","py-5","sm:px-6","border-b","border-gray-200"],[1,"flex","justify-between","items-center"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors duration-150",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-12",4,"ngIf"],[1,"hover:bg-gray-50","transition-colors","duration-150"],[1,"px-6","py-4","whitespace-nowrap"],[1,"h-12","w-12","flex-shrink-0"],[1,"h-12","w-12","rounded-lg","bg-indigo-100","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600"],[1,"ml-4"],["class","inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 mr-2",4,"ngIf"],[1,"text-sm","text-gray-900"],[1,"px-6","py-4"],[4,"ngIf","ngIfElse"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","justify-end","space-x-2"],["class","text-indigo-600 hover:text-indigo-900 p-1 rounded hover:bg-indigo-50 transition-colors duration-150","title","Editar empresa",3,"click",4,"ngIf"],["class","text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors duration-150","title","Desactivar empresa",3,"click",4,"ngIf"],["class","text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors duration-150","title","Reactivar empresa",3,"click",4,"ngIf"],["class","text-gray-400 text-xs px-2 py-1 bg-gray-100 rounded",4,"ngIf"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","bg-blue-100","text-blue-800","mr-2"],["fill","currentColor","viewBox","0 0 20 20",1,"h-3","w-3","mr-1"],["class","flex items-center mb-1",4,"ngFor","ngForOf"],[1,"flex","items-center","mb-1"],[1,"h-6","w-6","bg-blue-100","rounded-full","flex","items-center","justify-center","mr-2"],[1,"text-xs","font-medium","text-blue-600"],[1,"text-xs"],[1,"text-xs","text-gray-500","italic"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"inline","h-3","w-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["title","Editar empresa",1,"text-indigo-600","hover:text-indigo-900","p-1","rounded","hover:bg-indigo-50","transition-colors","duration-150",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Desactivar empresa",1,"text-red-600","hover:text-red-900","p-1","rounded","hover:bg-red-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636"],["title","Reactivar empresa",1,"text-green-600","hover:text-green-900","p-1","rounded","hover:bg-green-50","transition-colors","duration-150",3,"click"],[1,"text-gray-400","text-xs","px-2","py-1","bg-gray-100","rounded"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6"],["class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-sm","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-4xl","sm:w-full"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mx-auto","flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-indigo-100","sm:mx-0","sm:h-10","sm:w-10"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","w-full"],[1,"mt-2"],[1,"bg-white","px-4","pb-4","sm:px-6","max-h-96","overflow-y-auto"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nombreEmpresa",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["id","nombreEmpresa","type","text","name","nombreEmpresa","required","","placeholder","Ej: TechCorp Guatemala",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","type","email","name","email","placeholder","contacto@empresa.com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","telefono",1,"block","text-sm","font-medium","text-gray-700"],["id","telefono","type","tel","name","telefono","placeholder","+502 2234-5678",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","direccion",1,"block","text-sm","font-medium","text-gray-700"],["id","direccion","type","text","name","direccion","placeholder","Zona 10, 6a Avenida 12-25",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","sitioWeb",1,"block","text-sm","font-medium","text-gray-700"],["id","sitioWeb","type","url","name","sitioWeb","placeholder","https://www.empresa.com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","descripcionDetallada",1,"block","text-sm","font-medium","text-gray-700"],["id","descripcionDetallada","name","descripcionDetallada","rows","3","placeholder","Describe la empresa, sus servicios, misi\xF3n, visi\xF3n...",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],["class","mb-4 space-y-2",4,"ngIf"],[1,"border","border-gray-200","rounded-md","p-4","bg-gray-50"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],["type","text","name","contactoNombre","placeholder","Nombre del contacto",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["type","text","name","contactoCargo","placeholder","Cargo",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["type","tel","name","contactoTelefono","placeholder","Tel\xE9fono",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["type","email","name","contactoEmail","placeholder","Email",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],[1,"mt-3"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","leading-4","font-medium","rounded-md","text-indigo-700","bg-indigo-100","hover:bg-indigo-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["class","mt-4 bg-red-50 border border-red-200 rounded-md p-3",4,"ngIf"],["class","mt-4 bg-green-50 border border-green-200 rounded-md p-3",4,"ngIf"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-indigo-600","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:ml-3","sm:w-auto","sm:text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],[1,"mb-4","space-y-2"],["class","flex items-center justify-between p-3 bg-gray-50 rounded-md",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-md"],[1,"flex-1"],[1,"text-xs","text-gray-600"],[1,"flex","space-x-4","text-xs","text-gray-500","mt-1"],["type","button","title","Eliminar contacto",1,"text-red-600","hover:text-red-800","p-1",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"mt-4","bg-red-50","border","border-red-200","rounded-md","p-3"],[1,"mt-4","bg-green-50","border","border-green-200","rounded-md","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"]],template:function(e,r){if(e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),d(5,"Gestionar Mis Empresas"),l(),a(6,"p",5),d(7," Administra las empresas donde eres responsable - "),a(8,"span",6),d(9),l()()(),a(10,"div",7)(11,"button",8),E("click",function(){return r.refreshEmpresas()}),I(),a(12,"svg",9),_(13,"path",10),l(),d(14," Refrescar "),l(),x(15,C5,4,0,"button",11),l()(),x(16,E5,49,4,"div",12),l(),F(),a(17,"div",13)(18,"div",14)(19,"div",15)(20,"label",16),d(21," Buscar "),l(),a(22,"div",17)(23,"input",18),A("ngModelChange",function(o){return O(r.searchTerm,o)||(r.searchTerm=o),o}),E("input",function(){return r.onSearch()}),l(),a(24,"div",19),I(),a(25,"svg",20),_(26,"path",21),l()()()(),F(),a(27,"div")(28,"label",22),d(29," Estado "),l(),a(30,"select",23),A("ngModelChange",function(o){return O(r.statusFilter,o)||(r.statusFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(31,"option",24),d(32,"Todos"),l(),a(33,"option",25),d(34,"Activas"),l(),a(35,"option",26),d(36,"Inactivas"),l()()(),a(37,"div")(38,"label",27),d(39," Sector "),l(),a(40,"select",28),A("ngModelChange",function(o){return O(r.sectorFilter,o)||(r.sectorFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(41,"option",24),d(42,"Todos"),l(),x(43,S5,2,2,"option",29),l()()(),a(44,"div",30)(45,"button",31),E("click",function(){return r.clearFilters()}),d(46," Limpiar filtros "),l(),a(47,"div",32),x(48,M5,3,0,"span",33)(49,I5,4,0,"span",34),l()()(),x(50,D5,11,1,"div",35)(51,T5,11,1,"div",36)(52,k5,5,0,"div",37)(53,G5,26,7,"div",38),l(),x(54,X5,76,18,"div",39)),e&2){let i;p(9),M((i=r.getUserStats())==null?null:i.role),p(6),h("ngIf",r.canCreateEmpresa()),p(),h("ngIf",r.getUserStats()),p(7),k("ngModel",r.searchTerm),p(7),k("ngModel",r.statusFilter),p(10),k("ngModel",r.sectorFilter),p(3),h("ngForOf",r.sectoresDisponibles),p(5),h("ngIf",(r.currentUser==null?null:r.currentUser.id_perfil)===1),p(),h("ngIf",(r.currentUser==null?null:r.currentUser.id_perfil)===3),p(),h("ngIf",r.error),p(),h("ngIf",r.success),p(),h("ngIf",r.loading),p(),h("ngIf",!r.loading),p(),h("ngIf",r.showModal)}},dependencies:[st,Ce,pe,Ye,et,tt,Ee,Ze,Te,qe,Ue,Ie,je],styles:['.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.stats-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.btn-hover[_ngcontent-%COMP%]{transition:all .2s ease}.btn-hover[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.responsable-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:10px}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.modal-overlay[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.contact-card[_ngcontent-%COMP%]{transition:all .2s ease;border-left:4px solid transparent}.contact-card[_ngcontent-%COMP%]:hover{border-left-color:#4f46e5;background-color:#f8fafc}.checkbox-container[_ngcontent-%COMP%]{transition:all .2s ease}.checkbox-container[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;border-radius:8px;padding:4px}.loading-shimmer[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.message-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s ease-out}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{margin:1rem;max-height:90vh}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.table-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}@media (prefers-color-scheme: dark){.dark-mode[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]{background-color:#1f2937;color:#f9fafb}.dark-mode[_ngcontent-%COMP%]   .text-gray-900[_ngcontent-%COMP%]{color:#f9fafb}.dark-mode[_ngcontent-%COMP%]   .border-gray-200[_ngcontent-%COMP%]{border-color:#374151}}.focus-visible[_ngcontent-%COMP%]:focus{outline:2px solid #4f46e5;outline-offset:2px}.input-error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.input-success[_ngcontent-%COMP%]{border-color:#22c55e;box-shadow:0 0 0 3px #22c55e1a}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background-color:#1f2937;color:#fff;padding:.5rem;border-radius:.375rem;font-size:.875rem;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity .2s,visibility .2s;z-index:1000}.tooltip[_ngcontent-%COMP%]:hover:after{opacity:1;visibility:visible}.empresa-card[_ngcontent-%COMP%]{transition:all .3s ease;border-left:4px solid transparent}.empresa-card[_ngcontent-%COMP%]:hover{border-left-color:#4f46e5;box-shadow:0 8px 25px #0000001a;transform:translateY(-2px)}.empresa-card.is-responsable[_ngcontent-%COMP%]{border-left-color:#22c55e;background-color:#f0fdf4}.icon-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;font-weight:500;font-size:.75rem;padding:.25rem .75rem;border-radius:9999px;transition:all .2s ease}.status-badge.active[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-badge.inactive[_ngcontent-%COMP%]{background-color:#fef2f2;color:#991b1b}.form-section[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;padding-bottom:1.5rem;margin-bottom:1.5rem}.form-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.form-label-required[_ngcontent-%COMP%]:after{content:" *";color:#ef4444}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background-color:#f9fafb}.skeleton-loader[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:.375rem}.dropdown-container[_ngcontent-%COMP%]{position:relative}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #d1d5db;border-radius:.375rem;box-shadow:0 10px 25px #0000001a;z-index:50;max-height:200px;overflow-y:auto}.dropdown-item[_ngcontent-%COMP%]{padding:.5rem 1rem;cursor:pointer;transition:background-color .15s ease}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-top:2rem}.pagination-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:.375rem;background:#fff;color:#374151;cursor:pointer;transition:all .15s ease}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f3f4f6;border-color:#9ca3af}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-btn.active[_ngcontent-%COMP%]{background-color:#4f46e5;border-color:#4f46e5;color:#fff}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}.empresa-card[_ngcontent-%COMP%]{break-inside:avoid;border:1px solid #000;margin-bottom:1rem}}']})};var Nd=class n{constructor(t,e){this.supabaseService=t;this.authService=e}getEmpleosByUser(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");console.log("Obteniendo empleos para usuario:",t.id,"Perfil:",t.id_perfil);let{data:e,error:r}=yield this.supabaseService.client.rpc("get_empleos_simple",{p_user_id:t.id});if(r)throw console.error("Error obteniendo empleos:",r),r;return console.log("Empleos obtenidos:",e?.length||0),e||[]}catch(t){throw console.error("Error en getEmpleosByUser:",t),t}})}getEmpleosFromView(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");let e=this.supabaseService.client.from("v_empleos_completa").select("*");if(t.id_perfil!==1){let{data:o,error:s}=yield this.supabaseService.client.from("empresas").select("id").contains("responsables",[t.id]).eq("status",1);if(s)throw console.error("Error obteniendo empresas:",s),s;if(o&&o.length>0){let c=o.map(u=>u.id);e=e.in("empresa_id",c)}else return[]}let{data:r,error:i}=yield e.order("fecha_creacion",{ascending:!1});if(i)throw console.error("Error obteniendo empleos de vista:",i),i;return r||[]}catch(t){throw console.error("Error en getEmpleosFromView:",t),t}})}getEmpleoById(t){return y(this,null,function*(){try{let{data:e,error:r}=yield this.supabaseService.client.from("v_empleos_completa").select("*").eq("id",t).single();if(r){if(r.code==="PGRST116")return null;throw r}return e}catch(e){throw console.error("Error obteniendo empleo por ID:",e),e}})}createEmpleo(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");if(!(yield this.canCreateEmpleo(t.empresa_id)))throw new Error("No tiene permisos para crear empleos en esta empresa");let i=G(P({},t),{created_by:e.id,fecha_creacion:new Date().toISOString()}),{data:o,error:s}=yield this.supabaseService.client.from("empleos").insert([i]).select().single();if(s)throw console.error("Error creando empleo:",s),s;return o}catch(e){throw console.error("Error en createEmpleo:",e),e}})}updateEmpleo(t,e){return y(this,null,function*(){try{let r=this.authService.getCurrentUser();if(!r)throw new Error("Usuario no autenticado");let i=G(P({},e),{updated_by:r.id,updated_at:new Date().toISOString()}),{data:o,error:s}=yield this.supabaseService.client.from("empleos").update(i).eq("id",t).select().single();if(s)throw console.error("Error actualizando empleo:",s),s;return o}catch(r){throw console.error("Error en updateEmpleo:",r),r}})}deleteEmpleo(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");let{error:r}=yield this.supabaseService.client.from("empleos").update({status:0,updated_by:e.id,updated_at:new Date().toISOString()}).eq("id",t);if(r)throw console.error("Error eliminando empleo:",r),r;return!0}catch(e){throw console.error("Error en deleteEmpleo:",e),e}})}canCreateEmpleo(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)return!1;let{data:r,error:i}=yield this.supabaseService.client.rpc("can_create_empleo",{p_user_id:e.id,p_empresa_id:t});return i?(console.error("Error verificando permisos:",i),!1):r}catch(e){return console.error("Error en canCreateEmpleo:",e),!1}})}canAccessEmpleos(){let t=this.authService.getCurrentUser();return t?t.id_perfil===1||t.id_perfil===3:!1}getEmpleosStats(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");console.log("Obteniendo estad\xEDsticas para usuario:",t.id);try{let{data:e,error:r}=yield this.supabaseService.client.rpc("get_empleos_stats",{p_user_id:t.id});if(r)throw console.warn("Error con funci\xF3n principal de stats:",r),r;if(e&&e.length>0)return console.log("\u2705 Estad\xEDsticas obtenidas con funci\xF3n principal:",e[0]),this.formatStatsResponse(e[0])}catch{console.warn("Funci\xF3n principal fall\xF3, intentando con funci\xF3n simple...")}try{let{data:e,error:r}=yield this.supabaseService.client.rpc("get_simple_empleos_stats",{p_user_id:t.id});if(r)throw console.warn("Error con funci\xF3n simple de stats:",r),r;if(e&&e.length>0)return console.log("\u2705 Estad\xEDsticas obtenidas con funci\xF3n simple:",e[0]),this.formatStatsResponse(e[0])}catch{console.warn("Funci\xF3n simple fall\xF3, intentando con funci\xF3n b\xE1sica...")}try{let{data:e,error:r}=yield this.supabaseService.client.rpc("get_basic_empleos_stats");if(r)throw console.warn("Error con funci\xF3n b\xE1sica de stats:",r),r;if(e&&e.length>0)return console.log("\u2705 Estad\xEDsticas obtenidas con funci\xF3n b\xE1sica:",e[0]),this.formatStatsResponse(e[0])}catch{console.warn("Funci\xF3n b\xE1sica fall\xF3, calculando manualmente...")}return yield this.calculateStatsManually()}catch(t){return console.error("Error en getEmpleosStats:",t),this.getEmptyStats()}})}formatStatsResponse(t){return{total_empleos:Number(t.total_empleos)||0,empleos_activos:Number(t.empleos_activos)||0,empleos_expirados:Number(t.empleos_expirados)||0,empleos_cerrados:Number(t.empleos_cerrados)||0,total_aplicaciones:Number(t.total_aplicaciones)||0,empleos_urgentes:Number(t.empleos_urgentes)||0,promedio_aplicaciones:Number(t.promedio_aplicaciones)||0,categorias_populares:t.categorias_populares||[]}}calculateStatsManually(){return y(this,null,function*(){try{console.log("Calculando estad\xEDsticas manualmente...");let t=this.authService.getCurrentUser();if(!t)return this.getEmptyStats();let e=this.supabaseService.client.from("empleos").select("*");if(t.id_perfil!==1){let{data:c}=yield this.supabaseService.client.from("empresas").select("id").contains("responsables",[t.id]).eq("status",1);if(c&&c.length>0){let u=c.map(f=>f.id);e=e.in("empresa_id",u)}else return this.getEmptyStats()}let{data:r,error:i}=yield e;if(i)return console.error("Error obteniendo empleos para stats manuales:",i),this.getEmptyStats();if(!r||r.length===0)return console.log("No hay empleos para calcular estad\xEDsticas"),this.getEmptyStats();let o=new Date,s={total_empleos:r.length,empleos_activos:r.filter(c=>c.status===1&&new Date(c.fecha_fin_publicacion)>o).length,empleos_expirados:r.filter(c=>new Date(c.fecha_fin_publicacion)<=o).length,empleos_cerrados:r.filter(c=>c.status===2).length,total_aplicaciones:r.reduce((c,u)=>c+(u.aplicaciones_recibidas||0),0),empleos_urgentes:r.filter(c=>c.urgencia==="urgente"&&c.status===1).length,promedio_aplicaciones:r.length>0?r.reduce((c,u)=>c+(u.aplicaciones_recibidas||0),0)/r.length:0,categorias_populares:this.calculateCategoriesPopularity(r)};return console.log("\u2705 Estad\xEDsticas calculadas manualmente:",s),s}catch(t){return console.error("Error en c\xE1lculo manual de estad\xEDsticas:",t),this.getEmptyStats()}})}calculateCategoriesPopularity(t){let e={};return t.forEach(r=>{r.categoria&&(e[r.categoria]=(e[r.categoria]||0)+1)}),Object.entries(e).map(([r,i])=>({categoria:r,total:i})).sort((r,i)=>i.total-r.total).slice(0,5)}getEmptyStats(){return{total_empleos:0,empleos_activos:0,empleos_expirados:0,empleos_cerrados:0,total_aplicaciones:0,empleos_urgentes:0,promedio_aplicaciones:0,categorias_populares:[]}}debugStats(){return y(this,null,function*(){console.log("=== DEBUG ESTAD\xCDSTICAS ===");try{let t=this.authService.getCurrentUser();console.log("Usuario actual:",t);let{data:e}=yield this.supabaseService.client.from("empleos").select("id");if(console.log("Total empleos en BD:",e?.length),t&&t.id_perfil!==1){let{data:r}=yield this.supabaseService.client.from("empresas").select("id, nombre, responsables").contains("responsables",[t.id]);console.log("Empresas donde es responsable:",r)}try{let{data:r}=yield this.supabaseService.client.rpc("get_basic_empleos_stats");console.log("\u2705 get_basic_empleos_stats:",r)}catch(r){console.log("\u274C get_basic_empleos_stats:",r)}try{let{data:r}=yield this.supabaseService.client.rpc("get_simple_empleos_stats",{p_user_id:t?.id});console.log("\u2705 get_simple_empleos_stats:",r)}catch(r){console.log("\u274C get_simple_empleos_stats:",r)}try{let{data:r}=yield this.supabaseService.client.rpc("get_empleos_stats",{p_user_id:t?.id});console.log("\u2705 get_empleos_stats:",r)}catch(r){console.log("\u274C get_empleos_stats:",r)}}catch(t){console.error("Error en debug de stats:",t)}console.log("=== FIN DEBUG ===")})}incrementarVistas(t){return y(this,null,function*(){try{let{data:e,error:r}=yield this.supabaseService.client.rpc("incrementar_vistas_empleo",{p_empleo_id:t});r&&console.error("Error incrementando vistas:",r)}catch(e){console.error("Error en incrementarVistas:",e)}})}getEmpresasDisponibles(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)return[];let e=this.supabaseService.client.from("empresas").select("id, nombre, sector").eq("status",1);t.id_perfil!==1&&(e=e.contains("responsables",[t.id]));let{data:r,error:i}=yield e.order("nombre");if(i)throw console.error("Error obteniendo empresas:",i),i;return r||[]}catch(t){throw console.error("Error en getEmpresasDisponibles:",t),t}})}getEmpleosBasic(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)return[];let{data:e,error:r}=yield this.supabaseService.client.from("empleos").select(`
          *,
          empresas!inner(
            id,
            nombre,
            sector,
            responsables
          )
        `).order("fecha_creacion",{ascending:!1});return r?(console.error("Error en consulta b\xE1sica:",r),[]):t.id_perfil===1?e||[]:t.id_perfil===3?(e||[]).filter(i=>i.empresas?.responsables?.includes(t.id)):[]}catch(t){return console.error("Error en getEmpleosBasic:",t),[]}})}getCategorias(){return["ventas","administracion","informatica","telecomunicaciones","marketing","recursos_humanos","finanzas","contabilidad","logistica","produccion","servicio_cliente","dise\xF1o","legal","educacion","salud","ingenieria","construccion","turismo","gastronomia","transporte"]}getModalidadesTrabajo(){return["remoto","hibrido","presencial"]}getNivelesExperiencia(){return["sin_experiencia","0-1 a\xF1os","1-3 a\xF1os","3-5 a\xF1os","5-10 a\xF1os","10+ a\xF1os"]}getTiposJornada(){return["tiempo_completo","medio_tiempo","por_horas"]}getTiposContrato(){return["indefinido","por_tiempo_determinado","proyecto","practicas","temporal","consultoria"]}getNivelesUrgencia(){return["urgente","normal","bajo"]}getNivelesEducacion(){return["primaria","secundaria","tecnico","universitario","maestria","doctorado"]}formatSalario(t){if(!t||!t.minimo&&!t.maximo)return"Salario no especificado";let e=t.moneda||"GTQ",r=t.periodo||"mensual",i="";return t.minimo&&t.maximo?i=`${e} ${t.minimo.toLocaleString()} - ${t.maximo.toLocaleString()}`:t.minimo?i=`Desde ${e} ${t.minimo.toLocaleString()}`:t.maximo&&(i=`Hasta ${e} ${t.maximo.toLocaleString()}`),i+=` ${r}`,t.negociable&&(i+=" (Negociable)"),i}formatModalidades(t){return!t||!t.modalidades||t.modalidades.length===0?"No especificado":t.modalidades.map(r=>{switch(r){case"remoto":return"Remoto";case"hibrido":return"H\xEDbrido";case"presencial":return"Presencial";default:return r}}).join(", ")}getEstadoLegible(t){if(t.estado_calculado)switch(t.estado_calculado){case"activo":return{texto:"Activo",color:"green"};case"expirado":return{texto:"Expirado",color:"red"};case"cerrado":return{texto:"Cerrado",color:"gray"};case"pausado":return{texto:"Pausado",color:"yellow"};case"inactivo":return{texto:"Inactivo",color:"red"};default:return{texto:"Desconocido",color:"gray"}}return t.status===0?{texto:"Inactivo",color:"red"}:t.status===2?{texto:"Cerrado",color:"gray"}:t.status===3?{texto:"Pausado",color:"yellow"}:t.fecha_fin_publicacion&&new Date(t.fecha_fin_publicacion)<new Date?{texto:"Expirado",color:"red"}:{texto:"Activo",color:"green"}}getCategoriaLegible(t){return{ventas:"Ventas",administracion:"Administraci\xF3n",informatica:"Inform\xE1tica",telecomunicaciones:"Telecomunicaciones",marketing:"Marketing",recursos_humanos:"Recursos Humanos",finanzas:"Finanzas",contabilidad:"Contabilidad",logistica:"Log\xEDstica",produccion:"Producci\xF3n",servicio_cliente:"Servicio al Cliente",dise\u00F1o:"Dise\xF1o",legal:"Legal",educacion:"Educaci\xF3n",salud:"Salud",ingenieria:"Ingenier\xEDa",construccion:"Construcci\xF3n",turismo:"Turismo",gastronomia:"Gastronom\xEDa",transporte:"Transporte"}[t]||t}validateEmpleoData(t){let e=[];return(!t.nombre||t.nombre.trim().length===0)&&e.push("El nombre del empleo es requerido"),t.categoria||e.push("La categor\xEDa es requerida"),t.jornada_laboral||e.push("La jornada laboral es requerida"),t.tipo_contrato||e.push("El tipo de contrato es requerido"),t.empresa_id||e.push("La empresa es requerida"),t.fecha_fin_publicacion?new Date(t.fecha_fin_publicacion)<=new Date&&e.push("La fecha de fin de publicaci\xF3n debe ser mayor a la fecha actual"):e.push("La fecha de fin de publicaci\xF3n es requerida"),(!t.numero_vacantes||t.numero_vacantes<1)&&e.push("El n\xFAmero de vacantes debe ser mayor a 0"),t.edad_minima&&t.edad_maxima&&t.edad_minima>t.edad_maxima&&e.push("La edad m\xEDnima no puede ser mayor que la edad m\xE1xima"),(!t.descripcion||!t.descripcion.descripcion||t.descripcion.descripcion.trim().length===0)&&e.push("La descripci\xF3n del empleo es requerida"),(!t.lugar_trabajo||!t.lugar_trabajo.modalidades||t.lugar_trabajo.modalidades.length===0)&&e.push("Debe seleccionar al menos una modalidad de trabajo"),e}static \u0275fac=function(e){return new(e||n)(U(We),U(de))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var tA=(n,t,e,r)=>({"bg-green-100 text-green-800":n,"bg-red-100 text-red-800":t,"bg-yellow-100 text-yellow-800":e,"bg-gray-100 text-gray-800":r}),nA=(n,t,e)=>({"bg-red-100 text-red-800":n,"bg-blue-100 text-blue-800":t,"bg-gray-100 text-gray-800":e});function rA(n,t){if(n&1){let e=V();a(0,"button",46),E("click",function(){w(e);let i=g();return C(i.openCreateModal())}),_(1,"i",47),d(2," Crear Empleo "),l()}}function iA(n,t){if(n&1&&(a(0,"div",48)(1,"div",49)(2,"div",50)(3,"div",51)(4,"p",52),d(5,"Total Empleos"),l(),a(6,"p",53),d(7),l()(),_(8,"i",54),l()(),a(9,"div",55)(10,"div",50)(11,"div",51)(12,"p",52),d(13,"Empleos Activos"),l(),a(14,"p",53),d(15),l()(),_(16,"i",56),l()(),a(17,"div",57)(18,"div",50)(19,"div",51)(20,"p",52),d(21,"Urgentes"),l(),a(22,"p",53),d(23),l()(),_(24,"i",58),l()(),a(25,"div",59)(26,"div",50)(27,"div",51)(28,"p",52),d(29,"Total Aplicaciones"),l(),a(30,"p",53),d(31),l()(),_(32,"i",60),l()()()),n&2){let e=g();p(7),M(e.stats.total_empleos),p(8),M(e.stats.empleos_activos),p(8),M(e.stats.empleos_urgentes),p(8),M(e.stats.total_aplicaciones)}}function oA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit,r=g();h("value",e),p(),D(" ",r.getCategoriaLegible(e)," ")}}function sA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit;h("value",e.id),p(),D(" ",e.nombre," ")}}function aA(n,t){if(n&1&&(a(0,"span",62),d(1),l()),n&2){let e=g();p(),D("(filtrados de ",e.empleos.length," total)")}}function lA(n,t){if(n&1&&(a(0,"div",63),_(1,"i",64),d(2),l()),n&2){let e=g();p(2),D(" ",e.error," ")}}function cA(n,t){n&1&&(a(0,"div",65)(1,"div",66),_(2,"i",67),a(3,"p",68),d(4,"Cargando empleos..."),l()()())}function dA(n,t){if(n&1&&(a(0,"div",72),_(1,"i",73),a(2,"p",74),d(3),l()()),n&2){let e=g(2);p(3),M(e.getNoDataMessage())}}function uA(n,t){if(n&1&&(a(0,"p",100),d(1),l()),n&2){let e=g().$implicit;p(),D(" ",e.dias_restantes>0?e.dias_restantes+" d\xEDas":"Expirado"," ")}}function pA(n,t){if(n&1){let e=V();a(0,"button",101),E("click",function(){w(e);let i=g().$implicit,o=g(3);return C(o.openEditModal(i))}),_(1,"i",102),l()}}function fA(n,t){if(n&1){let e=V();a(0,"button",103),E("click",function(){w(e);let i=g().$implicit,o=g(3);return C(o.deleteEmpleo(i))}),_(1,"i",104),l()}}function mA(n,t){if(n&1){let e=V();a(0,"div",83)(1,"div",84)(2,"div",77)(3,"h4",85),d(4),l(),a(5,"p",86),d(6),l(),a(7,"p",87),d(8),l()(),a(9,"div",78)(10,"p",85),d(11),l(),a(12,"p",88),d(13),l()(),a(14,"div",78)(15,"span",89),d(16),l(),a(17,"p",90),d(18),l()(),a(19,"div",79)(20,"span",91),d(21),l(),x(22,uA,2,1,"p",92),l(),a(23,"div",79)(24,"span",91),d(25),l()(),a(26,"div",79)(27,"div",66)(28,"p",93),d(29),l(),a(30,"p",94),d(31,"postulantes"),l()()(),a(32,"div",78)(33,"div",95)(34,"button",96),E("click",function(){let i=w(e).$implicit,o=g(3);return C(o.openViewModal(i))}),_(35,"i",97),l(),x(36,pA,2,0,"button",98)(37,fA,2,0,"button",99),l()()()()}if(n&2){let e=t.$implicit,r=g(3);p(4),M(e.nombre),p(2),M(r.formatModalidades(e.lugar_trabajo)),p(2),M(r.formatSalario(e.salario)),p(3),M(e.empresa_nombre),p(2),M(e.jornada_laboral),p(3),D(" ",r.getCategoriaLegible(e.categoria)," "),p(2),M(e.experiencia_laboral),p(2),h("ngClass",Zl(15,tA,r.getEstadoLegible(e).color==="green",r.getEstadoLegible(e).color==="red",r.getEstadoLegible(e).color==="yellow",r.getEstadoLegible(e).color==="gray")),p(),D(" ",r.getEstadoLegible(e).texto," "),p(),h("ngIf",e.dias_restantes!==void 0),p(2),h("ngClass",s_(20,nA,e.urgencia==="urgente",e.urgencia==="normal",e.urgencia==="bajo")),p(),D(" ",e.urgencia," "),p(4),M(e.aplicaciones_recibidas||0),p(7),h("ngIf",r.canEditEmpleo(e)),p(),h("ngIf",r.canEditEmpleo(e))}}function hA(n,t){if(n&1){let e=V();a(0,"button",112),E("click",function(){let i=w(e).$implicit,o=g(4);return C(o.goToPage(i))}),d(1),l()}if(n&2){let e=t.$implicit,r=g(4);Ft("bg-blue-500",e===r.currentPage)("text-white",e===r.currentPage),p(),D(" ",e," ")}}function gA(n,t){if(n&1){let e=V();a(0,"div",105)(1,"div",106)(2,"div",107),d(3),l(),a(4,"div",95)(5,"button",108),E("click",function(){w(e);let i=g(3);return C(i.prevPage())}),_(6,"i",109),l(),x(7,hA,2,5,"button",110),a(8,"button",108),E("click",function(){w(e);let i=g(3);return C(i.nextPage())}),_(9,"i",111),l()()()()}if(n&2){let e=g(3);p(3),ke(" P\xE1gina ",e.currentPage," de ",e.totalPages," "),p(2),h("disabled",e.currentPage===1),p(2),h("ngForOf",e.paginationPages),p(),h("disabled",e.currentPage===e.totalPages)}}function vA(n,t){if(n&1&&(a(0,"div")(1,"div",75)(2,"div",76)(3,"div",77),d(4,"Empleo"),l(),a(5,"div",78),d(6,"Empresa"),l(),a(7,"div",78),d(8,"Categor\xEDa"),l(),a(9,"div",79),d(10,"Estado"),l(),a(11,"div",79),d(12,"Urgencia"),l(),a(13,"div",79),d(14,"Aplicaciones"),l(),a(15,"div",78),d(16,"Acciones"),l()()(),a(17,"div",80),x(18,mA,38,24,"div",81),l(),x(19,gA,10,5,"div",82),l()),n&2){let e=g(2);p(18),h("ngForOf",e.paginatedEmpleos)("ngForTrackBy",e.trackByEmpleoId),p(),h("ngIf",e.totalPages>1)}}function _A(n,t){if(n&1&&(a(0,"div",69),x(1,dA,4,1,"div",70)(2,vA,20,3,"div",71),l()),n&2){let e=g();p(),h("ngIf",e.paginatedEmpleos.length===0),p(),h("ngIf",e.paginatedEmpleos.length>0)}}function yA(n,t){n&1&&(a(0,"span"),d(1,"Crear Nuevo Empleo"),l())}function bA(n,t){n&1&&(a(0,"span"),d(1,"Editar Empleo"),l())}function xA(n,t){n&1&&(a(0,"span"),d(1,"Detalles del Empleo"),l())}function wA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit;h("value",e.id),p(),D(" ",e.nombre," ")}}function CA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit,r=g(2);h("value",e),p(),D(" ",r.getCategoriaLegible(e)," ")}}function EA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),D(" ",e," ")}}function SA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),D(" ",e," ")}}function MA(n,t){if(n&1&&(a(0,"option",61),d(1),Le(2,"titlecase"),l()),n&2){let e=t.$implicit;h("value",e),p(),D(" ",os(2,2,e)," ")}}function IA(n,t){n&1&&(a(0,"div",169),_(1,"i",170),d(2," Seleccione la modalidad de trabajo para esta oferta laboral "),l())}function DA(n,t){if(n&1&&(a(0,"div",171)(1,"div",172),_(2,"i",173),a(3,"span",62),d(4,"Modalidad seleccionada:"),l(),a(5,"span",174),d(6),l()()()),n&2){let e=g(2);p(6),M(e.getSelectedModalidad())}}function TA(n,t){if(n&1){let e=V();a(0,"button",178),E("click",function(){w(e);let i=g().index,o=g(2);return C(o.removeRequisito(i))}),_(1,"i",179),l()}}function kA(n,t){if(n&1){let e=V();a(0,"div",175)(1,"input",176),A("ngModelChange",function(i){let o=w(e).index,s=g(2);return O(s.empleoForm.descripcion.requisitos[o],i)||(s.empleoForm.descripcion.requisitos[o]=i),C(i)}),l(),x(2,TA,2,0,"button",177),l()}if(n&2){let e=t.index,r=g(2);p(),k("ngModel",r.empleoForm.descripcion.requisitos[e]),h("name","requisito_"+e)("readonly",r.modalMode==="view"),p(),h("ngIf",r.modalMode!=="view")}}function AA(n,t){if(n&1){let e=V();a(0,"button",180),E("click",function(){w(e);let i=g(2);return C(i.addRequisito())}),_(1,"i",47),d(2," Agregar Requisito "),l()}}function OA(n,t){if(n&1){let e=V();a(0,"button",178),E("click",function(){w(e);let i=g().index,o=g(2);return C(o.removeBeneficio(i))}),_(1,"i",179),l()}}function PA(n,t){if(n&1){let e=V();a(0,"div",175)(1,"input",181),A("ngModelChange",function(i){let o=w(e).index,s=g(2);return O(s.empleoForm.descripcion.beneficios[o],i)||(s.empleoForm.descripcion.beneficios[o]=i),C(i)}),l(),x(2,OA,2,0,"button",177),l()}if(n&2){let e=t.index,r=g(2);p(),k("ngModel",r.empleoForm.descripcion.beneficios[e]),h("name","beneficio_"+e)("readonly",r.modalMode==="view"),p(),h("ngIf",r.modalMode!=="view")}}function FA(n,t){if(n&1){let e=V();a(0,"button",180),E("click",function(){w(e);let i=g(2);return C(i.addBeneficio())}),_(1,"i",47),d(2," Agregar Beneficio "),l()}}function RA(n,t){if(n&1){let e=V();a(0,"button",178),E("click",function(){w(e);let i=g().index,o=g(2);return C(o.removeHabilidad(i))}),_(1,"i",179),l()}}function NA(n,t){if(n&1){let e=V();a(0,"div",175)(1,"input",182),A("ngModelChange",function(i){let o=w(e).index,s=g(2);return O(s.empleoForm.descripcion.habilidades[o],i)||(s.empleoForm.descripcion.habilidades[o]=i),C(i)}),l(),x(2,RA,2,0,"button",177),l()}if(n&2){let e=t.index,r=g(2);p(),k("ngModel",r.empleoForm.descripcion.habilidades[e]),h("name","habilidad_"+e)("readonly",r.modalMode==="view"),p(),h("ngIf",r.modalMode!=="view")}}function VA(n,t){if(n&1){let e=V();a(0,"button",180),E("click",function(){w(e);let i=g(2);return C(i.addHabilidad())}),_(1,"i",47),d(2," Agregar Habilidad "),l()}}function LA(n,t){if(n&1){let e=V();a(0,"button",178),E("click",function(){w(e);let i=g().index,o=g(2);return C(o.removeIdioma(i))}),_(1,"i",179),l()}}function jA(n,t){if(n&1){let e=V();a(0,"div",175)(1,"input",183),A("ngModelChange",function(i){let o=w(e).index,s=g(2);return O(s.empleoForm.descripcion.idiomas[o],i)||(s.empleoForm.descripcion.idiomas[o]=i),C(i)}),l(),x(2,LA,2,0,"button",177),l()}if(n&2){let e=t.index,r=g(2);p(),k("ngModel",r.empleoForm.descripcion.idiomas[e]),h("name","idioma_"+e)("readonly",r.modalMode==="view"),p(),h("ngIf",r.modalMode!=="view")}}function UA(n,t){if(n&1){let e=V();a(0,"button",180),E("click",function(){w(e);let i=g(2);return C(i.addIdioma())}),_(1,"i",47),d(2," Agregar Idioma "),l()}}function BA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),D(" ",e," ")}}function HA(n,t){if(n&1){let e=V();a(0,"button",178),E("click",function(){w(e);let i=g().index,o=g(2);return C(o.removeKeyword(i))}),_(1,"i",179),l()}}function $A(n,t){if(n&1){let e=V();a(0,"div",175)(1,"input",184),A("ngModelChange",function(i){let o=w(e).index,s=g(2);return O(s.empleoForm.keywords[o],i)||(s.empleoForm.keywords[o]=i),C(i)}),l(),x(2,HA,2,0,"button",177),l()}if(n&2){let e=t.index,r=g(2);p(),k("ngModel",r.empleoForm.keywords[e]),h("name","keyword_"+e)("readonly",r.modalMode==="view"),p(),h("ngIf",r.modalMode!=="view")}}function zA(n,t){if(n&1){let e=V();a(0,"button",180),E("click",function(){w(e);let i=g(2);return C(i.addKeyword())}),_(1,"i",47),d(2," Agregar Palabra Clave "),l()}}function GA(n,t){if(n&1&&(a(0,"div",185),_(1,"i",64),d(2),l()),n&2){let e=g(2);p(2),D(" ",e.error," ")}}function WA(n,t){n&1&&_(0,"i",188)}function qA(n,t){if(n&1&&(a(0,"button",186),x(1,WA,1,0,"i",187),d(2),l()),n&2){g();let e=Fe(11),r=g();h("disabled",r.loading||!e.form.valid),p(),h("ngIf",r.loading),p(),D(" ",r.modalMode==="create"?"Crear Empleo":"Guardar Cambios"," ")}}function YA(n,t){if(n&1){let e=V();a(0,"div",113),E("click",function(i){w(e);let o=g();return C(i.target===i.currentTarget&&o.closeModal())}),a(1,"div",114)(2,"div",115)(3,"h2",116),x(4,yA,2,0,"span",71)(5,bA,2,0,"span",71)(6,xA,2,0,"span",71),l(),a(7,"button",117),E("click",function(){w(e);let i=g();return C(i.closeModal())}),_(8,"i",118),l()(),a(9,"div",119)(10,"form",120,0),E("ngSubmit",function(){w(e);let i=g();return C(i.saveEmpleo())}),a(12,"div",2)(13,"h3",121),d(14,"Informaci\xF3n B\xE1sica"),l(),a(15,"div",122)(16,"div",123)(17,"label",16),d(18," Nombre del Empleo * "),l(),a(19,"input",124),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.nombre,i)||(o.empleoForm.nombre=i),C(i)}),l()(),a(20,"div")(21,"label",16),d(22," Empresa * "),l(),a(23,"select",125),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.empresa_id,i)||(o.empleoForm.empresa_id=i),C(i)}),a(24,"option",126),d(25,"Seleccione una empresa"),l(),x(26,wA,2,2,"option",20),l()(),a(27,"div")(28,"label",16),d(29," Categor\xEDa * "),l(),a(30,"select",127),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.categoria,i)||(o.empleoForm.categoria=i),C(i)}),a(31,"option",128),d(32,"Seleccione una categor\xEDa"),l(),x(33,CA,2,2,"option",20),l()(),a(34,"div")(35,"label",16),d(36," N\xFAmero de Vacantes * "),l(),a(37,"input",129),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.numero_vacantes,i)||(o.empleoForm.numero_vacantes=i),C(i)}),l()(),a(38,"div")(39,"label",16),d(40," Experiencia Requerida "),l(),a(41,"select",130),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.experiencia_laboral,i)||(o.empleoForm.experiencia_laboral=i),C(i)}),a(42,"option",128),d(43,"No especificado"),l(),x(44,EA,2,2,"option",20),l()(),a(45,"div")(46,"label",16),d(47," Jornada Laboral * "),l(),a(48,"select",131),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.jornada_laboral,i)||(o.empleoForm.jornada_laboral=i),C(i)}),a(49,"option",128),d(50,"Seleccione jornada"),l(),a(51,"option",29),d(52,"Tiempo Completo"),l(),a(53,"option",30),d(54,"Medio Tiempo"),l(),a(55,"option",31),d(56,"Por Horas"),l()()(),a(57,"div")(58,"label",16),d(59," Tipo de Contrato * "),l(),a(60,"select",132),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.tipo_contrato,i)||(o.empleoForm.tipo_contrato=i),C(i)}),a(61,"option",128),d(62,"Seleccione tipo"),l(),x(63,SA,2,2,"option",20),l()(),a(64,"div")(65,"label",16),d(66," Urgencia "),l(),a(67,"select",133),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.urgencia,i)||(o.empleoForm.urgencia=i),C(i)}),a(68,"option",28),d(69,"Bajo"),l(),a(70,"option",27),d(71,"Normal"),l(),a(72,"option",26),d(73,"Urgente"),l()()(),a(74,"div")(75,"label",16),d(76," Fecha Fin Publicaci\xF3n * "),l(),a(77,"input",134),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.fecha_fin_publicacion,i)||(o.empleoForm.fecha_fin_publicacion=i),C(i)}),l()()()(),a(78,"div",2)(79,"h3",121),d(80,"Modalidad de Trabajo *"),l(),a(81,"div",135)(82,"div")(83,"label",16),d(84," Seleccione la modalidad de trabajo "),l(),a(85,"select",136),E("ngModelChange",function(i){w(e);let o=g();return C(o.onModalidadSelectChange({target:{value:i}}))}),a(86,"option",128),d(87,"Seleccione una modalidad"),l(),x(88,MA,3,4,"option",137),l()()(),x(89,IA,3,0,"div",138)(90,DA,7,1,"div",139),l(),a(91,"div",2)(92,"h3",121),d(93,"Informaci\xF3n Salarial"),l(),a(94,"div",140)(95,"div")(96,"label",16),d(97," Salario M\xEDnimo "),l(),a(98,"input",141),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.salario.minimo,i)||(o.empleoForm.salario.minimo=i),C(i)}),l()(),a(99,"div")(100,"label",16),d(101," Salario M\xE1ximo "),l(),a(102,"input",142),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.salario.maximo,i)||(o.empleoForm.salario.maximo=i),C(i)}),l()(),a(103,"div")(104,"label",16),d(105," Moneda "),l(),a(106,"select",143),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.salario.moneda,i)||(o.empleoForm.salario.moneda=i),C(i)}),a(107,"option",144),d(108,"GTQ (Quetzales)"),l(),a(109,"option",145),d(110,"USD (D\xF3lares)"),l(),a(111,"option",146),d(112,"EUR (Euros)"),l()()(),a(113,"div",50)(114,"input",147),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.salario.negociable,i)||(o.empleoForm.salario.negociable=i),C(i)}),l(),a(115,"label",148),d(116," Negociable "),l()()()(),a(117,"div",2)(118,"h3",121),d(119,"Descripci\xF3n del Empleo"),l(),a(120,"div",149)(121,"label",16),d(122," Descripci\xF3n General * "),l(),a(123,"textarea",150),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.descripcion.descripcion,i)||(o.empleoForm.descripcion.descripcion=i),C(i)}),l()(),a(124,"div",149)(125,"label",151),d(126," Requisitos del Puesto "),l(),x(127,kA,3,4,"div",152)(128,AA,3,0,"button",153),l(),a(129,"div",149)(130,"label",151),d(131," Beneficios Ofrecidos "),l(),x(132,PA,3,4,"div",152)(133,FA,3,0,"button",153),l(),a(134,"div",149)(135,"label",151),d(136," Habilidades T\xE9cnicas "),l(),x(137,NA,3,4,"div",152)(138,VA,3,0,"button",153),l(),a(139,"div",149)(140,"label",151),d(141," Idiomas Requeridos "),l(),x(142,jA,3,4,"div",152)(143,UA,3,0,"button",153),l()(),a(144,"div",2)(145,"h3",121),d(146,"Informaci\xF3n Adicional"),l(),a(147,"div",154)(148,"div")(149,"label",16),d(150," Edad M\xEDnima "),l(),a(151,"input",155),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.edad_minima,i)||(o.empleoForm.edad_minima=i),C(i)}),l()(),a(152,"div")(153,"label",16),d(154," Edad M\xE1xima "),l(),a(155,"input",156),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.edad_maxima,i)||(o.empleoForm.edad_maxima=i),C(i)}),l()(),a(156,"div")(157,"label",16),d(158," G\xE9nero "),l(),a(159,"select",157),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.genero,i)||(o.empleoForm.genero=i),C(i)}),a(160,"option",158),d(161,"Indiferente"),l(),a(162,"option",159),d(163,"Masculino"),l(),a(164,"option",160),d(165,"Femenino"),l()()(),a(166,"div")(167,"label",16),d(168," Estado Civil "),l(),a(169,"select",161),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.estado_civil,i)||(o.empleoForm.estado_civil=i),C(i)}),a(170,"option",158),d(171,"Indiferente"),l(),a(172,"option",162),d(173,"Soltero/a"),l(),a(174,"option",163),d(175,"Casado/a"),l()()(),a(176,"div")(177,"label",16),d(178," Nivel de Educaci\xF3n "),l(),a(179,"select",164),A("ngModelChange",function(i){w(e);let o=g();return O(o.empleoForm.nivel_educacion,i)||(o.empleoForm.nivel_educacion=i),C(i)}),a(180,"option",128),d(181,"No especificado"),l(),x(182,BA,2,2,"option",20),l()()()(),a(183,"div",2)(184,"h3",121),d(185,"Palabras Clave para B\xFAsqueda"),l(),x(186,$A,3,4,"div",152)(187,zA,3,0,"button",153),l(),x(188,GA,3,1,"div",165),a(189,"div",166)(190,"button",167),E("click",function(){w(e);let i=g();return C(i.closeModal())}),d(191),l(),x(192,qA,3,3,"button",168),l()()()()()}if(n&2){let e=g();p(4),h("ngIf",e.modalMode==="create"),p(),h("ngIf",e.modalMode==="edit"),p(),h("ngIf",e.modalMode==="view"),p(13),k("ngModel",e.empleoForm.nombre),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.empresa_id),h("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.empresasDisponibles),p(4),k("ngModel",e.empleoForm.categoria),h("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.getCategorias()),p(4),k("ngModel",e.empleoForm.numero_vacantes),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.experiencia_laboral),h("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.getNivelesExperiencia()),p(4),k("ngModel",e.empleoForm.jornada_laboral),h("disabled",e.modalMode==="view"),p(12),k("ngModel",e.empleoForm.tipo_contrato),h("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.getTiposContrato()),p(4),k("ngModel",e.empleoForm.urgencia),h("disabled",e.modalMode==="view"),p(10),k("ngModel",e.empleoForm.fecha_fin_publicacion),h("readonly",e.modalMode==="view")("min",e.getMinDate()),p(8),h("ngModel",e.getSelectedModalidad())("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.getModalidadesTrabajo())("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(),h("ngIf",e.hasSelectedModalidad()),p(8),k("ngModel",e.empleoForm.salario.minimo),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.salario.maximo),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.salario.moneda),h("disabled",e.modalMode==="view"),p(8),k("ngModel",e.empleoForm.salario.negociable),h("disabled",e.modalMode==="view"),p(9),k("ngModel",e.empleoForm.descripcion.descripcion),h("readonly",e.modalMode==="view"),p(4),h("ngForOf",e.empleoForm.descripcion.requisitos)("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(4),h("ngForOf",e.empleoForm.descripcion.beneficios)("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(4),h("ngForOf",e.empleoForm.descripcion.habilidades)("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(4),h("ngForOf",e.empleoForm.descripcion.idiomas)("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(8),k("ngModel",e.empleoForm.edad_minima),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.edad_maxima),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.genero),h("disabled",e.modalMode==="view"),p(10),k("ngModel",e.empleoForm.estado_civil),h("disabled",e.modalMode==="view"),p(10),k("ngModel",e.empleoForm.nivel_educacion),h("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.getNivelesEducacion()),p(4),h("ngForOf",e.empleoForm.keywords)("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(),h("ngIf",e.error),p(3),D(" ",e.modalMode==="view"?"Cerrar":"Cancelar"," "),p(),h("ngIf",e.modalMode!=="view")}}var hi=class n{constructor(t,e,r){this.empleosService=t;this.authService=e;this.router=r}empleos=[];empleosFiltrados=[];stats=null;empresasDisponibles=[];loading=!1;error="";currentUser=null;searchTerm="";categoriaFilter="all";estadoFilter="all";urgenciaFilter="all";empresaFilter="all";jornadaFilter="all";modalidadFilter="all";currentPage=1;itemsPerPage=10;totalPages=1;showModal=!1;modalMode="create";selectedEmpleo=null;empleoForm=this.getEmptyForm();ngOnInit(){return y(this,null,function*(){if(console.log("\u{1F680} Iniciando GestionarEmpleosComponent"),this.currentUser=this.authService.getCurrentUser(),console.log("\u{1F464} Usuario actual:",this.currentUser),!this.currentUser){console.log("\u274C No hay usuario logueado, redirigiendo a login"),this.router.navigate(["/login"]);return}if(console.log("\u{1F511} Verificando permisos de acceso al m\xF3dulo..."),!this.empleosService.canAccessEmpleos()){console.log("\u274C No tiene permisos para acceder al m\xF3dulo"),this.error="No tiene permisos para acceder a este m\xF3dulo";return}console.log("\u2705 Permisos de acceso verificados"),console.log("\u{1F4CA} Verificando permisos espec\xEDficos:"),console.log("- Puede crear empleos:",this.canCreateEmpleo()),yield this.loadInitialData(),console.log("\u{1F3AF} Estado final del componente:"),console.log("- Empleos cargados:",this.empleos.length),console.log("- Empresas disponibles:",this.empresasDisponibles.length),console.log("- Estad\xEDsticas:",this.stats),this.empleos.length>0&&(console.log("\u{1F50D} Verificando permisos en primeros empleos:"),this.empleos.slice(0,3).forEach((t,e)=>{console.log(`- Empleo ${e+1} (ID: ${t.id}): Puede editar = ${this.canEditEmpleo(t)}`)}))})}loadInitialData(){return y(this,null,function*(){this.loading=!0,this.error="";try{console.log("Iniciando carga de datos..."),yield this.loadEmpresasDisponibles(),yield this.loadEmpleosWithFallback(),yield this.loadStats(),console.log("Carga inicial completada exitosamente")}catch(t){console.error("Error cargando datos iniciales:",t),this.error="Error al cargar los datos. Algunas funciones pueden no estar disponibles."}finally{this.loading=!1}})}loadEmpleosWithFallback(){return y(this,null,function*(){try{console.log("Intentando cargar empleos con funci\xF3n principal..."),this.empleos=yield this.empleosService.getEmpleosByUser(),console.log("Empleos cargados con funci\xF3n principal:",this.empleos.length)}catch(t){console.warn("Error con funci\xF3n principal, intentando con vista...",t);try{this.empleos=yield this.empleosService.getEmpleosFromView(),console.log("Empleos cargados con vista:",this.empleos.length)}catch(e){console.warn("Error con vista, intentando m\xE9todo b\xE1sico...",e);try{this.empleos=yield this.empleosService.getEmpleosBasic(),console.log("Empleos cargados con m\xE9todo b\xE1sico:",this.empleos.length)}catch(r){throw console.error("Todos los m\xE9todos fallaron:",r),this.empleos=[],new Error("No se pudieron cargar los empleos")}}}this.applyFilters()})}loadStats(){return y(this,null,function*(){try{console.log("Cargando estad\xEDsticas..."),this.stats=yield this.empleosService.getEmpleosStats(),this.isStatsEmpty(this.stats)&&this.empleos.length>0&&(console.log("Las estad\xEDsticas est\xE1n vac\xEDas pero hay empleos, calculando localmente..."),this.stats=this.calculateLocalStats())}catch(t){console.error("Error cargando estad\xEDsticas:",t),console.log("Calculando estad\xEDsticas localmente como fallback..."),this.stats=this.calculateLocalStats()}})}isStatsEmpty(t){return!t||t.total_empleos===0&&t.empleos_activos===0&&t.empleos_expirados===0&&t.empleos_cerrados===0&&t.total_aplicaciones===0&&t.empleos_urgentes===0}calculateLocalStats(){if(!this.empleos||this.empleos.length===0)return{total_empleos:0,empleos_activos:0,empleos_expirados:0,empleos_cerrados:0,total_aplicaciones:0,empleos_urgentes:0,promedio_aplicaciones:0,categorias_populares:[]};let t=new Date,e=this.empleos.filter(m=>m.status===1&&m.fecha_fin_publicacion&&new Date(m.fecha_fin_publicacion)>t),r=this.empleos.filter(m=>m.fecha_fin_publicacion&&new Date(m.fecha_fin_publicacion)<=t),i=this.empleos.filter(m=>m.status===2),o=this.empleos.filter(m=>m.urgencia==="urgente"&&m.status===1),s=this.empleos.reduce((m,v)=>m+(v.aplicaciones_recibidas||0),0),c={};this.empleos.forEach(m=>{m.categoria&&(c[m.categoria]=(c[m.categoria]||0)+1)});let u=Object.entries(c).map(([m,v])=>({categoria:m,total:v})).sort((m,v)=>v.total-m.total).slice(0,5),f={total_empleos:this.empleos.length,empleos_activos:e.length,empleos_expirados:r.length,empleos_cerrados:i.length,total_aplicaciones:s,empleos_urgentes:o.length,promedio_aplicaciones:this.empleos.length>0?s/this.empleos.length:0,categorias_populares:u};return console.log("\u2705 Estad\xEDsticas calculadas localmente:",f),f}loadEmpresasDisponibles(){return y(this,null,function*(){try{console.log("Cargando empresas disponibles..."),this.empresasDisponibles=yield this.empleosService.getEmpresasDisponibles(),console.log("Empresas disponibles:",this.empresasDisponibles.length)}catch(t){console.error("Error cargando empresas:",t),this.empresasDisponibles=[]}})}applyFilters(){let t=[...this.empleos];if(this.searchTerm.trim()){let e=this.searchTerm.toLowerCase();t=t.filter(r=>r.nombre.toLowerCase().includes(e)||(r.descripcion?.descripcion||"").toLowerCase().includes(e)||(r.empresa_nombre||"").toLowerCase().includes(e)||(r.keywords||[]).some(i=>i.toLowerCase().includes(e)))}this.categoriaFilter!=="all"&&(t=t.filter(e=>e.categoria===this.categoriaFilter)),this.estadoFilter!=="all"&&(t=t.filter(e=>e.estado_calculado===this.estadoFilter)),this.urgenciaFilter!=="all"&&(t=t.filter(e=>e.urgencia===this.urgenciaFilter)),this.empresaFilter!=="all"&&(t=t.filter(e=>e.empresa_id.toString()===this.empresaFilter)),this.jornadaFilter!=="all"&&(t=t.filter(e=>e.jornada_laboral===this.jornadaFilter)),this.modalidadFilter!=="all"&&(t=t.filter(e=>e.lugar_trabajo?.modalidades?.includes(this.modalidadFilter))),this.empleosFiltrados=t,this.updatePagination()}updatePagination(){this.totalPages=Math.ceil(this.empleosFiltrados.length/this.itemsPerPage),this.currentPage>this.totalPages&&(this.currentPage=1)}get paginatedEmpleos(){let t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.empleosFiltrados.slice(t,e)}clearFilters(){this.searchTerm="",this.categoriaFilter="all",this.estadoFilter="all",this.urgenciaFilter="all",this.empresaFilter="all",this.jornadaFilter="all",this.modalidadFilter="all",this.currentPage=1,this.applyFilters()}openCreateModal(){if(!this.canCreateEmpleo()){this.error="No tiene permisos para crear empleos";return}console.log("=== ABRIENDO MODAL CREAR ==="),this.resetForm(),this.modalMode="create",this.selectedEmpleo=null,this.showModal=!0}openEditModal(t){if(!this.canEditEmpleo(t)){this.error="No tiene permisos para editar este empleo";return}console.log("=== ABRIENDO MODAL EDITAR ==="),this.selectedEmpleo=t,this.loadEmpleoToForm(t),this.modalMode="edit",this.showModal=!0}openViewModal(t){this.selectedEmpleo=t,this.loadEmpleoToForm(t),this.modalMode="view",this.showModal=!0,t.id&&this.empleosService.incrementarVistas(t.id)}closeModal(){this.showModal=!1,this.selectedEmpleo=null,this.resetForm(),this.error=""}getEmptyForm(){return{nombre:"",descripcion:{descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]},categoria:"",lugar_trabajo:{modalidades:[]},experiencia_laboral:"",salario:{minimo:null,maximo:null,moneda:"GTQ",periodo:"mensual",negociable:!1},jornada_laboral:"",tipo_contrato:"",urgencia:"normal",empresa_id:0,fecha_fin_publicacion:"",numero_vacantes:1,keywords:[],edad_minima:null,edad_maxima:null,genero:"indiferente",estado_civil:"indiferente",nivel_educacion:""}}resetForm(){console.log("=== RESETEANDO FORMULARIO ==="),this.empleoForm=this.getEmptyForm(),this.empresasDisponibles.length===1&&(this.empleoForm.empresa_id=this.empresasDisponibles[0].id)}loadEmpleoToForm(t){console.log("=== CARGANDO EMPLEO AL FORMULARIO ==="),this.empleoForm=G(P({},t),{fecha_fin_publicacion:t.fecha_fin_publicacion?new Date(t.fecha_fin_publicacion).toISOString().split("T")[0]:""}),this.empleoForm.lugar_trabajo||(this.empleoForm.lugar_trabajo={modalidades:[]}),this.empleoForm.descripcion||(this.empleoForm.descripcion={descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]}),this.empleoForm.keywords||(this.empleoForm.keywords=[]),this.empleoForm.salario||(this.empleoForm.salario={minimo:null,maximo:null,moneda:"GTQ",periodo:"mensual",negociable:!1})}saveEmpleo(){return y(this,null,function*(){try{if(this.loading=!0,this.error="",console.log("=== INICIANDO GUARDADO DE EMPLEO ==="),!this.empleoForm.nombre||!this.empleoForm.categoria||!this.empleoForm.empresa_id){this.error="Faltan campos obligatorios b\xE1sicos";return}if(!this.empleoForm.lugar_trabajo?.modalidades||this.empleoForm.lugar_trabajo.modalidades.length===0){this.error="Debe seleccionar al menos una modalidad de trabajo";return}let t=this.empleosService.validateEmpleoData(this.empleoForm);if(t.length>0){this.error="Errores de validaci\xF3n: "+t.join(", ");return}let e=G(P({},this.empleoForm),{fecha_fin_publicacion:new Date(this.empleoForm.fecha_fin_publicacion).toISOString()});this.modalMode==="create"?yield this.empleosService.createEmpleo(e):this.modalMode==="edit"&&(yield this.empleosService.updateEmpleo(this.selectedEmpleo.id,e)),yield this.loadEmpleosWithFallback(),yield this.loadStats(),this.closeModal()}catch(t){console.error("Error guardando empleo:",t),this.error="Error al guardar el empleo: "+(t?.message||"Error desconocido")}finally{this.loading=!1}})}deleteEmpleo(t){return y(this,null,function*(){if(!this.canEditEmpleo(t)){this.error="No tiene permisos para eliminar este empleo";return}if(confirm(`\xBFEst\xE1 seguro de eliminar el empleo "${t.nombre}"?`))try{this.loading=!0,yield this.empleosService.deleteEmpleo(t.id),console.log("Empleo eliminado exitosamente"),yield this.loadEmpleosWithFallback(),yield this.loadStats()}catch(e){console.error("Error eliminando empleo:",e),this.error="Error al eliminar el empleo. Intente nuevamente."}finally{this.loading=!1}})}showDebugActions=!0;showDebugInfo=!0;canCreateEmpleo(){if(console.log("\u{1F50D} Verificando permisos para crear empleo"),console.log("- Usuario actual:",this.currentUser),console.log("- ID Perfil:",this.currentUser?.id_perfil),!this.currentUser)return console.log("\u274C No hay usuario logueado"),!1;let t=this.currentUser.id_perfil===1||this.currentUser.id_perfil===3;return console.log("\u2705 Puede crear empleo:",t),t}canEditEmpleo(t){if(console.log("\u{1F50D} Verificando permisos para editar empleo:",t.id),console.log("- Usuario actual:",this.currentUser),console.log("- ID Perfil:",this.currentUser?.id_perfil),console.log("- Empleo empresa_id:",t.empresa_id),console.log("- Empleo puede_editar:",t.puede_editar),!this.currentUser)return console.log("\u274C No hay usuario logueado"),!1;if(this.currentUser.id_perfil===1)return console.log("\u2705 Es admin - puede editar cualquier empleo"),!0;if(this.currentUser.id_perfil===3){if(t.puede_editar!==void 0)return console.log("\u2705 Usando flag puede_editar:",t.puede_editar),t.puede_editar;let e=this.empresasDisponibles.some(r=>r.id===t.empresa_id);return console.log("\u2705 Verificando por empresas disponibles:",e),e}return console.log("\u274C No tiene permisos para editar"),!1}canEditEmpleoPermissive(t){return this.currentUser?this.currentUser.id_perfil===1||this.currentUser.id_perfil===3:!1}getCategorias(){return this.empleosService.getCategorias()}getModalidadesTrabajo(){return this.empleosService.getModalidadesTrabajo()}getNivelesExperiencia(){return this.empleosService.getNivelesExperiencia()}getTiposJornada(){return this.empleosService.getTiposJornada()}getTiposContrato(){return this.empleosService.getTiposContrato()}getNivelesUrgencia(){return this.empleosService.getNivelesUrgencia()}getNivelesEducacion(){return this.empleosService.getNivelesEducacion()}formatSalario(t){return this.empleosService.formatSalario(t)}formatModalidades(t){return this.empleosService.formatModalidades(t)}getEstadoLegible(t){return this.empleosService.getEstadoLegible(t)}getCategoriaLegible(t){return this.empleosService.getCategoriaLegible(t)}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"Fecha inv\xE1lida"}}addRequisito(){this.empleoForm.descripcion||(this.empleoForm.descripcion={descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]}),this.empleoForm.descripcion.requisitos.push("")}removeRequisito(t){this.empleoForm.descripcion?.requisitos&&this.empleoForm.descripcion.requisitos.splice(t,1)}addBeneficio(){this.empleoForm.descripcion||(this.empleoForm.descripcion={descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]}),this.empleoForm.descripcion.beneficios.push("")}removeBeneficio(t){this.empleoForm.descripcion?.beneficios&&this.empleoForm.descripcion.beneficios.splice(t,1)}addHabilidad(){this.empleoForm.descripcion||(this.empleoForm.descripcion={descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]}),this.empleoForm.descripcion.habilidades.push("")}removeHabilidad(t){this.empleoForm.descripcion?.habilidades&&this.empleoForm.descripcion.habilidades.splice(t,1)}addIdioma(){this.empleoForm.descripcion||(this.empleoForm.descripcion={descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]}),this.empleoForm.descripcion.idiomas.push("")}removeIdioma(t){this.empleoForm.descripcion?.idiomas&&this.empleoForm.descripcion.idiomas.splice(t,1)}addKeyword(){this.empleoForm.keywords||(this.empleoForm.keywords=[]),this.empleoForm.keywords.push("")}removeKeyword(t){this.empleoForm.keywords&&this.empleoForm.keywords.splice(t,1)}onModalidadSelectChange(t){let e=t.target.value;console.log("Modalidad seleccionada:",e),this.empleoForm.lugar_trabajo||(this.empleoForm.lugar_trabajo={modalidades:[]}),e&&e!==""?this.empleoForm.lugar_trabajo.modalidades=[e]:this.empleoForm.lugar_trabajo.modalidades=[]}getSelectedModalidad(){let t=this.empleoForm.lugar_trabajo?.modalidades;return t&&t.length>0?t[0]:""}hasSelectedModalidad(){return this.getSelectedModalidad()!==""}trackByIndex(t,e){return t}trackByEmpleoId(t,e){return e.id||t}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}prevPage(){this.currentPage>1&&this.currentPage--}get paginationPages(){let t=[],r=Math.max(1,this.currentPage-Math.floor(2.5)),i=Math.min(this.totalPages,r+5-1);i-r+1<5&&(r=Math.max(1,i-5+1));for(let o=r;o<=i;o++)t.push(o);return t}toggleDebugMode(){this.showDebugActions=!this.showDebugActions,this.showDebugInfo=!this.showDebugInfo,console.log("\u{1F41B} Debug mode:",this.showDebugActions?"ACTIVADO":"DESACTIVADO"),this.showDebugActions&&(console.log("\u{1F4CB} Estado actual del componente:"),console.log("- Usuario:",this.currentUser),console.log("- Empleos:",this.empleos.length),console.log("- Empresas disponibles:",this.empresasDisponibles),console.log("- Puede crear empleos:",this.canCreateEmpleo()))}debugEmpleoPermissions(t){console.log("\u{1F50D} Debug permisos para empleo:",t.id),console.log("- Nombre:",t.nombre),console.log("- Empresa ID:",t.empresa_id),console.log("- Puede editar (flag):",t.puede_editar),console.log("- Usuario actual:",this.currentUser),console.log("- Perfil usuario:",this.currentUser?.id_perfil),console.log("- Resultado canEditEmpleo:",this.canEditEmpleo(t)),console.log("- Resultado canEditEmpleoPermissive:",this.canEditEmpleoPermissive(t)),console.log("- Empresas disponibles:",this.empresasDisponibles.map(e=>({id:e.id,nombre:e.nombre})))}refreshData(){return y(this,null,function*(){yield this.loadInitialData()})}hasActiveFilters(){return this.searchTerm!==""||this.categoriaFilter!=="all"||this.estadoFilter!=="all"||this.urgenciaFilter!=="all"||this.empresaFilter!=="all"||this.jornadaFilter!=="all"||this.modalidadFilter!=="all"}getNoDataMessage(){return this.loading?"Cargando empleos...":this.error?this.error:this.hasActiveFilters()?"No se encontraron empleos que coincidan con los filtros aplicados.":this.canCreateEmpleo()?'No hay empleos creados. Haga clic en "Crear Empleo" para agregar el primero.':"No hay empleos disponibles para mostrar."}getMinDate(){let t=new Date;return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]}exportToCsv(){if(this.empleosFiltrados.length===0){alert("No hay datos para exportar");return}let e=[["ID","Nombre","Categor\xEDa","Empresa","Jornada","Modalidad","Experiencia","Salario","Estado","Fecha Creaci\xF3n","Fecha Fin"].join(","),...this.empleosFiltrados.map(o=>[o.id,`"${o.nombre}"`,this.getCategoriaLegible(o.categoria),`"${o.empresa_nombre||""}"`,o.jornada_laboral,this.formatModalidades(o.lugar_trabajo),o.experiencia_laboral,`"${this.formatSalario(o.salario)}"`,this.getEstadoLegible(o).texto,this.formatDate(o.fecha_creacion),this.formatDate(o.fecha_fin_publicacion)].join(","))].join(`
`),r=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){let o=URL.createObjectURL(r);i.setAttribute("href",o),i.setAttribute("download",`empleos_${new Date().toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}static \u0275fac=function(e){return new(e||n)(R(Nd),R(de),R(ce))};static \u0275cmp=le({type:n,selectors:[["app-gestionar-empleos"]],standalone:!1,decls:106,vars:24,consts:[["empleoFormRef","ngForm"],[1,"container","mx-auto","px-4","py-6"],[1,"mb-6"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","gap-3"],[1,"px-3","py-2","bg-purple-500","text-white","rounded-lg","hover:bg-purple-600","text-sm",3,"click"],[1,"fas","fa-bug","mr-1"],[1,"px-4","py-2","bg-gray-500","text-white","rounded-lg","hover:bg-gray-600","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-sync-alt"],["class","px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",3,"click",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",4,"ngIf"],[1,"bg-white","rounded-lg","shadow","p-6","mb-6"],[1,"text-lg","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","lg:grid-cols-4","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","placeholder","Nombre, descripci\xF3n, empresa...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","change","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["value","activo"],["value","expirado"],["value","cerrado"],["value","pausado"],["value","inactivo"],["value","urgente"],["value","normal"],["value","bajo"],["value","tiempo_completo"],["value","medio_tiempo"],["value","por_horas"],["value","remoto"],["value","hibrido"],["value","presencial"],[1,"flex","items-end"],[1,"w-full","px-4","py-2","bg-gray-500","text-white","rounded-md","hover:bg-gray-600","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-times","mr-2"],[1,"flex","justify-between","items-center","text-sm","text-gray-600"],["class","font-medium",4,"ngIf"],[1,"px-3","py-1","bg-green-600","text-white","rounded","hover:bg-green-700","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-download","mr-1"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",4,"ngIf"],["class","flex justify-center py-8",4,"ngIf"],["class","bg-white rounded-lg shadow overflow-hidden",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",3,"click",4,"ngIf"],[1,"px-6","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700",3,"click"],[1,"fas","fa-plus","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mb-6"],[1,"bg-white","p-4","rounded-lg","shadow","border-l-4","border-blue-500"],[1,"flex","items-center"],[1,"flex-1"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-2xl","font-bold","text-gray-900"],[1,"fas","fa-briefcase","text-blue-500","text-2xl"],[1,"bg-white","p-4","rounded-lg","shadow","border-l-4","border-green-500"],[1,"fas","fa-check-circle","text-green-500","text-2xl"],[1,"bg-white","p-4","rounded-lg","shadow","border-l-4","border-red-500"],[1,"fas","fa-exclamation-triangle","text-red-500","text-2xl"],[1,"bg-white","p-4","rounded-lg","shadow","border-l-4","border-purple-500"],[1,"fas","fa-users","text-purple-500","text-2xl"],[3,"value"],[1,"font-medium"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-6"],[1,"fas","fa-exclamation-triangle","mr-2"],[1,"flex","justify-center","py-8"],[1,"text-center"],[1,"fas","fa-spinner","fa-spin","text-3xl","text-blue-500","mb-2"],[1,"text-gray-600"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],["class","p-8 text-center",4,"ngIf"],[4,"ngIf"],[1,"p-8","text-center"],[1,"fas","fa-briefcase","text-4xl","text-gray-400","mb-4"],[1,"text-gray-600","text-lg"],[1,"bg-gray-50","px-6","py-3","border-b","border-gray-200"],[1,"grid","grid-cols-12","gap-4","text-sm","font-medium","text-gray-700"],[1,"col-span-3"],[1,"col-span-2"],[1,"col-span-1"],[1,"divide-y","divide-gray-200"],["class","px-6 py-4 hover:bg-gray-50",4,"ngFor","ngForOf","ngForTrackBy"],["class","bg-gray-50 px-6 py-3 border-t border-gray-200",4,"ngIf"],[1,"px-6","py-4","hover:bg-gray-50"],[1,"grid","grid-cols-12","gap-4","items-center"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600","truncate"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-600"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"text-sm","text-gray-600","mt-1"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full",3,"ngClass"],["class","text-xs text-gray-500 mt-1",4,"ngIf"],[1,"font-semibold","text-gray-900"],[1,"text-xs","text-gray-600"],[1,"flex","gap-2"],["title","Ver detalles","type","button",1,"p-2","text-blue-600","hover:bg-blue-100","rounded","transition-colors",3,"click"],[1,"fas","fa-eye"],["class","p-2 text-green-600 hover:bg-green-100 rounded transition-colors","title","Editar","type","button",3,"click",4,"ngIf"],["class","p-2 text-red-600 hover:bg-red-100 rounded transition-colors","title","Eliminar","type","button",3,"click",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],["title","Editar","type","button",1,"p-2","text-green-600","hover:bg-green-100","rounded","transition-colors",3,"click"],[1,"fas","fa-edit"],["title","Eliminar","type","button",1,"p-2","text-red-600","hover:bg-red-100","rounded","transition-colors",3,"click"],[1,"fas","fa-trash"],[1,"bg-gray-50","px-6","py-3","border-t","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-700"],[1,"px-3","py-1","border","border-gray-300","rounded","hover:bg-gray-100","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-chevron-left"],["class","px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",3,"bg-blue-500","text-white","click",4,"ngFor","ngForOf"],[1,"fas","fa-chevron-right"],[1,"px-3","py-1","border","border-gray-300","rounded","hover:bg-gray-100",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","max-w-4xl","w-full","max-h-[90vh]","overflow-y-auto"],[1,"flex","justify-between","items-center","p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold"],[1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"fas","fa-times","text-xl"],[1,"p-6"],[3,"ngSubmit"],[1,"text-lg","font-medium","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"md:col-span-2"],["type","text","name","nombre","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["name","empresa_id","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["value","0"],["name","categoria","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["value",""],["type","number","name","numero_vacantes","min","1","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["name","experiencia_laboral",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["name","jornada_laboral","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["name","tipo_contrato","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["name","urgencia",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["type","date","name","fecha_fin_publicacion","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly","min"],[1,"grid","grid-cols-1","gap-4"],["name","modalidad_trabajo","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-xs text-gray-500 mt-2",4,"ngIf"],["class","mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],["type","number","name","salario_minimo","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["type","number","name","salario_maximo","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["name","moneda",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["value","GTQ"],["value","USD"],["value","EUR"],["type","checkbox","name","negociable","id","negociable",1,"mr-2",3,"ngModelChange","ngModel","disabled"],["for","negociable",1,"text-sm","text-gray-700"],[1,"mb-4"],["name","descripcion","rows","4","required","","placeholder","Describe las responsabilidades principales del puesto...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["class","flex gap-2 mb-2",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","class","px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",3,"click",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["type","number","name","edad_minima","min","16","max","100",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["type","number","name","edad_maxima","min","16","max","100",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["name","genero",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["value","indiferente"],["value","masculino"],["value","femenino"],["name","estado_civil",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["value","soltero"],["value","casado"],["name","nivel_educacion",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["class","mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",4,"ngIf"],[1,"flex","justify-end","gap-4","pt-4","border-t","border-gray-200"],["type","button",1,"px-6","py-2","border","border-gray-300","text-gray-700","rounded-md","hover:bg-gray-50",3,"click"],["type","submit","class","px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",3,"disabled",4,"ngIf"],[1,"text-xs","text-gray-500","mt-2"],[1,"fas","fa-info-circle","mr-1"],[1,"mt-3","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"flex","items-center","text-blue-800"],[1,"fas","fa-check-circle","mr-2"],[1,"ml-2","capitalize"],[1,"flex","gap-2","mb-2"],["type","text","placeholder","Ej: T\xEDtulo universitario en...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","name","readonly"],["type","button","class","px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",3,"click",4,"ngIf"],["type","button",1,"px-3","py-2","bg-red-500","text-white","rounded-md","hover:bg-red-600",3,"click"],[1,"fas","fa-times"],["type","button",1,"px-4","py-2","bg-blue-500","text-white","rounded-md","hover:bg-blue-600",3,"click"],["type","text","placeholder","Ej: Seguro m\xE9dico...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","name","readonly"],["type","text","placeholder","Ej: JavaScript, Angular...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","name","readonly"],["type","text","placeholder","Ej: Ingl\xE9s avanzado...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","name","readonly"],["type","text","placeholder","Ej: programador, developer, angular...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","name","readonly"],[1,"mb-4","bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded"],["type","submit",1,"px-6","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","disabled:opacity-50",3,"disabled"],["class","fas fa-spinner fa-spin mr-2",4,"ngIf"],[1,"fas","fa-spinner","fa-spin","mr-2"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),d(5,"Gesti\xF3n de Empleos"),l(),a(6,"p",5),d(7,"Administre las ofertas laborales de su empresa"),l()(),a(8,"div",6)(9,"button",7),E("click",function(){return r.toggleDebugMode()}),_(10,"i",8),d(11),l(),a(12,"button",9),E("click",function(){return r.refreshData()}),_(13,"i",10),d(14," Actualizar "),l(),x(15,rA,3,0,"button",11),l()(),x(16,iA,33,4,"div",12),l(),a(17,"div",13)(18,"h3",14),d(19,"Filtros de B\xFAsqueda"),l(),a(20,"div",15)(21,"div")(22,"label",16),d(23,"Buscar"),l(),a(24,"input",17),A("ngModelChange",function(o){return O(r.searchTerm,o)||(r.searchTerm=o),o}),E("input",function(){return r.applyFilters()}),l()(),a(25,"div")(26,"label",16),d(27,"Categor\xEDa"),l(),a(28,"select",18),A("ngModelChange",function(o){return O(r.categoriaFilter,o)||(r.categoriaFilter=o),o}),E("change",function(){return r.applyFilters()}),a(29,"option",19),d(30,"Todas las categor\xEDas"),l(),x(31,oA,2,2,"option",20),l()(),a(32,"div")(33,"label",16),d(34,"Estado"),l(),a(35,"select",18),A("ngModelChange",function(o){return O(r.estadoFilter,o)||(r.estadoFilter=o),o}),E("change",function(){return r.applyFilters()}),a(36,"option",19),d(37,"Todos los estados"),l(),a(38,"option",21),d(39,"Activo"),l(),a(40,"option",22),d(41,"Expirado"),l(),a(42,"option",23),d(43,"Cerrado"),l(),a(44,"option",24),d(45,"Pausado"),l(),a(46,"option",25),d(47,"Inactivo"),l()()(),a(48,"div")(49,"label",16),d(50,"Urgencia"),l(),a(51,"select",18),A("ngModelChange",function(o){return O(r.urgenciaFilter,o)||(r.urgenciaFilter=o),o}),E("change",function(){return r.applyFilters()}),a(52,"option",19),d(53,"Todas"),l(),a(54,"option",26),d(55,"Urgente"),l(),a(56,"option",27),d(57,"Normal"),l(),a(58,"option",28),d(59,"Bajo"),l()()(),a(60,"div")(61,"label",16),d(62,"Empresa"),l(),a(63,"select",18),A("ngModelChange",function(o){return O(r.empresaFilter,o)||(r.empresaFilter=o),o}),E("change",function(){return r.applyFilters()}),a(64,"option",19),d(65,"Todas las empresas"),l(),x(66,sA,2,2,"option",20),l()(),a(67,"div")(68,"label",16),d(69,"Jornada"),l(),a(70,"select",18),A("ngModelChange",function(o){return O(r.jornadaFilter,o)||(r.jornadaFilter=o),o}),E("change",function(){return r.applyFilters()}),a(71,"option",19),d(72,"Todas"),l(),a(73,"option",29),d(74,"Tiempo Completo"),l(),a(75,"option",30),d(76,"Medio Tiempo"),l(),a(77,"option",31),d(78,"Por Horas"),l()()(),a(79,"div")(80,"label",16),d(81,"Modalidad"),l(),a(82,"select",18),A("ngModelChange",function(o){return O(r.modalidadFilter,o)||(r.modalidadFilter=o),o}),E("change",function(){return r.applyFilters()}),a(83,"option",19),d(84,"Todas"),l(),a(85,"option",32),d(86,"Remoto"),l(),a(87,"option",33),d(88,"H\xEDbrido"),l(),a(89,"option",34),d(90,"Presencial"),l()()(),a(91,"div",35)(92,"button",36),E("click",function(){return r.clearFilters()}),_(93,"i",37),d(94," Limpiar "),l()()(),a(95,"div",38)(96,"span"),d(97),x(98,aA,2,1,"span",39),l(),a(99,"button",40),E("click",function(){return r.exportToCsv()}),_(100,"i",41),d(101," Exportar CSV "),l()()(),x(102,lA,3,1,"div",42)(103,cA,5,0,"div",43)(104,_A,3,2,"div",44),l(),x(105,YA,193,71,"div",45)),e&2&&(p(11),D(" Debug: ",r.showDebugActions?"ON":"OFF"," "),p(),h("disabled",r.loading),p(),Ft("fa-spin",r.loading),p(2),h("ngIf",r.canCreateEmpleo()),p(),h("ngIf",r.stats),p(8),k("ngModel",r.searchTerm),p(4),k("ngModel",r.categoriaFilter),p(3),h("ngForOf",r.getCategorias()),p(4),k("ngModel",r.estadoFilter),p(16),k("ngModel",r.urgenciaFilter),p(12),k("ngModel",r.empresaFilter),p(3),h("ngForOf",r.empresasDisponibles),p(4),k("ngModel",r.jornadaFilter),p(12),k("ngModel",r.modalidadFilter),p(10),h("disabled",!r.hasActiveFilters()),p(5),ke(" Mostrando ",r.paginatedEmpleos.length," de ",r.empleosFiltrados.length," empleos "),p(),h("ngIf",r.hasActiveFilters()),p(),h("disabled",r.empleosFiltrados.length===0),p(3),h("ngIf",r.error),p(),h("ngIf",r.loading),p(),h("ngIf",!r.loading),p(),h("ngIf",r.showModal))},dependencies:[st,Ce,pe,Ye,et,tt,Ee,pi,_a,Ze,Te,qe,Ue,fi,ya,Ie,je,ms],styles:['.stat-card[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.5rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.stat-card[_ngcontent-%COMP%]:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.stat-card-icon[_ngcontent-%COMP%]{display:flex;height:3rem;width:3rem;align-items:center;justify-content:center;border-radius:.5rem;font-size:1.25rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.stat-card-value[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.stat-card-label[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.filter-container[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.5rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1rem}@media (min-width: 768px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1280px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))}}.filter-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-label[_ngcontent-%COMP%]{margin-bottom:.5rem;display:block;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.filter-input[_ngcontent-%COMP%], .filter-select[_ngcontent-%COMP%]{width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.filter-input[_ngcontent-%COMP%]:focus, .filter-select[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.empleos-table[_ngcontent-%COMP%]{overflow:hidden;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.table-header[_ngcontent-%COMP%]{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.table-header-cell[_ngcontent-%COMP%]{padding:.75rem 1.5rem;text-align:left;font-size:.75rem;line-height:1rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.table-row[_ngcontent-%COMP%]{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.table-row[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.table-cell[_ngcontent-%COMP%]{white-space:nowrap;padding:1rem 1.5rem}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-radius:9999px;padding:.125rem .625rem;font-size:.75rem;line-height:1rem;font-weight:500}.badge-active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.badge-inactive[_ngcontent-%COMP%], .badge-expired[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.badge-paused[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.badge-closed[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.badge-urgent[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.badge-normal[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.badge-low[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.badge-category[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.action-button[_ngcontent-%COMP%]{border-radius:.375rem;padding:.5rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.action-button[_ngcontent-%COMP%]:hover{--tw-bg-opacity: .8}.action-button-view[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.action-button-view[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.action-button-edit[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.action-button-edit[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.action-button-delete[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.action-button-delete[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:center;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1));--tw-bg-opacity: .5;padding:1rem}.modal-container[_ngcontent-%COMP%]{max-height:90vh;width:100%;max-width:56rem;overflow:hidden;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:1.5rem}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem;font-weight:600;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.modal-close[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.modal-close[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.modal-body[_ngcontent-%COMP%]{max-height:calc(90vh - 140px);overflow-y:auto;padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;border-top-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:1rem 1.5rem}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.form-section-title[_ngcontent-%COMP%]{margin-bottom:1rem;border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));padding-bottom:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1rem}@media (min-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.form-grid-full[_ngcontent-%COMP%]{grid-column:span 2 / span 2}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{margin-bottom:.5rem;display:block;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.form-label-required[_ngcontent-%COMP%]:after{content:" *";--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.form-input[_ngcontent-%COMP%]:read-only, .form-select[_ngcontent-%COMP%]:disabled, .form-textarea[_ngcontent-%COMP%]:read-only{cursor:not-allowed;--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.form-checkbox[_ngcontent-%COMP%]{height:1rem;width:1rem;border-radius:.25rem;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.form-checkbox[_ngcontent-%COMP%]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.form-checkbox-label[_ngcontent-%COMP%]{margin-left:.5rem;cursor:pointer;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.dynamic-array-item[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;align-items:center;gap:.5rem}.dynamic-array-input[_ngcontent-%COMP%]{flex:1 1 0%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem}.dynamic-array-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.dynamic-array-remove[_ngcontent-%COMP%]{border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1));padding:.5rem .75rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.dynamic-array-remove[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.dynamic-array-add[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.dynamic-array-add[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.pagination-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-top-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:.75rem 1.5rem}.pagination-info[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.pagination-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.pagination-button[_ngcontent-%COMP%]{border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.25rem .75rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.pagination-button[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.pagination-button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.pagination-button-active[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.pagination-button-active[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1.5rem;text-align:center}.empty-state-icon[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:2.25rem;line-height:2.5rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.empty-state-title[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.empty-state-description[_ngcontent-%COMP%]{max-width:28rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:3rem;padding-bottom:3rem}.loading-spinner[_ngcontent-%COMP%]{margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;font-size:1.875rem;line-height:2.25rem;--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.loading-text[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1));padding:.75rem 1rem;--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.error-icon[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.salary-info[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.salary-negotiable[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;font-weight:400;--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.work-modality-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1rem}@media (min-width: 640px){.work-modality-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}.work-modality-item[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));padding:.75rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.work-modality-item[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.work-modality-checkbox[_ngcontent-%COMP%]{height:1rem;width:1rem;border-radius:.25rem;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.work-modality-checkbox[_ngcontent-%COMP%]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.work-modality-label[_ngcontent-%COMP%]{margin-left:.75rem;font-size:.875rem;line-height:1.25rem;font-weight:500;text-transform:capitalize;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.company-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.company-name[_ngcontent-%COMP%]{font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.company-details[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.counter-container[_ngcontent-%COMP%]{text-align:center}.counter-value[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;font-weight:600;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.counter-label[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem;max-width:none}.filter-grid[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}.stat-card[_ngcontent-%COMP%]{padding:1rem}.table-cell[_ngcontent-%COMP%]{padding:.75rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.slide-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .2s ease-out}.hover-lift[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.hover-lift[_ngcontent-%COMP%]:hover{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover-scale[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.hover-scale[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.tooltip[_ngcontent-%COMP%]{pointer-events:none;position:absolute;z-index:10;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1));padding:.25rem .5rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));opacity:0;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.tooltip-visible[_ngcontent-%COMP%]{opacity:1}.search-highlight[_ngcontent-%COMP%]{border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(254 240 138 / var(--tw-bg-opacity, 1));padding-left:.25rem;padding-right:.25rem;--tw-text-opacity: 1;color:rgb(113 63 18 / var(--tw-text-opacity, 1))}.metric-card[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1));background-image:linear-gradient(to bottom right,var(--tw-gradient-stops));--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #dbeafe var(--tw-gradient-to-position);padding:1rem}.metric-value[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.metric-label[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.metric-trend[_ngcontent-%COMP%]{margin-top:.25rem;display:flex;align-items:center;gap:.25rem;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.urgency-indicator[_ngcontent-%COMP%]{margin-right:.5rem;display:inline-block;height:.75rem;width:.75rem;border-radius:9999px}@keyframes _ngcontent-%COMP%_pulse{50%{opacity:.5}}.urgency-urgent[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite;--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.urgency-normal[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.urgency-low[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.keyword-tag[_ngcontent-%COMP%]{margin-right:.25rem;margin-bottom:.25rem;display:inline-block;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));padding:.25rem .5rem;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-wrap[_ngcontent-%COMP%]{overflow-wrap:break-word}.border-dashed[_ngcontent-%COMP%]{border-style:dashed}.bg-pattern[_ngcontent-%COMP%]{background-image:radial-gradient(circle,#e5e7eb 1px,transparent 1px);background-size:20px 20px}']})};var Dr=class n{constructor(t,e){this.supabaseService=t;this.authService=e}getEmpleosPublicos(t){return oe(this._getEmpleosPublicos(t))}_getEmpleosPublicos(t){return y(this,null,function*(){try{let e=t?.limite||20,r=((t?.pagina||1)-1)*e,{data:i,error:o}=yield this.supabaseService.client.rpc("get_empleos_publicos",{p_limit:e,p_offset:r,p_categoria:t?.categoria||null,p_modalidad:t?.modalidad||null,p_experiencia:t?.experiencia||null});if(o)throw console.error("Error obteniendo empleos p\xFAblicos:",o),o;let s=i||[];if(t?.busqueda){let c=t.busqueda.toLowerCase();s=s.filter(u=>u.nombre.toLowerCase().includes(c)||u.empresa_nombre.toLowerCase().includes(c))}return{empleos:s,total:s.length}}catch(e){throw console.error("Error en getEmpleosPublicos:",e),e}})}getDetalleEmpleo(t){return oe(this._getDetalleEmpleo(t))}_getDetalleEmpleo(t){return y(this,null,function*(){try{let{data:e,error:r}=yield this.supabaseService.client.from("empleos").select(`
          *,
          empresas (
            nombre,
            sector,
            email
          )
        `).eq("id",t).eq("status",1).gte("fecha_fin_publicacion",new Date().toISOString()).single();if(r){if(r.code==="PGRST116")return null;throw r}return G(P({},e),{empresa_nombre:e.empresas?.nombre||"",dias_restantes:Math.max(0,Math.ceil((new Date(e.fecha_fin_publicacion).getTime()-new Date().getTime())/(1e3*60*60*24)))})}catch(e){throw console.error("Error obteniendo detalle del empleo:",e),e}})}getMisCVs(){return oe(this._getMisCVs())}_getMisCVs(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");let{data:e,error:r}=yield this.supabaseService.client.rpc("get_cvs_candidato",{p_candidato_id:t.id});if(r)throw console.error("Error obteniendo CVs:",r),r;return e||[]}catch(t){throw console.error("Error en getMisCVs:",t),t}})}aplicarAEmpleo(t){return oe(this._aplicarAEmpleo(t))}_aplicarAEmpleo(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");let{data:r,error:i}=yield this.supabaseService.client.rpc("aplicar_a_empleo",{p_empleo_id:t.empleo_id,p_candidato_id:e.id,p_cv_id:t.cv_id,p_carta_presentacion:t.carta_presentacion,p_salario_esperado:t.salario_esperado||null,p_disponibilidad_inicio:t.disponibilidad_inicio||null,p_notas_candidato:t.notas_candidato||null});if(i)throw console.error("Error aplicando a empleo:",i),i;return r||{success:!1,message:"Error desconocido"}}catch(e){return console.error("Error en aplicarAEmpleo:",e),{success:!1,message:"Error al enviar la aplicaci\xF3n"}}})}getMisAplicaciones(){return oe(this._getMisAplicaciones())}_getMisAplicaciones(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");let{data:e,error:r}=yield this.supabaseService.client.from("v_aplicaciones_completa").select("*").eq("candidato_id",t.id).order("fecha_aplicacion",{ascending:!1});if(r)throw console.error("Error obteniendo mis aplicaciones:",r),r;return e||[]}catch(t){throw console.error("Error en getMisAplicaciones:",t),t}})}retirarAplicacion(t){return oe(this._retirarAplicacion(t))}_retirarAplicacion(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");let{data:r,error:i}=yield this.supabaseService.client.from("aplicaciones_empleo").select("candidato_id, status").eq("id",t).single();if(i||!r)return{success:!1,message:"Aplicaci\xF3n no encontrada"};if(r.candidato_id!==e.id)return{success:!1,message:"No tienes permisos para retirar esta aplicaci\xF3n"};if(r.status==="contratado")return{success:!1,message:"No puedes retirar una aplicaci\xF3n ya contratada"};let{error:o}=yield this.supabaseService.client.from("aplicaciones_empleo").update({status:"retirada",updated_at:new Date().toISOString()}).eq("id",t);if(o)throw console.error("Error retirando aplicaci\xF3n:",o),o;return{success:!0,message:"Aplicaci\xF3n retirada exitosamente"}}catch(e){return console.error("Error en retirarAplicacion:",e),{success:!1,message:"Error al retirar la aplicaci\xF3n"}}})}getAplicacionesPorEmpresa(t){return oe(this._getAplicacionesPorEmpresa(t))}_getAplicacionesPorEmpresa(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");if(e.id_perfil!==1&&e.id_perfil!==3)throw new Error("No tiene permisos para ver estas aplicaciones");let r=this.supabaseService.client.from("v_aplicaciones_completa").select("*");if(e.id_perfil===3){let{data:s}=yield this.supabaseService.client.from("empresas").select("id").contains("responsables",[e.id]);if(s&&s.length>0){let c=s.map(u=>u.id);r=r.in("empresa_id",c)}else return[]}t?.status&&(r=r.eq("status",t.status)),t?.empleo_id&&(r=r.eq("empleo_id",t.empleo_id)),r=r.order("fecha_aplicacion",{ascending:!1});let{data:i,error:o}=yield r;if(o)throw console.error("Error obteniendo aplicaciones por empresa:",o),o;return i||[]}catch(e){throw console.error("Error en getAplicacionesPorEmpresa:",e),e}})}getDetalleAplicacion(t){return oe(this._getDetalleAplicacion(t))}_getDetalleAplicacion(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");let{data:r,error:i}=yield this.supabaseService.client.from("v_aplicaciones_completa").select("*").eq("id",t).single();if(i){if(i.code==="PGRST116")return null;throw i}let o=r.candidato_id===e.id,s=e.id_perfil===1,c=o||s;if(!c&&e.id_perfil===3){let{data:u}=yield this.supabaseService.client.from("empresas").select("responsables").eq("id",r.empresa_id).single();u&&u.responsables.includes(e.id)&&(c=!0)}if(!c)throw new Error("No tiene permisos para ver esta aplicaci\xF3n");return r}catch(e){throw console.error("Error obteniendo detalle de aplicaci\xF3n:",e),e}})}actualizarEstadoAplicacion(t,e){return oe(this._actualizarEstadoAplicacion(t,e))}_actualizarEstadoAplicacion(t,e){return y(this,null,function*(){try{let r=this.authService.getCurrentUser();if(!r)throw new Error("Usuario no autenticado");if(r.id_perfil!==1&&r.id_perfil!==3)throw new Error("No tiene permisos para actualizar aplicaciones");let{data:i,error:o}=yield this.supabaseService.client.rpc("actualizar_estado_aplicacion",{p_aplicacion_id:t,p_nuevo_status:e.status,p_notas_rrhh:e.notas_rrhh||null,p_puntuacion_rrhh:e.puntuacion_rrhh||null,p_comentario:e.comentario||null,p_revisado_por:r.id});if(o)throw console.error("Error actualizando estado:",o),o;return i||{success:!1,message:"Error desconocido"}}catch(r){return console.error("Error en actualizarEstadoAplicacion:",r),{success:!1,message:"Error al actualizar el estado"}}})}formatearSalario(t){if(!t)return"No especificado";let e="";return t.minimo&&t.maximo?e=`Q${t.minimo.toLocaleString()} - Q${t.maximo.toLocaleString()}`:t.minimo?e=`Desde Q${t.minimo.toLocaleString()}`:t.maximo&&(e=`Hasta Q${t.maximo.toLocaleString()}`),t.periodo&&(e+=` ${t.periodo}`),t.negociable&&(e+=" (Negociable)"),e}obtenerModalidades(t){return!t||!t.modalidades?"":t.modalidades.join(", ")}getStatusDescription(t){return{pendiente:"Pendiente de revisi\xF3n",revisado:"Revisado por RRHH",preseleccionado:"Preseleccionado",entrevista:"En proceso de entrevista",rechazado:"No seleccionado",contratado:"Contratado",retirada:"Retirada por el candidato"}[t]||t}getStatusColor(t){return{pendiente:"bg-yellow-100 text-yellow-800",revisado:"bg-blue-100 text-blue-800",preseleccionado:"bg-purple-100 text-purple-800",entrevista:"bg-indigo-100 text-indigo-800",rechazado:"bg-red-100 text-red-800",contratado:"bg-green-100 text-green-800",retirada:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800"}canAccessPostulaciones(){return!!this.authService.getCurrentUser()}canReviewApplications(){let t=this.authService.getCurrentUser();return t?t.id_perfil===1||t.id_perfil===3:!1}canAccessAllApplications(){let t=this.authService.getCurrentUser();return t?t.id_perfil===1:!1}static \u0275fac=function(e){return new(e||n)(U(We),U(de))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function ZA(n,t){if(n&1&&(a(0,"option",27),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function QA(n,t){n&1&&(a(0,"div",28),_(1,"i",29),a(2,"p",30),d(3,"Cargando aplicaciones..."),l()())}function KA(n,t){if(n&1&&(a(0,"span"),_(1,"i",51),d(2),l()),n&2){let e=g().$implicit;p(2),D(" Hace ",e.dias_desde_aplicacion," d\xEDas ")}}function JA(n,t){if(n&1&&(a(0,"span",52),_(1,"i",53),d(2),l()),n&2){let e=g().$implicit;p(2),D(" ",e.puntuacion_rrhh,"/10 ")}}function XA(n,t){if(n&1){let e=V();a(0,"button",54),E("click",function(){w(e);let i=g().$implicit,o=g(2);return C(o.retirarAplicacion(i.id))}),_(1,"i",55),d(2,"Retirar "),l()}}function eO(n,t){if(n&1&&(a(0,"div",56)(1,"h5",57),d(2,"Comentarios de RRHH:"),l(),a(3,"p",58),d(4),l()()),n&2){let e=g().$implicit;p(4),M(e.notas_rrhh)}}function tO(n,t){if(n&1){let e=V();a(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36)(4,"h3",37),d(5),l(),a(6,"p",38),_(7,"i",39),d(8),l(),a(9,"div",40)(10,"span"),_(11,"i",41),d(12),Le(13,"date"),l(),x(14,KA,3,1,"span",42),l(),a(15,"div",43)(16,"span",44),d(17),l(),x(18,JA,3,1,"span",45),l()(),a(19,"div",46)(20,"button",47),E("click",function(){let i=w(e).$implicit,o=g(2);return C(o.verDetalle(i))}),_(21,"i",48),d(22,"Ver detalle "),l(),x(23,XA,3,0,"button",49),l()(),x(24,eO,5,1,"div",50),l()()}if(n&2){let e=t.$implicit,r=g(2);p(5),D(" ",e.empleo_nombre," "),p(3),D(" ",e.empresa_nombre," "),p(4),D(" Aplicado: ",ot(13,9,e.fecha_aplicacion,"dd/MM/yyyy")," "),p(2),h("ngIf",e.dias_desde_aplicacion),p(2),h("ngClass",r.obtenerColorEstado(e.status)),p(),D(" ",r.getStatusDescription(e.status)," "),p(),h("ngIf",e.puntuacion_rrhh),p(5),h("ngIf",r.puedeRetirar(e)),p(),h("ngIf",e.notas_rrhh)}}function nO(n,t){if(n&1&&(a(0,"div",31),x(1,tO,25,12,"div",32),l()),n&2){let e=g();p(),h("ngForOf",e.aplicacionesFiltradas)}}function rO(n,t){n&1&&(a(0,"span"),d(1,"A\xFAn no has aplicado a ning\xFAn empleo"),l())}function iO(n,t){n&1&&(a(0,"span"),d(1,"No hay aplicaciones que coincidan con los filtros seleccionados"),l())}function oO(n,t){n&1&&(a(0,"a",63),_(1,"i",64),d(2,"Buscar empleos "),l())}function sO(n,t){if(n&1&&(a(0,"div",28),_(1,"i",59),a(2,"h3",60),d(3,"No hay aplicaciones"),l(),a(4,"p",61),x(5,rO,2,0,"span",42)(6,iO,2,0,"span",42),l(),x(7,oO,3,0,"a",62),l()),n&2){let e=g();p(5),h("ngIf",e.aplicaciones.length===0),p(),h("ngIf",e.aplicaciones.length>0),p(),h("ngIf",e.aplicaciones.length===0)}}function aO(n,t){if(n&1&&(a(0,"div")(1,"label",74),d(2,"Carta de presentaci\xF3n:"),l(),a(3,"p",81),d(4),l()()),n&2){let e=g(2);p(4),M(e.aplicacionSeleccionada.carta_presentacion)}}function lO(n,t){if(n&1&&(a(0,"div")(1,"label",74),d(2,"Disponibilidad:"),l(),a(3,"p",76),d(4),Le(5,"date"),l()()),n&2){let e=g(3);p(4),M(ot(5,1,e.aplicacionSeleccionada.disponibilidad_inicio,"dd/MM/yyyy"))}}function cO(n,t){if(n&1&&(a(0,"div",73)(1,"div")(2,"label",74),d(3,"Salario esperado:"),l(),a(4,"p",76),d(5),Le(6,"number"),l()(),x(7,lO,6,4,"div",42),l()),n&2){let e=g(2);p(5),D("Q",ot(6,2,e.aplicacionSeleccionada.salario_esperado,"1.0-0"),""),p(2),h("ngIf",e.aplicacionSeleccionada.disponibilidad_inicio)}}function dO(n,t){if(n&1&&(a(0,"div",82)(1,"label",74),d(2,"Comentarios de RRHH:"),l(),a(3,"p",83),d(4),l()()),n&2){let e=g(2);p(4),M(e.aplicacionSeleccionada.notas_rrhh)}}function uO(n,t){if(n&1){let e=V();a(0,"div",65)(1,"div",66)(2,"div",67)(3,"h3",68),d(4," Detalle de Aplicaci\xF3n "),l(),a(5,"button",69),E("click",function(){w(e);let i=g();return C(i.cerrarDetalle())}),_(6,"i",70),l()(),a(7,"div",71)(8,"div")(9,"h4",72),d(10),l(),a(11,"p",30),d(12),l()(),a(13,"div",73)(14,"div")(15,"label",74),d(16,"Estado:"),l(),a(17,"span",75),d(18),l()(),a(19,"div")(20,"label",74),d(21,"Fecha de aplicaci\xF3n:"),l(),a(22,"p",76),d(23),Le(24,"date"),l()()(),x(25,aO,5,1,"div",42)(26,cO,8,5,"div",77)(27,dO,5,1,"div",78),l(),a(28,"div",79)(29,"button",80),E("click",function(){w(e);let i=g();return C(i.cerrarDetalle())}),d(30," Cerrar "),l()()()()}if(n&2){let e=g();p(10),M(e.aplicacionSeleccionada.empleo_nombre),p(2),M(e.aplicacionSeleccionada.empresa_nombre),p(5),h("ngClass",e.obtenerColorEstado(e.aplicacionSeleccionada.status)),p(),D(" ",e.getStatusDescription(e.aplicacionSeleccionada.status)," "),p(5),M(ot(24,8,e.aplicacionSeleccionada.fecha_aplicacion,"dd/MM/yyyy HH:mm")),p(2),h("ngIf",e.aplicacionSeleccionada.carta_presentacion),p(),h("ngIf",e.aplicacionSeleccionada.salario_esperado),p(),h("ngIf",e.aplicacionSeleccionada.notas_rrhh)}}var Vd=class n{constructor(t){this.postulacionesService=t}aplicaciones=[];aplicacionesFiltradas=[];aplicacionSeleccionada=null;cargando=!1;mostrarDetalle=!1;filtros={status:"",empleo:"",fecha_desde:"",fecha_hasta:""};estadisticas={total:0,pendientes:0,revisadas:0,preseleccionadas:0,entrevistas:0,contratadas:0,rechazadas:0};estados=[{valor:"",nombre:"Todos los estados"},{valor:"pendiente",nombre:"Pendiente",color:"yellow"},{valor:"revisado",nombre:"Revisado",color:"blue"},{valor:"preseleccionado",nombre:"Preseleccionado",color:"green"},{valor:"entrevista",nombre:"En Entrevista",color:"purple"},{valor:"contratado",nombre:"Contratado",color:"green"},{valor:"rechazado",nombre:"Rechazado",color:"red"}];ngOnInit(){this.cargarMisAplicaciones()}cargarMisAplicaciones(){this.cargando=!0,this.postulacionesService.getMisAplicaciones().subscribe({next:t=>{this.aplicaciones=t,this.aplicarFiltros(),this.calcularEstadisticas(),this.cargando=!1},error:t=>{console.error("Error al cargar aplicaciones:",t),this.cargando=!1}})}aplicarFiltros(){let t=[...this.aplicaciones];this.filtros.status&&(t=t.filter(e=>e.status===this.filtros.status)),this.filtros.empleo&&(t=t.filter(e=>e.empleo_nombre.toLowerCase().includes(this.filtros.empleo.toLowerCase())||e.empresa_nombre.toLowerCase().includes(this.filtros.empleo.toLowerCase()))),this.filtros.fecha_desde&&(t=t.filter(e=>new Date(e.fecha_aplicacion)>=new Date(this.filtros.fecha_desde))),this.filtros.fecha_hasta&&(t=t.filter(e=>new Date(e.fecha_aplicacion)<=new Date(this.filtros.fecha_hasta))),this.aplicacionesFiltradas=t}limpiarFiltros(){this.filtros={status:"",empleo:"",fecha_desde:"",fecha_hasta:""},this.aplicarFiltros()}calcularEstadisticas(){this.estadisticas={total:this.aplicaciones.length,pendientes:this.aplicaciones.filter(t=>t.status==="pendiente").length,revisadas:this.aplicaciones.filter(t=>t.status==="revisado").length,preseleccionadas:this.aplicaciones.filter(t=>t.status==="preseleccionado").length,entrevistas:this.aplicaciones.filter(t=>t.status==="entrevista").length,contratadas:this.aplicaciones.filter(t=>t.status==="contratado").length,rechazadas:this.aplicaciones.filter(t=>t.status==="rechazado").length}}contarPorEstado(t){return this.aplicaciones.filter(e=>e.status===t).length}verDetalle(t){this.aplicacionSeleccionada=t,this.mostrarDetalle=!0}cerrarDetalle(){this.mostrarDetalle=!1,this.aplicacionSeleccionada=null}obtenerColorEstado(t){let r=this.estados.find(i=>i.valor===t)?.color||"gray";return`bg-${r}-100 text-${r}-800 border-${r}-200`}retirarAplicacion(t){confirm("\xBFEst\xE1s seguro de que deseas retirar esta aplicaci\xF3n?")&&(this.cargando=!0,this.postulacionesService.retirarAplicacion(t).subscribe({next:e=>{e.success?(alert(e.message),this.cargarMisAplicaciones()):alert(e.message),this.cargando=!1},error:e=>{console.error("Error al retirar aplicaci\xF3n:",e),alert("Error al retirar la aplicaci\xF3n"),this.cargando=!1}}))}getStatusColor(t){return this.postulacionesService.getStatusColor(t)}getStatusDescription(t){return this.postulacionesService.getStatusDescription(t)}formatearSalario(t){return this.postulacionesService.formatearSalario(t)}puedeRetirar(t){return!["contratado","rechazado","retirada"].includes(t.status)}static \u0275fac=function(e){return new(e||n)(R(Dr))};static \u0275cmp=le({type:n,selectors:[["app-mis-aplicaciones"]],standalone:!1,decls:67,vars:15,consts:[[1,"min-h-screen","bg-gray-50","py-6"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-3","lg:grid-cols-6","gap-4","mb-6"],[1,"bg-white","rounded-lg","shadow","p-4"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold","text-yellow-600"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-purple-600"],[1,"text-2xl","font-bold","text-green-700"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Nombre del empleo o empresa...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],["type","date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","change","ngModel"],[1,"flex","justify-end"],[1,"px-4","py-2","border","border-gray-300","text-gray-700","rounded-md","hover:bg-gray-50",3,"click"],[1,"fas","fa-broom","mr-2"],["class","text-center py-12",4,"ngIf"],["class","space-y-4",4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",4,"ngIf"],[3,"value"],[1,"text-center","py-12"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-blue-500","mb-4"],[1,"text-gray-600"],[1,"space-y-4"],["class","bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-300"],[1,"p-6"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600","mb-3"],[1,"fas","fa-building","mr-1"],[1,"flex","items-center","space-x-4","text-sm","text-gray-500","mb-3"],[1,"fas","fa-calendar","mr-1"],[4,"ngIf"],[1,"flex","items-center","space-x-3"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium","border",3,"ngClass"],["class","inline-flex items-center text-sm text-gray-600",4,"ngIf"],[1,"flex","items-center","space-x-2","ml-4"],[1,"px-3","py-2","text-blue-600","hover:text-blue-800","text-sm","font-medium",3,"click"],[1,"fas","fa-eye","mr-1"],["class","px-3 py-2 text-red-600 hover:text-red-800 text-sm font-medium",3,"click",4,"ngIf"],["class","mt-4 p-3 bg-blue-50 rounded-lg",4,"ngIf"],[1,"fas","fa-clock","mr-1"],[1,"inline-flex","items-center","text-sm","text-gray-600"],[1,"fas","fa-star","text-yellow-400","mr-1"],[1,"px-3","py-2","text-red-600","hover:text-red-800","text-sm","font-medium",3,"click"],[1,"fas","fa-trash","mr-1"],[1,"mt-4","p-3","bg-blue-50","rounded-lg"],[1,"text-sm","font-medium","text-gray-900","mb-1"],[1,"text-sm","text-gray-700"],[1,"fas","fa-file-alt","text-6xl","text-gray-300","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["routerLink","/postulaciones/buscar-empleos","class","inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",4,"ngIf"],["routerLink","/postulaciones/buscar-empleos",1,"inline-flex","items-center","px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700"],[1,"fas","fa-search","mr-2"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"relative","top-10","mx-auto","p-5","border","w-11/12","md:w-3/4","lg:w-1/2","shadow-lg","rounded-md","bg-white","mb-10"],[1,"flex","items-center","justify-between","pb-4","border-b"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],[1,"mt-4","space-y-4"],[1,"font-semibold","text-gray-900"],[1,"grid","grid-cols-2","gap-4"],[1,"text-sm","font-medium","text-gray-700"],[1,"ml-2","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"text-sm","text-gray-900"],["class","grid grid-cols-2 gap-4",4,"ngIf"],["class","bg-blue-50 p-3 rounded-lg",4,"ngIf"],[1,"mt-6","pt-4","border-t","flex","justify-end"],[1,"px-4","py-2","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-50",3,"click"],[1,"text-sm","text-gray-900","mt-1","whitespace-pre-line"],[1,"bg-blue-50","p-3","rounded-lg"],[1,"text-sm","text-gray-900","mt-1"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),d(4,"Mis Aplicaciones"),l(),a(5,"p",4),d(6,"Seguimiento de tus postulaciones enviadas"),l()(),a(7,"div",5)(8,"div",6)(9,"div",7),d(10),l(),a(11,"div",8),d(12,"Total"),l()(),a(13,"div",6)(14,"div",9),d(15),l(),a(16,"div",8),d(17,"Pendientes"),l()(),a(18,"div",6)(19,"div",7),d(20),l(),a(21,"div",8),d(22,"Revisados"),l()(),a(23,"div",6)(24,"div",10),d(25),l(),a(26,"div",8),d(27,"Preseleccionados"),l()(),a(28,"div",6)(29,"div",11),d(30),l(),a(31,"div",8),d(32,"En Entrevista"),l()(),a(33,"div",6)(34,"div",12),d(35),l(),a(36,"div",8),d(37,"Contratados"),l()()(),a(38,"div",13)(39,"h2",14),d(40,"Filtros"),l(),a(41,"div",15)(42,"div")(43,"label",16),d(44,"Estado"),l(),a(45,"select",17),A("ngModelChange",function(o){return O(r.filtros.status,o)||(r.filtros.status=o),o}),E("change",function(){return r.aplicarFiltros()}),x(46,ZA,2,2,"option",18),l()(),a(47,"div")(48,"label",16),d(49,"Buscar empleo o empresa"),l(),a(50,"input",19),A("ngModelChange",function(o){return O(r.filtros.empleo,o)||(r.filtros.empleo=o),o}),E("input",function(){return r.aplicarFiltros()}),l()(),a(51,"div")(52,"label",16),d(53,"Desde fecha"),l(),a(54,"input",20),A("ngModelChange",function(o){return O(r.filtros.fecha_desde,o)||(r.filtros.fecha_desde=o),o}),E("change",function(){return r.aplicarFiltros()}),l()(),a(55,"div")(56,"label",16),d(57,"Hasta fecha"),l(),a(58,"input",20),A("ngModelChange",function(o){return O(r.filtros.fecha_hasta,o)||(r.filtros.fecha_hasta=o),o}),E("change",function(){return r.aplicarFiltros()}),l()()(),a(59,"div",21)(60,"button",22),E("click",function(){return r.limpiarFiltros()}),_(61,"i",23),d(62,"Limpiar filtros "),l()()(),x(63,QA,4,0,"div",24)(64,nO,2,1,"div",25)(65,sO,8,3,"div",24),l()(),x(66,uO,31,11,"div",26)),e&2&&(p(10),M(r.aplicaciones.length),p(5),M(r.contarPorEstado("pendiente")),p(5),M(r.contarPorEstado("revisado")),p(5),M(r.contarPorEstado("preseleccionado")),p(5),M(r.contarPorEstado("entrevista")),p(5),M(r.contarPorEstado("contratado")),p(10),k("ngModel",r.filtros.status),p(),h("ngForOf",r.estados),p(4),k("ngModel",r.filtros.empleo),p(4),k("ngModel",r.filtros.fecha_desde),p(4),k("ngModel",r.filtros.fecha_hasta),p(5),h("ngIf",r.cargando),p(),h("ngIf",!r.cargando),p(),h("ngIf",!r.cargando&&r.aplicacionesFiltradas.length===0),p(),h("ngIf",r.mostrarDetalle&&r.aplicacionSeleccionada))},dependencies:[st,Ce,pe,Rn,et,tt,Ee,Ze,Te,Ie,hs,nr],encapsulation:2})};function pO(n,t){if(n&1&&(a(0,"option",26),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function fO(n,t){if(n&1&&(a(0,"option",26),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function mO(n,t){if(n&1&&(a(0,"option",26),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function hO(n,t){n&1&&(a(0,"div",27),_(1,"i",28),a(2,"p",29),d(3,"Cargando empleos..."),l()())}function gO(n,t){if(n&1&&(a(0,"span",56),_(1,"i",57),d(2),l()),n&2){let e=g().$implicit;p(2),D(" ",e.dias_restantes," d\xEDas ")}}function vO(n,t){n&1&&(a(0,"span",58),_(1,"i",59),d(2," Urgente "),l())}function _O(n,t){if(n&1&&(a(0,"span",60),d(1),l()),n&2){let e=g().$implicit;p(),D(" ",e.experiencia_laboral," ")}}function yO(n,t){if(n&1){let e=V();a(0,"div",32)(1,"div",33)(2,"div",34)(3,"h3",35),d(4),l(),a(5,"div",36),x(6,gO,3,1,"span",37)(7,vO,3,0,"span",38),l()(),a(8,"p",39),_(9,"i",40),d(10),l(),a(11,"p",41),_(12,"i",42),d(13),l(),a(14,"div",43)(15,"span",44),d(16),l(),a(17,"span",45),d(18),l(),x(19,_O,2,1,"span",46),l(),a(20,"div",47)(21,"p",48),_(22,"i",49),d(23),l()(),a(24,"p",50),d(25),Le(26,"date"),l()(),a(27,"div",51)(28,"div",15)(29,"button",52),E("click",function(){let i=w(e).$implicit,o=g(2);return C(o.verDetalle(i))}),_(30,"i",53),d(31,"Ver detalles "),l(),a(32,"button",54),E("click",function(){let i=w(e).$implicit,o=g(2);return C(o.abrirModalAplicacion(i))}),_(33,"i",55),d(34,"Aplicar "),l()()()()}if(n&2){let e=t.$implicit,r=g(2);p(4),D(" ",e.nombre," "),p(2),h("ngIf",e.dias_restantes<=7),p(),h("ngIf",e.urgencia==="urgente"),p(3),D(" ",e.empresa_nombre," "),p(3),D(" ",r.obtenerModalidades(e.lugar_trabajo)," "),p(3),D(" ",e.categoria," "),p(2),D(" ",e.jornada_laboral," "),p(),h("ngIf",e.experiencia_laboral),p(4),D(" ",r.formatearSalario(e.salario)," "),p(2),D(" Publicado: ",ot(26,10,e.fecha_creacion,"dd/MM/yyyy")," ")}}function bO(n,t){if(n&1&&(a(0,"div",30),x(1,yO,35,13,"div",31),l()),n&2){let e=g();p(),h("ngForOf",e.empleos)}}function xO(n,t){n&1&&(a(0,"div",27),_(1,"i",61),a(2,"h3",62),d(3,"No se encontraron empleos"),l(),a(4,"p",29),d(5,"Intenta ajustar los filtros de b\xFAsqueda"),l()())}function wO(n,t){if(n&1){let e=V();a(0,"button",66),E("click",function(){let i=w(e).$implicit,o=g(2);return C(o.cambiarPagina(i))}),d(1),l()}if(n&2){let e=t.$implicit,r=g(2);Ft("bg-blue-600",r.paginaActual===e)("text-white",r.paginaActual===e)("bg-white",r.paginaActual!==e)("text-gray-700",r.paginaActual!==e),p(),D(" ",e," ")}}function CO(n,t){if(n&1&&(a(0,"div",63)(1,"nav",64),x(2,wO,2,9,"button",65),l()()),n&2){let e=g();p(2),h("ngForOf",e.getPaginasArray())}}function EO(n,t){if(n&1&&(a(0,"div")(1,"h5",85),d(2,"Descripci\xF3n"),l(),a(3,"p",80),d(4),l()()),n&2){let e=g(3);p(4),M(e.empleoSeleccionado.descripcion.descripcion)}}function SO(n,t){if(n&1&&(a(0,"li"),d(1),l()),n&2){let e=t.$implicit;p(),M(e)}}function MO(n,t){if(n&1&&(a(0,"div")(1,"h5",85),d(2,"Requisitos"),l(),a(3,"ul",86),x(4,SO,2,1,"li",87),l()()),n&2){let e=g(3);p(4),h("ngForOf",e.empleoSeleccionado.descripcion.requisitos)}}function IO(n,t){if(n&1&&(a(0,"li"),d(1),l()),n&2){let e=t.$implicit;p(),M(e)}}function DO(n,t){if(n&1&&(a(0,"div")(1,"h5",85),d(2,"Beneficios"),l(),a(3,"ul",86),x(4,IO,2,1,"li",87),l()()),n&2){let e=g(3);p(4),h("ngForOf",e.empleoSeleccionado.descripcion.beneficios)}}function TO(n,t){if(n&1){let e=V();a(0,"div",74)(1,"div",75)(2,"div")(3,"h4",76),d(4),l(),a(5,"p",29),d(6),l()(),x(7,EO,5,1,"div",77)(8,MO,5,1,"div",77)(9,DO,5,1,"div",77),a(10,"div",78)(11,"div")(12,"h5",79),d(13,"Jornada Laboral"),l(),a(14,"p",80),d(15),l()(),a(16,"div")(17,"h5",79),d(18,"Vacantes"),l(),a(19,"p",80),d(20),l()()()(),a(21,"div",81)(22,"button",82),E("click",function(){w(e);let i=g(2);return C(i.cerrarDetalleEmpleo())}),d(23," Cerrar "),l(),a(24,"button",83),E("click",function(){w(e);let i=g(2);return i.abrirModalAplicacion(i.empleoSeleccionado),C(i.cerrarDetalleEmpleo())}),_(25,"i",84),d(26,"Aplicar a este empleo "),l()()()}if(n&2){let e=g(2);p(4),M(e.empleoSeleccionado.nombre),p(2),M(e.empleoSeleccionado.empresa_nombre),p(),h("ngIf",e.empleoSeleccionado.descripcion==null?null:e.empleoSeleccionado.descripcion.descripcion),p(),h("ngIf",e.empleoSeleccionado.descripcion==null||e.empleoSeleccionado.descripcion.requisitos==null?null:e.empleoSeleccionado.descripcion.requisitos.length),p(),h("ngIf",e.empleoSeleccionado.descripcion==null||e.empleoSeleccionado.descripcion.beneficios==null?null:e.empleoSeleccionado.descripcion.beneficios.length),p(6),M(e.empleoSeleccionado.jornada_laboral),p(5),M(e.empleoSeleccionado.numero_vacantes||1)}}function kO(n,t){if(n&1){let e=V();a(0,"div",67)(1,"div",68)(2,"div",69)(3,"h3",70),d(4," Detalle del Empleo "),l(),a(5,"button",71),E("click",function(){w(e);let i=g();return C(i.cerrarDetalleEmpleo())}),_(6,"i",72),l()(),x(7,TO,27,7,"div",73),l()()}if(n&2){let e=g();p(7),h("ngIf",e.empleoSeleccionado)}}function AO(n,t){n&1&&(a(0,"div",110),_(1,"i",111),a(2,"p",112),d(3,"No tienes CVs creados"),l(),a(4,"a",113),d(5," Crear mi primer CV "),l()())}function OO(n,t){n&1&&(a(0,"span",125),d(1," Activo "),l())}function PO(n,t){if(n&1){let e=V();a(0,"div",116),E("click",function(){let i=w(e).$implicit,o=g(3);return C(o.onCVSeleccionado(i.id))}),a(1,"div",117)(2,"div",118),_(3,"input",119),a(4,"div",120)(5,"label",121),d(6),l(),a(7,"div",122),_(8,"i",123),d(9),Le(10,"date"),x(11,OO,2,0,"span",124),l()()()()()}if(n&2){let e=t.$implicit,r=g(3);Ft("border-blue-500",r.aplicacion.cv_id===e.id)("bg-blue-50",r.aplicacion.cv_id===e.id)("border-gray-300",r.aplicacion.cv_id!==e.id),p(3),h("checked",r.aplicacion.cv_id===e.id),p(3),M(e.nombre),p(3),D(" Actualizado: ",ot(10,10,e.fecha_actualizacion,"dd/MM/yyyy")," "),p(2),h("ngIf",e.activo)}}function FO(n,t){if(n&1&&(a(0,"div",114),x(1,PO,12,13,"div",115),l()),n&2){let e=g(2);p(),h("ngForOf",e.misCVs)}}function RO(n,t){n&1&&(a(0,"span"),_(1,"i",126),d(2," Enviando... "),l())}function NO(n,t){n&1&&(a(0,"span"),_(1,"i",84),d(2," Enviar Aplicaci\xF3n "),l())}function VO(n,t){if(n&1){let e=V();a(0,"div",67)(1,"div",68)(2,"div",69)(3,"h3",88),d(4," Aplicar al empleo "),l(),a(5,"button",71),E("click",function(){w(e);let i=g();return C(i.cerrarModalAplicacion())}),_(6,"i",72),l()(),a(7,"div",74)(8,"div",89)(9,"h4",90),d(10),l(),a(11,"p",21),d(12),l(),a(13,"div",91)(14,"span",44),d(15),l(),a(16,"span",45),d(17),l()()(),a(18,"form",92,0),E("ngSubmit",function(){w(e);let i=g();return C(i.enviarAplicacion())}),a(20,"div",93)(21,"label",94),d(22," Selecciona tu CV "),a(23,"span",95),d(24,"*"),l()(),x(25,AO,6,0,"div",96)(26,FO,2,1,"div",97),l(),a(27,"div",93)(28,"label",98),d(29," Carta de Presentaci\xF3n "),a(30,"span",95),d(31,"*"),l()(),a(32,"textarea",99),A("ngModelChange",function(i){w(e);let o=g();return O(o.aplicacion.carta_presentacion,i)||(o.aplicacion.carta_presentacion=i),C(i)}),l(),a(33,"p",100),d(34," Personaliza tu carta para este empleo espec\xEDfico. Menciona tus habilidades relevantes y motivaci\xF3n. "),l()(),a(35,"div",93)(36,"label",101),d(37," Salario Esperado (GTQ) "),l(),a(38,"input",102),A("ngModelChange",function(i){w(e);let o=g();return O(o.aplicacion.salario_esperado,i)||(o.aplicacion.salario_esperado=i),C(i)}),l(),a(39,"p",100),d(40," Opcional. Si no especificas, se considerar\xE1 negociable. "),l()(),a(41,"div",93)(42,"label",103),d(43," Disponibilidad para iniciar "),l(),a(44,"input",104),A("ngModelChange",function(i){w(e);let o=g();return O(o.aplicacion.disponibilidad_inicio,i)||(o.aplicacion.disponibilidad_inicio=i),C(i)}),l()(),a(45,"div",93)(46,"label",105),d(47," Notas Adicionales "),l(),a(48,"textarea",106),A("ngModelChange",function(i){w(e);let o=g();return O(o.aplicacion.notas_candidato,i)||(o.aplicacion.notas_candidato=i),C(i)}),l()(),a(49,"div",107)(50,"button",108),E("click",function(){w(e);let i=g();return C(i.cerrarModalAplicacion())}),d(51," Cancelar "),l(),a(52,"button",109),x(53,RO,3,0,"span",77)(54,NO,3,0,"span",77),l()()()()()()}if(n&2){let e=Fe(19),r=g();p(10),M(r.empleoSeleccionado==null?null:r.empleoSeleccionado.nombre),p(2),M(r.empleoSeleccionado==null?null:r.empleoSeleccionado.empresa_nombre),p(3),D(" ",r.empleoSeleccionado==null?null:r.empleoSeleccionado.categoria," "),p(2),D(" ",r.empleoSeleccionado==null?null:r.empleoSeleccionado.jornada_laboral," "),p(8),h("ngIf",r.misCVs.length===0),p(),h("ngIf",r.misCVs.length>0),p(6),k("ngModel",r.aplicacion.carta_presentacion),p(6),k("ngModel",r.aplicacion.salario_esperado),p(6),k("ngModel",r.aplicacion.disponibilidad_inicio),p(4),k("ngModel",r.aplicacion.notas_candidato),p(4),h("disabled",!e.valid||!r.aplicacion.cv_id||r.cargando),p(),h("ngIf",r.cargando),p(),h("ngIf",!r.cargando)}}var gi=class n{constructor(t){this.postulacionesService=t}empleos=[];empleoSeleccionado=null;mostrarModalAplicacion=!1;mostrarDetalleEmpleo=!1;cargando=!1;total=0;paginaActual=1;limite=12;misCVs=[];filtros={categoria:"",modalidad:"",experiencia:"",busqueda:""};categorias=[{valor:"informatica",nombre:"Inform\xE1tica"},{valor:"ventas",nombre:"Ventas"},{valor:"administracion",nombre:"Administraci\xF3n"},{valor:"telecomunicaciones",nombre:"Telecomunicaciones"},{valor:"marketing",nombre:"Marketing"},{valor:"recursos_humanos",nombre:"Recursos Humanos"},{valor:"contabilidad",nombre:"Contabilidad"},{valor:"ingenieria",nombre:"Ingenier\xEDa"}];modalidades=[{valor:"remoto",nombre:"Remoto"},{valor:"presencial",nombre:"Presencial"},{valor:"hibrido",nombre:"H\xEDbrido"}];experiencias=[{valor:"sin_experiencia",nombre:"Sin experiencia"},{valor:"0-1 a\xF1os",nombre:"0-1 a\xF1os"},{valor:"1-3 a\xF1os",nombre:"1-3 a\xF1os"},{valor:"3-5 a\xF1os",nombre:"3-5 a\xF1os"},{valor:"5+ a\xF1os",nombre:"5+ a\xF1os"}];aplicacion={empleo_id:0,cv_id:0,carta_presentacion:"",salario_esperado:void 0,disponibilidad_inicio:void 0,notas_candidato:""};ngOnInit(){this.cargarEmpleos(),this.cargarMisCVs()}cargarMisCVs(){this.postulacionesService.getMisCVs().subscribe({next:t=>{this.misCVs=t;let e=t.find(r=>r.activo);e&&(this.aplicacion.cv_id=e.id)},error:t=>{console.error("Error al cargar CVs:",t)}})}cargarEmpleos(){this.cargando=!0;let t=G(P({},this.filtros),{limite:this.limite,pagina:this.paginaActual});Object.keys(t).forEach(e=>{t[e]||delete t[e]}),this.postulacionesService.getEmpleosPublicos(t).subscribe({next:e=>{this.empleos=e.empleos,this.total=e.total,this.cargando=!1},error:e=>{console.error("Error al cargar empleos:",e),this.cargando=!1}})}aplicarFiltros(){this.paginaActual=1,this.cargarEmpleos()}limpiarFiltros(){this.filtros={categoria:"",modalidad:"",experiencia:"",busqueda:""},this.aplicarFiltros()}verDetalle(t){this.postulacionesService.getDetalleEmpleo(t.id).subscribe({next:e=>{this.empleoSeleccionado=e,this.mostrarDetalleEmpleo=!0},error:e=>{console.error("Error al cargar detalle:",e)}})}abrirModalAplicacion(t){if(this.misCVs.length===0){alert("Debes crear un CV primero para poder aplicar a empleos");return}this.empleoSeleccionado=t,this.aplicacion={empleo_id:t.id,cv_id:this.misCVs.find(e=>e.activo)?.id||this.misCVs[0]?.id||0,carta_presentacion:"",salario_esperado:void 0,disponibilidad_inicio:void 0,notas_candidato:""},this.mostrarModalAplicacion=!0}cerrarModalAplicacion(){this.mostrarModalAplicacion=!1,this.empleoSeleccionado=null}cerrarDetalleEmpleo(){this.mostrarDetalleEmpleo=!1,this.empleoSeleccionado=null}enviarAplicacion(){if(!this.aplicacion.carta_presentacion.trim()){alert("La carta de presentaci\xF3n es requerida");return}if(!this.aplicacion.cv_id){alert("Debes seleccionar un CV para aplicar");return}this.cargando=!0,this.postulacionesService.aplicarAEmpleo(this.aplicacion).subscribe({next:t=>{t.success?(alert(t.message),this.cerrarModalAplicacion(),this.cargarEmpleos()):alert(t.message),this.cargando=!1},error:t=>{console.error("Error al enviar aplicaci\xF3n:",t),alert("Error al enviar la aplicaci\xF3n"),this.cargando=!1}})}onCVSeleccionado(t){this.aplicacion.cv_id=t}cambiarPagina(t){this.paginaActual=t,this.cargarEmpleos()}formatearSalario(t){return this.postulacionesService.formatearSalario(t)}obtenerModalidades(t){return this.postulacionesService.obtenerModalidades(t)}getTotalPaginas(){return Math.ceil(this.total/this.limite)}getPaginasArray(){let t=this.getTotalPaginas();return Array.from({length:t},(e,r)=>r+1)}static \u0275fac=function(e){return new(e||n)(R(Dr))};static \u0275cmp=le({type:n,selectors:[["app-buscar-empleos"]],standalone:!1,decls:53,vars:14,consts:[["aplicacionForm","ngForm"],[1,"min-h-screen","bg-gray-50","py-6"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-gray-600"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"text-xl","font-semibold","text-gray-900","mb-4"],[1,"fas","fa-filter","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","placeholder","Desarrollador, ventas...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center"],[1,"flex","space-x-2"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"fas","fa-search","mr-2"],[1,"px-4","py-2","border","border-gray-300","text-gray-700","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"fas","fa-broom","mr-2"],[1,"text-sm","text-gray-600"],["class","text-center py-12",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",4,"ngIf"],["class","mt-8 flex justify-center",4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",4,"ngIf"],[3,"value"],[1,"text-center","py-12"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-blue-500","mb-4"],[1,"text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-8"],["class","bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-300","overflow-hidden"],[1,"p-6"],[1,"flex","items-start","justify-between","mb-3"],[1,"text-lg","font-semibold","text-gray-900","line-clamp-2","flex-1"],[1,"ml-3","flex","flex-col","items-end","space-y-1"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",4,"ngIf"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",4,"ngIf"],[1,"text-sm","text-gray-600","mb-2"],[1,"fas","fa-building","mr-1"],[1,"text-sm","text-gray-600","mb-4"],[1,"fas","fa-map-marker-alt","mr-1"],[1,"flex","flex-wrap","gap-2","mb-4"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",4,"ngIf"],[1,"mb-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"fas","fa-money-bill-wave","mr-1"],[1,"text-xs","text-gray-500","mb-4"],[1,"px-6","py-4","bg-gray-50","border-t"],[1,"text-blue-600","hover:text-blue-800","text-sm","font-medium",3,"click"],[1,"fas","fa-eye","mr-1"],[1,"px-4","py-2","bg-blue-600","text-white","text-sm","font-medium","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"fas","fa-paper-plane","mr-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-red-100","text-red-800"],[1,"fas","fa-clock","mr-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-orange-100","text-orange-800"],[1,"fas","fa-exclamation","mr-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-yellow-100","text-yellow-800"],[1,"fas","fa-search","text-6xl","text-gray-300","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"mt-8","flex","justify-center"],[1,"flex","items-center","space-x-2"],["class","px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",3,"bg-blue-600","text-white","bg-white","text-gray-700","click",4,"ngFor","ngForOf"],[1,"px-3","py-2","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"relative","top-10","mx-auto","p-5","border","w-11/12","md:w-3/4","lg:w-1/2","shadow-lg","rounded-md","bg-white","mb-10"],[1,"flex","items-center","justify-between","pb-4","border-b"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-900"],[4,"ngIf"],[1,"grid","grid-cols-2","gap-4"],[1,"font-medium","text-gray-900","mb-1"],[1,"text-gray-700"],[1,"mt-6","pt-4","border-t","flex","justify-end","space-x-3"],[1,"px-4","py-2","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-50",3,"click"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700",3,"click"],[1,"fas","fa-paper-plane","mr-2"],[1,"font-medium","text-gray-900","mb-2"],[1,"list-disc","list-inside","text-gray-700","space-y-1"],[4,"ngFor","ngForOf"],[1,"text-lg","font-medium","text-gray-900"],[1,"bg-gray-50","p-4","rounded-lg","mb-6"],[1,"font-semibold","text-gray-900"],[1,"flex","flex-wrap","gap-2","mt-2"],[3,"ngSubmit"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["class","text-center py-8 text-gray-500",4,"ngIf"],["class","grid grid-cols-1 gap-3",4,"ngIf"],["for","carta_presentacion",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","carta_presentacion","name","carta_presentacion","required","","rows","6","placeholder","Describe por qu\xE9 eres el candidato ideal para este puesto...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"text-xs","text-gray-500","mt-1"],["for","salario_esperado",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","salario_esperado","name","salario_esperado","min","0","placeholder","15000",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["for","disponibilidad_inicio",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","date","id","disponibilidad_inicio","name","disponibilidad_inicio",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["for","notas_candidato",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","notas_candidato","name","notas_candidato","rows","3","placeholder","Informaci\xF3n adicional que consideres relevante...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-end","space-x-4","pt-4","border-t"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["type","submit",1,"px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-center","py-8","text-gray-500"],[1,"fas","fa-file-alt","text-4xl","mb-4"],[1,"mb-2"],["routerLink","/cv/crear",1,"text-blue-600","hover:text-blue-800","font-medium"],[1,"grid","grid-cols-1","gap-3"],["class","border-2 rounded-lg p-4 cursor-pointer transition-all duration-200",3,"border-blue-500","bg-blue-50","border-gray-300","click",4,"ngFor","ngForOf"],[1,"border-2","rounded-lg","p-4","cursor-pointer","transition-all","duration-200",3,"click"],[1,"flex","items-start","justify-between"],[1,"flex","items-center","flex-1"],["type","radio",1,"text-blue-600","border-gray-300","focus:ring-blue-500",3,"checked"],[1,"ml-3","flex-1"],[1,"font-medium","text-gray-900","cursor-pointer"],[1,"flex","items-center","mt-1","text-xs","text-gray-500"],[1,"fas","fa-calendar-alt","mr-1"],["class","ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",4,"ngIf"],[1,"ml-2","inline-flex","items-center","px-2","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"fas","fa-spinner","fa-spin","mr-2"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),d(4,"Buscar Empleos"),l(),a(5,"p",5),d(6,"Encuentra tu pr\xF3xima oportunidad laboral"),l()(),a(7,"div",6)(8,"h2",7),_(9,"i",8),d(10,"Filtros de B\xFAsqueda "),l(),a(11,"div",9)(12,"div")(13,"label",10),d(14,"Palabra clave"),l(),a(15,"input",11),A("ngModelChange",function(o){return O(r.filtros.busqueda,o)||(r.filtros.busqueda=o),o}),l()(),a(16,"div")(17,"label",10),d(18,"Categor\xEDa"),l(),a(19,"select",12),A("ngModelChange",function(o){return O(r.filtros.categoria,o)||(r.filtros.categoria=o),o}),a(20,"option",13),d(21,"Todas las categor\xEDas"),l(),x(22,pO,2,2,"option",14),l()(),a(23,"div")(24,"label",10),d(25,"Modalidad"),l(),a(26,"select",12),A("ngModelChange",function(o){return O(r.filtros.modalidad,o)||(r.filtros.modalidad=o),o}),a(27,"option",13),d(28,"Todas las modalidades"),l(),x(29,fO,2,2,"option",14),l()(),a(30,"div")(31,"label",10),d(32,"Experiencia"),l(),a(33,"select",12),A("ngModelChange",function(o){return O(r.filtros.experiencia,o)||(r.filtros.experiencia=o),o}),a(34,"option",13),d(35,"Cualquier experiencia"),l(),x(36,mO,2,2,"option",14),l()()(),a(37,"div",15)(38,"div",16)(39,"button",17),E("click",function(){return r.aplicarFiltros()}),_(40,"i",18),d(41,"Buscar "),l(),a(42,"button",19),E("click",function(){return r.limpiarFiltros()}),_(43,"i",20),d(44,"Limpiar "),l()(),a(45,"div",21),d(46),l()()(),x(47,hO,4,0,"div",22)(48,bO,2,1,"div",23)(49,xO,6,0,"div",22)(50,CO,3,1,"div",24),l()(),x(51,kO,8,1,"div",25)(52,VO,55,13,"div",25)),e&2&&(p(15),k("ngModel",r.filtros.busqueda),p(4),k("ngModel",r.filtros.categoria),p(3),h("ngForOf",r.categorias),p(4),k("ngModel",r.filtros.modalidad),p(3),h("ngForOf",r.modalidades),p(4),k("ngModel",r.filtros.experiencia),p(3),h("ngForOf",r.experiencias),p(10),D(" ",r.total," empleos encontrados "),p(),h("ngIf",r.cargando),p(),h("ngIf",!r.cargando),p(),h("ngIf",!r.cargando&&r.empleos.length===0),p(),h("ngIf",!r.cargando&&r.empleos.length>0&&r.getTotalPaginas()>1),p(),h("ngIf",r.mostrarDetalleEmpleo),p(),h("ngIf",r.mostrarModalAplicacion))},dependencies:[Ce,pe,Rn,Ye,et,tt,Ee,pi,Ze,Te,qe,Ue,fi,Ie,je,nr],encapsulation:2})};var LO=()=>[1,2,3,4,5,6,7,8,9,10];function jO(n,t){if(n&1&&(a(0,"option",31),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function UO(n,t){n&1&&(a(0,"div",32),_(1,"i",33),a(2,"p",34),d(3,"Cargando aplicaciones..."),l()())}function BO(n,t){if(n&1&&_(0,"img",65),n&2){let e=g().$implicit;h("src",e.candidato_foto,Dn)}}function HO(n,t){n&1&&(a(0,"div",66),_(1,"i",67),l())}function $O(n,t){if(n&1&&(a(0,"span",68),_(1,"i",69),d(2),l()),n&2){let e=g().$implicit;p(2),D("",e.candidato_telefono," ")}}function zO(n,t){if(n&1&&(a(0,"span"),_(1,"i",70),d(2),l()),n&2){let e=g().$implicit;p(2),D(" CV: ",e.cv_nombre," ")}}function GO(n,t){if(n&1&&(a(0,"span",71),_(1,"i",72),d(2),l()),n&2){let e=g().$implicit;p(2),D(" ",e.puntuacion_rrhh,"/10 ")}}function WO(n,t){if(n&1&&(a(0,"span",71),_(1,"i",73),d(2),Le(3,"number"),l()),n&2){let e=g().$implicit;p(2),D(" Q",ot(3,1,e.salario_esperado,"1.0-0")," ")}}function qO(n,t){if(n&1&&(a(0,"div",74)(1,"h5",75),d(2,"Carta de presentaci\xF3n:"),l(),a(3,"p",76),d(4),l()()),n&2){let e=g().$implicit;p(4),M(e.carta_presentacion)}}function YO(n,t){if(n&1&&(a(0,"div",77)(1,"h5",75),d(2,"Notas de RRHH:"),l(),a(3,"p",78),d(4),l()()),n&2){let e=g().$implicit;p(4),M(e.notas_rrhh)}}function ZO(n,t){if(n&1){let e=V();a(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"div",41),x(5,BO,1,1,"img",42)(6,HO,2,0,"div",43),l(),a(7,"div",44)(8,"h3",45),d(9),l(),a(10,"p",46),d(11," Aplic\xF3 para: "),a(12,"span",47),d(13),l()(),a(14,"p",48),_(15,"i",49),d(16),x(17,$O,3,1,"span",50),l(),a(18,"div",51)(19,"span"),_(20,"i",52),d(21),Le(22,"date"),l(),a(23,"span"),_(24,"i",53),d(25),l(),x(26,zO,3,1,"span",54),l(),a(27,"div",55)(28,"span",56),d(29),Le(30,"titlecase"),l(),x(31,GO,3,1,"span",57)(32,WO,4,4,"span",57),l()()(),a(33,"div",58)(34,"button",59),E("click",function(){let i=w(e).$implicit,o=g(2);return C(o.verDetalleCandidato(i))}),_(35,"i",60),d(36,"Ver CV "),l(),a(37,"button",61),E("click",function(){let i=w(e).$implicit,o=g(2);return C(o.abrirModalEstado(i))}),_(38,"i",62),d(39,"Actualizar "),l()()(),x(40,qO,5,1,"div",63)(41,YO,5,1,"div",64),l()()}if(n&2){let e=t.$implicit,r=g(2);p(5),h("ngIf",e.candidato_foto),p(),h("ngIf",!e.candidato_foto),p(3),D(" ",e.candidato_nombre," "),p(4),M(e.empleo_nombre),p(3),D("",e.candidato_email," "),p(),h("ngIf",e.candidato_telefono),p(4),D(" ",ot(22,15,e.fecha_aplicacion,"dd/MM/yyyy HH:mm")," "),p(4),D(" Hace ",e.dias_desde_aplicacion," d\xEDas "),p(),h("ngIf",e.cv_nombre),p(2),h("ngClass",r.obtenerColorEstado(e.status)),p(),D(" ",os(30,18,e.status)," "),p(2),h("ngIf",e.puntuacion_rrhh),p(),h("ngIf",e.salario_esperado),p(8),h("ngIf",e.carta_presentacion),p(),h("ngIf",e.notas_rrhh)}}function QO(n,t){if(n&1&&(a(0,"div",35),x(1,ZO,42,20,"div",36),l()),n&2){let e=g();p(),h("ngForOf",e.aplicaciones)}}function KO(n,t){n&1&&(a(0,"div",32),_(1,"i",79),a(2,"h3",80),d(3,"No hay aplicaciones"),l(),a(4,"p",34),d(5,"No se han recibido aplicaciones con los filtros seleccionados"),l()())}function JO(n,t){if(n&1&&(a(0,"option",31),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function XO(n,t){n&1&&(a(0,"span"),_(1,"i",105),d(2," Actualizando... "),l())}function eP(n,t){n&1&&(a(0,"span"),_(1,"i",106),d(2," Actualizar Estado "),l())}function tP(n,t){if(n&1){let e=V();a(0,"div",81)(1,"div",82)(2,"div",83)(3,"h3",45),d(4," Actualizar Estado de Aplicaci\xF3n "),l(),a(5,"button",84),E("click",function(){w(e);let i=g();return C(i.cerrarModalEstado())}),_(6,"i",85),l()(),a(7,"div",86)(8,"div",87)(9,"h4",88),d(10),l(),a(11,"p",9),d(12),l(),a(13,"p",89),d(14),Le(15,"date"),l()(),a(16,"form",90,0),E("ngSubmit",function(){w(e);let i=g();return C(i.actualizarEstado())}),a(18,"div",91)(19,"label",92),d(20," Nuevo Estado "),a(21,"span",93),d(22,"*"),l()(),a(23,"select",94),A("ngModelChange",function(i){w(e);let o=g();return O(o.actualizacionEstado.status,i)||(o.actualizacionEstado.status=i),C(i)}),x(24,JO,2,2,"option",20),l()(),a(25,"div",91)(26,"label",95),d(27," Puntuaci\xF3n (1-10) "),l(),a(28,"input",96),A("ngModelChange",function(i){w(e);let o=g();return O(o.actualizacionEstado.puntuacion_rrhh,i)||(o.actualizacionEstado.puntuacion_rrhh=i),C(i)}),l()(),a(29,"div",91)(30,"label",97),d(31," Notas de RRHH "),l(),a(32,"textarea",98),A("ngModelChange",function(i){w(e);let o=g();return O(o.actualizacionEstado.notas_rrhh,i)||(o.actualizacionEstado.notas_rrhh=i),C(i)}),l()(),a(33,"div",99)(34,"label",100),d(35," Comentario del Cambio "),l(),a(36,"textarea",101),A("ngModelChange",function(i){w(e);let o=g();return O(o.actualizacionEstado.comentario,i)||(o.actualizacionEstado.comentario=i),C(i)}),l()(),a(37,"div",102)(38,"button",103),E("click",function(){w(e);let i=g();return C(i.cerrarModalEstado())}),d(39," Cancelar "),l(),a(40,"button",104),x(41,XO,3,0,"span",54)(42,eP,3,0,"span",54),l()()()()()()}if(n&2){let e=Fe(17),r=g();p(10),M(r.aplicacionSeleccionada.candidato_nombre),p(2),M(r.aplicacionSeleccionada.empleo_nombre),p(2),D("Aplic\xF3 el ",ot(15,11,r.aplicacionSeleccionada.fecha_aplicacion,"dd/MM/yyyy"),""),p(9),k("ngModel",r.actualizacionEstado.status),p(),h("ngForOf",r.estados),p(4),k("ngModel",r.actualizacionEstado.puntuacion_rrhh),p(4),k("ngModel",r.actualizacionEstado.notas_rrhh),p(4),k("ngModel",r.actualizacionEstado.comentario),p(4),h("disabled",!e.valid||r.cargando),p(),h("ngIf",r.cargando),p(),h("ngIf",!r.cargando)}}function nP(n,t){if(n&1&&_(0,"img",134),n&2){let e=g(2);h("src",e.aplicacionSeleccionada.candidato_foto,Dn)}}function rP(n,t){n&1&&(a(0,"div",135),_(1,"i",67),l())}function iP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Salario esperado:"),l(),a(3,"p",123),d(4),Le(5,"number"),l()()),n&2){let e=g(2);p(4),D("Q",ot(5,1,e.aplicacionSeleccionada.salario_esperado,"1.0-0"),"")}}function oP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Disponibilidad para iniciar:"),l(),a(3,"p",123),d(4),Le(5,"date"),l()()),n&2){let e=g(2);p(4),M(ot(5,1,e.aplicacionSeleccionada.disponibilidad_inicio,"dd/MM/yyyy"))}}function sP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Notas del candidato:"),l(),a(3,"p",136),d(4),l()()),n&2){let e=g(2);p(4),M(e.aplicacionSeleccionada.notas_candidato)}}function aP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Notas de RRHH:"),l(),a(3,"p",136),d(4),l()()),n&2){let e=g(2);p(4),M(e.aplicacionSeleccionada.notas_rrhh)}}function lP(n,t){if(n&1&&_(0,"i",140),n&2){let e=t.$implicit,r=g(3);Ft("text-yellow-400",e<=r.aplicacionSeleccionada.puntuacion_rrhh)("text-gray-300",e>r.aplicacionSeleccionada.puntuacion_rrhh)}}function cP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Puntuaci\xF3n RRHH:"),l(),a(3,"div",109)(4,"span",137),d(5),l(),a(6,"div",138),x(7,lP,1,4,"i",139),l()()()),n&2){let e=g(2);p(5),D("",e.aplicacionSeleccionada.puntuacion_rrhh,"/10"),p(2),h("ngForOf",is(2,LO))}}function dP(n,t){if(n&1&&(a(0,"div",141)(1,"h4",119),_(2,"i",142),d(3,"Carta de Presentaci\xF3n "),l(),a(4,"p",143),d(5),l()()),n&2){let e=g(2);p(5),D(" ",e.aplicacionSeleccionada.carta_presentacion," ")}}function uP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Email:"),l(),a(3,"p",123)(4,"a",144),d(5),l()()()),n&2){let e=g(2);p(4),h("href","mailto:"+e.aplicacionSeleccionada.candidato_email,Dn),p(),D(" ",e.aplicacionSeleccionada.candidato_email," ")}}function pP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Tel\xE9fono:"),l(),a(3,"p",123)(4,"a",144),d(5),l()()()),n&2){let e=g(2);p(4),h("href","tel:"+e.aplicacionSeleccionada.candidato_telefono,Dn),p(),D(" ",e.aplicacionSeleccionada.candidato_telefono," ")}}function fP(n,t){if(n&1&&(a(0,"p",9)(1,"strong"),d(2,"Motivo de retiro:"),l(),d(3),l()),n&2){let e=g().$implicit;p(3),D(" ",e.motivo_retiro," ")}}function mP(n,t){if(n&1&&(a(0,"div",148)(1,"div",149)(2,"h5",88),d(3),l(),a(4,"span",89),d(5),l()(),a(6,"p",150),d(7),l(),x(8,fP,4,1,"p",151),l()),n&2){let e=t.$implicit,r=t.index,i=g(3);Ft("border-b",r<i.aplicacionSeleccionada.cv_experiencia.length-1),p(3),M(e.puesto_ejercido),p(2),ke(" ",e.anio_inicio," - ",e.anio_finalizacion," "),p(2),M(e.institucion),p(),h("ngIf",e.motivo_retiro)}}function hP(n,t){if(n&1&&(a(0,"div",145)(1,"h4",15),_(2,"i",146),d(3,"Experiencia Laboral "),l(),a(4,"div",35),x(5,mP,9,7,"div",147),l()()),n&2){let e=g(2);p(5),h("ngForOf",e.aplicacionSeleccionada.cv_experiencia)}}function gP(n,t){if(n&1&&(a(0,"div",154)(1,"div",149)(2,"h5",88),d(3),l(),a(4,"span",89),d(5),l()(),a(6,"p",122),d(7),l()()),n&2){let e=t.$implicit,r=t.index,i=g(3);Ft("border-b",r<i.aplicacionSeleccionada.cv_educacion.length-1),p(3),M(e.titulo_obtenido),p(2),ke(" ",e.anio_inicio," - ",e.anio_finalizacion," "),p(2),M(e.institucion)}}function vP(n,t){if(n&1&&(a(0,"div",145)(1,"h4",15),_(2,"i",152),d(3,"Educaci\xF3n "),l(),a(4,"div",35),x(5,gP,8,6,"div",153),l()()),n&2){let e=g(2);p(5),h("ngForOf",e.aplicacionSeleccionada.cv_educacion)}}function _P(n,t){if(n&1&&(a(0,"div",158)(1,"div")(2,"p",159),d(3),l(),a(4,"p",9),d(5),l()()()),n&2){let e=t.$implicit;p(3),M(e.idioma),p(2),M(e.nivel)}}function yP(n,t){if(n&1&&(a(0,"div",145)(1,"h4",15),_(2,"i",155),d(3,"Idiomas "),l(),a(4,"div",156),x(5,_P,6,2,"div",157),l()()),n&2){let e=g(2);p(5),h("ngForOf",e.aplicacionSeleccionada.cv_idiomas)}}function bP(n,t){if(n&1&&(a(0,"div",162)(1,"h5",159),d(2),l(),a(3,"p",9),d(4),l()()),n&2){let e=t.$implicit;p(2),M(e.nombre_reconocimiento),p(2),ke("",e.institucion," - ",e.anio_realizado,"")}}function xP(n,t){if(n&1&&(a(0,"div",145)(1,"h4",15),_(2,"i",160),d(3,"Cursos y Certificaciones "),l(),a(4,"div",121),x(5,bP,5,3,"div",161),l()()),n&2){let e=g(2);p(5),h("ngForOf",e.aplicacionSeleccionada.cv_cursos)}}function wP(n,t){if(n&1&&(a(0,"div",162)(1,"h5",159),d(2),l(),a(3,"p",9),d(4),l(),a(5,"p",164),d(6),l()()),n&2){let e=t.$implicit;p(2),M(e.nombre_apellido),p(2),M(e.parentesco),p(2),M(e.numero_telefonico)}}function CP(n,t){if(n&1&&(a(0,"div",145)(1,"h4",15),_(2,"i",163),d(3,"Referencias "),l(),a(4,"div",156),x(5,wP,7,3,"div",161),l()()),n&2){let e=g(2);p(5),h("ngForOf",e.aplicacionSeleccionada.cv_referencias)}}function EP(n,t){if(n&1){let e=V();a(0,"div",81)(1,"div",107)(2,"div",108)(3,"div",109),x(4,nP,1,1,"img",110)(5,rP,2,0,"div",111),a(6,"div")(7,"h3",112),d(8),l(),a(9,"p",9),d(10),l()()(),a(11,"div",55)(12,"span",56),d(13),Le(14,"titlecase"),l(),a(15,"button",113),E("click",function(){w(e);let i=g();return i.abrirModalEstado(i.aplicacionSeleccionada),C(i.cerrarDetalle())}),_(16,"i",114),d(17,"Actualizar Estado "),l(),a(18,"button",115),E("click",function(){w(e);let i=g();return C(i.cerrarDetalle())}),_(19,"i",85),l()()(),a(20,"div",116)(21,"div",117)(22,"div",118)(23,"h4",119),_(24,"i",120),d(25,"Datos de la Aplicaci\xF3n "),l(),a(26,"div",121)(27,"div")(28,"label",122),d(29,"Fecha de aplicaci\xF3n:"),l(),a(30,"p",123),d(31),Le(32,"date"),l()(),x(33,iP,6,4,"div",54)(34,oP,6,4,"div",54)(35,sP,5,1,"div",54)(36,aP,5,1,"div",54)(37,cP,8,3,"div",54),l()(),x(38,dP,6,1,"div",124),a(39,"div",125)(40,"h4",119),_(41,"i",126),d(42,"Informaci\xF3n de Contacto "),l(),a(43,"div",127),x(44,uP,6,2,"div",54)(45,pP,6,2,"div",54),l()()(),a(46,"div",128),x(47,hP,6,1,"div",129)(48,vP,6,1,"div",129)(49,yP,6,1,"div",129)(50,xP,6,1,"div",129)(51,CP,6,1,"div",129),l()(),a(52,"div",130)(53,"div",131)(54,"div",9),_(55,"i",53),d(56),l(),a(57,"div",132)(58,"button",133),E("click",function(){w(e);let i=g();return i.abrirModalEstado(i.aplicacionSeleccionada),C(i.cerrarDetalle())}),_(59,"i",114),d(60,"Cambiar Estado "),l()()()()()()}if(n&2){let e=g();p(4),h("ngIf",e.aplicacionSeleccionada.candidato_foto),p(),h("ngIf",!e.aplicacionSeleccionada.candidato_foto),p(3),M(e.aplicacionSeleccionada.candidato_nombre),p(2),D("Aplicaci\xF3n para: ",e.aplicacionSeleccionada.empleo_nombre,""),p(2),h("ngClass",e.obtenerColorEstado(e.aplicacionSeleccionada.status)),p(),D(" ",os(14,21,e.aplicacionSeleccionada.status)," "),p(18),M(ot(32,23,e.aplicacionSeleccionada.fecha_aplicacion,"dd/MM/yyyy HH:mm")),p(2),h("ngIf",e.aplicacionSeleccionada.salario_esperado),p(),h("ngIf",e.aplicacionSeleccionada.disponibilidad_inicio),p(),h("ngIf",e.aplicacionSeleccionada.notas_candidato),p(),h("ngIf",e.aplicacionSeleccionada.notas_rrhh),p(),h("ngIf",e.aplicacionSeleccionada.puntuacion_rrhh),p(),h("ngIf",e.aplicacionSeleccionada.carta_presentacion),p(6),h("ngIf",e.aplicacionSeleccionada.candidato_email),p(),h("ngIf",e.aplicacionSeleccionada.candidato_telefono),p(2),h("ngIf",e.aplicacionSeleccionada.cv_experiencia&&e.aplicacionSeleccionada.cv_experiencia.length>0),p(),h("ngIf",e.aplicacionSeleccionada.cv_educacion&&e.aplicacionSeleccionada.cv_educacion.length>0),p(),h("ngIf",e.aplicacionSeleccionada.cv_idiomas&&e.aplicacionSeleccionada.cv_idiomas.length>0),p(),h("ngIf",e.aplicacionSeleccionada.cv_cursos&&e.aplicacionSeleccionada.cv_cursos.length>0),p(),h("ngIf",e.aplicacionSeleccionada.cv_referencias&&e.aplicacionSeleccionada.cv_referencias.length>0),p(5),D(" Aplicaci\xF3n enviada hace ",e.aplicacionSeleccionada.dias_desde_aplicacion," d\xEDas ")}}var Eo=class n{constructor(t){this.postulacionesService=t}aplicaciones=[];aplicacionSeleccionada=null;cargando=!1;mostrarDetalle=!1;mostrarModalEstado=!1;filtros={empleo_id:"",status:"",fecha_desde:"",fecha_hasta:""};estados=[{valor:"pendiente",nombre:"Pendiente",color:"yellow"},{valor:"revisado",nombre:"Revisado",color:"blue"},{valor:"preseleccionado",nombre:"Preseleccionado",color:"green"},{valor:"entrevista",nombre:"En Entrevista",color:"purple"},{valor:"contratado",nombre:"Contratado",color:"green"},{valor:"rechazado",nombre:"Rechazado",color:"red"}];actualizacionEstado={status:"",notas_rrhh:"",puntuacion_rrhh:void 0,comentario:""};ngOnInit(){this.cargarAplicaciones()}cargarAplicaciones(){this.cargando=!0;let t=P({},this.filtros);Object.keys(t).forEach(e=>{t[e]||delete t[e]}),this.postulacionesService.getAplicacionesPorEmpresa(t).subscribe({next:e=>{this.aplicaciones=e,this.cargando=!1},error:e=>{console.error("Error al cargar aplicaciones:",e),this.cargando=!1}})}aplicarFiltros(){this.cargarAplicaciones()}limpiarFiltros(){this.filtros={empleo_id:"",status:"",fecha_desde:"",fecha_hasta:""},this.cargarAplicaciones()}verDetalleCandidato(t){this.postulacionesService.getDetalleAplicacion(t.id).subscribe({next:e=>{this.aplicacionSeleccionada=e,this.mostrarDetalle=!0},error:e=>{console.error("Error al cargar detalle:",e)}})}cerrarDetalle(){this.mostrarDetalle=!1,this.aplicacionSeleccionada=null}abrirModalEstado(t){this.aplicacionSeleccionada=t,this.actualizacionEstado={status:t.status,notas_rrhh:t.notas_rrhh||"",puntuacion_rrhh:t.puntuacion_rrhh,comentario:""},this.mostrarModalEstado=!0}cerrarModalEstado(){this.mostrarModalEstado=!1,this.aplicacionSeleccionada=null}actualizarEstado(){this.aplicacionSeleccionada&&(this.cargando=!0,this.postulacionesService.actualizarEstadoAplicacion(this.aplicacionSeleccionada.id,this.actualizacionEstado).subscribe({next:t=>{t.success?(alert(t.message),this.cerrarModalEstado(),this.cargarAplicaciones()):alert(t.message),this.cargando=!1},error:t=>{console.error("Error al actualizar estado:",t),alert("Error al actualizar el estado"),this.cargando=!1}}))}obtenerColorEstado(t){let r=this.estados.find(i=>i.valor===t)?.color||"gray";return`bg-${r}-100 text-${r}-800 border-${r}-200`}contarPorEstado(t){return this.aplicaciones.filter(e=>e.status===t).length}getStatusDescription(t){return this.postulacionesService.getStatusDescription(t)}formatearSalario(t){return this.postulacionesService.formatearSalario(t)}static \u0275fac=function(e){return new(e||n)(R(Dr))};static \u0275cmp=le({type:n,selectors:[["app-revisar-candidatos"]],standalone:!1,decls:70,vars:15,consts:[["estadoForm","ngForm"],[1,"min-h-screen","bg-gray-50","py-6"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-6","gap-4","mb-6"],[1,"bg-white","rounded-lg","shadow","p-4"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold","text-yellow-600"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-purple-600"],[1,"text-2xl","font-bold","text-green-700"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-end"],[1,"space-x-2"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700",3,"click"],[1,"fas","fa-search","mr-2"],[1,"px-4","py-2","border","border-gray-300","text-gray-700","rounded-md","hover:bg-gray-50",3,"click"],[1,"fas","fa-broom","mr-2"],["class","text-center py-12",4,"ngIf"],["class","space-y-4",4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",4,"ngIf"],[3,"value"],[1,"text-center","py-12"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-blue-500","mb-4"],[1,"text-gray-600"],[1,"space-y-4"],["class","bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-300"],[1,"p-6"],[1,"flex","items-start","justify-between"],[1,"flex","items-start","space-x-4","flex-1"],[1,"flex-shrink-0"],["alt","Foto del candidato","class","w-12 h-12 rounded-full object-cover",3,"src",4,"ngIf"],["class","w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mb-1"],[1,"font-medium"],[1,"text-sm","text-gray-500","mb-2"],[1,"fas","fa-envelope","mr-1"],["class","ml-4",4,"ngIf"],[1,"flex","items-center","space-x-4","text-sm","text-gray-500","mb-3"],[1,"fas","fa-calendar","mr-1"],[1,"fas","fa-clock","mr-1"],[4,"ngIf"],[1,"flex","items-center","space-x-3"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium",3,"ngClass"],["class","inline-flex items-center text-sm text-gray-600",4,"ngIf"],[1,"flex","items-center","space-x-2","ml-4"],[1,"px-3","py-2","text-blue-600","hover:text-blue-800","text-sm","font-medium",3,"click"],[1,"fas","fa-eye","mr-1"],[1,"px-3","py-2","bg-green-600","text-white","text-sm","rounded-md","hover:bg-green-700",3,"click"],[1,"fas","fa-edit","mr-1"],["class","mt-4 p-3 bg-gray-50 rounded-lg",4,"ngIf"],["class","mt-4 p-3 bg-blue-50 rounded-lg",4,"ngIf"],["alt","Foto del candidato",1,"w-12","h-12","rounded-full","object-cover",3,"src"],[1,"w-12","h-12","rounded-full","bg-gray-300","flex","items-center","justify-center"],[1,"fas","fa-user","text-gray-600"],[1,"ml-4"],[1,"fas","fa-phone","mr-1"],[1,"fas","fa-file-alt","mr-1"],[1,"inline-flex","items-center","text-sm","text-gray-600"],[1,"fas","fa-star","text-yellow-400","mr-1"],[1,"fas","fa-money-bill-wave","mr-1"],[1,"mt-4","p-3","bg-gray-50","rounded-lg"],[1,"text-sm","font-medium","text-gray-900","mb-1"],[1,"text-sm","text-gray-700","line-clamp-3"],[1,"mt-4","p-3","bg-blue-50","rounded-lg"],[1,"text-sm","text-gray-700"],[1,"fas","fa-users","text-6xl","text-gray-300","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"relative","top-20","mx-auto","p-5","border","w-11/12","md:w-1/2","shadow-lg","rounded-md","bg-white"],[1,"flex","items-center","justify-between","pb-4","border-b"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],[1,"mt-4"],[1,"bg-gray-50","p-4","rounded-lg","mb-6"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[3,"ngSubmit"],[1,"mb-4"],["for","status",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["id","status","name","status","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","puntuacion_rrhh",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","puntuacion_rrhh","name","puntuacion_rrhh","min","1","max","10","placeholder","Puntuaci\xF3n del 1 al 10",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","notas_rrhh",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","notas_rrhh","name","notas_rrhh","rows","4","placeholder","Comentarios sobre el candidato...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"mb-6"],["for","comentario",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","comentario","name","comentario","rows","3","placeholder","Raz\xF3n del cambio de estado...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-end","space-x-4","pt-4","border-t"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","text-sm","rounded-md","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"fas","fa-spinner","fa-spin","mr-2"],[1,"fas","fa-save","mr-2"],[1,"relative","top-4","mx-auto","p-4","border","w-11/12","max-w-6xl","shadow-lg","rounded-md","bg-white","mb-8"],[1,"flex","items-center","justify-between","pb-4","border-b","bg-white","sticky","top-0","z-10"],[1,"flex","items-center"],["alt","Foto del candidato","class","w-12 h-12 rounded-full object-cover mr-4",3,"src",4,"ngIf"],["class","w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center mr-4",4,"ngIf"],[1,"text-xl","font-semibold","text-gray-900"],[1,"px-4","py-2","bg-green-600","text-white","text-sm","rounded-md","hover:bg-green-700",3,"click"],[1,"fas","fa-edit","mr-2"],[1,"text-gray-400","hover:text-gray-600","text-xl",3,"click"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6","mt-6"],[1,"lg:col-span-1","space-y-6"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"fas","fa-file-alt","mr-2"],[1,"space-y-3"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-sm","text-gray-900"],["class","bg-blue-50 rounded-lg p-4",4,"ngIf"],[1,"bg-white","border","rounded-lg","p-4"],[1,"fas","fa-address-card","mr-2"],[1,"space-y-2"],[1,"lg:col-span-2","space-y-6"],["class","bg-white border rounded-lg p-6",4,"ngIf"],[1,"mt-6","pt-4","border-t","bg-gray-50","rounded-b-md"],[1,"flex","justify-between","items-center"],[1,"flex","space-x-3"],[1,"px-4","py-2","bg-blue-600","text-white","text-sm","rounded-md","hover:bg-blue-700",3,"click"],["alt","Foto del candidato",1,"w-12","h-12","rounded-full","object-cover","mr-4",3,"src"],[1,"w-12","h-12","rounded-full","bg-gray-300","flex","items-center","justify-center","mr-4"],[1,"text-sm","text-gray-900","whitespace-pre-line"],[1,"text-lg","font-bold","text-blue-600","mr-2"],[1,"flex"],["class","fas fa-star text-sm",3,"text-yellow-400","text-gray-300",4,"ngFor","ngForOf"],[1,"fas","fa-star","text-sm"],[1,"bg-blue-50","rounded-lg","p-4"],[1,"fas","fa-envelope","mr-2"],[1,"text-sm","text-gray-800","whitespace-pre-line","leading-relaxed"],[1,"text-blue-600","hover:text-blue-800",3,"href"],[1,"bg-white","border","rounded-lg","p-6"],[1,"fas","fa-briefcase","mr-2"],["class","border-l-4 border-blue-500 pl-4 pb-4",3,"border-b",4,"ngFor","ngForOf"],[1,"border-l-4","border-blue-500","pl-4","pb-4"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-sm","font-medium","text-gray-700","mb-1"],["class","text-sm text-gray-600",4,"ngIf"],[1,"fas","fa-graduation-cap","mr-2"],["class","border-l-4 border-green-500 pl-4 pb-4",3,"border-b",4,"ngFor","ngForOf"],[1,"border-l-4","border-green-500","pl-4","pb-4"],[1,"fas","fa-language","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","flex items-center justify-between p-3 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-lg"],[1,"font-medium","text-gray-900"],[1,"fas","fa-certificate","mr-2"],["class","p-3 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"p-3","bg-gray-50","rounded-lg"],[1,"fas","fa-users","mr-2"],[1,"text-sm","text-blue-600"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),d(4,"Revisar Candidatos"),l(),a(5,"p",5),d(6,"Gestiona las aplicaciones recibidas"),l()(),a(7,"div",6)(8,"div",7)(9,"div",8),d(10),l(),a(11,"div",9),d(12,"Total"),l()(),a(13,"div",7)(14,"div",10),d(15),l(),a(16,"div",9),d(17,"Pendientes"),l()(),a(18,"div",7)(19,"div",8),d(20),l(),a(21,"div",9),d(22,"Revisados"),l()(),a(23,"div",7)(24,"div",11),d(25),l(),a(26,"div",9),d(27,"Preseleccionados"),l()(),a(28,"div",7)(29,"div",12),d(30),l(),a(31,"div",9),d(32,"En Entrevista"),l()(),a(33,"div",7)(34,"div",13),d(35),l(),a(36,"div",9),d(37,"Contratados"),l()()(),a(38,"div",14)(39,"h2",15),d(40,"Filtros"),l(),a(41,"div",16)(42,"div")(43,"label",17),d(44,"Estado"),l(),a(45,"select",18),A("ngModelChange",function(o){return O(r.filtros.status,o)||(r.filtros.status=o),o}),a(46,"option",19),d(47,"Todos los estados"),l(),x(48,jO,2,2,"option",20),l()(),a(49,"div")(50,"label",17),d(51,"Desde"),l(),a(52,"input",21),A("ngModelChange",function(o){return O(r.filtros.fecha_desde,o)||(r.filtros.fecha_desde=o),o}),l()(),a(53,"div")(54,"label",17),d(55,"Hasta"),l(),a(56,"input",21),A("ngModelChange",function(o){return O(r.filtros.fecha_hasta,o)||(r.filtros.fecha_hasta=o),o}),l()(),a(57,"div",22)(58,"div",23)(59,"button",24),E("click",function(){return r.aplicarFiltros()}),_(60,"i",25),d(61,"Buscar "),l(),a(62,"button",26),E("click",function(){return r.limpiarFiltros()}),_(63,"i",27),d(64,"Limpiar "),l()()()()(),x(65,UO,4,0,"div",28)(66,QO,2,1,"div",29)(67,KO,6,0,"div",28),l()(),x(68,tP,43,14,"div",30)(69,EP,61,26,"div",30)),e&2&&(p(10),M(r.aplicaciones.length),p(5),M(r.contarPorEstado("pendiente")),p(5),M(r.contarPorEstado("revisado")),p(5),M(r.contarPorEstado("preseleccionado")),p(5),M(r.contarPorEstado("entrevista")),p(5),M(r.contarPorEstado("contratado")),p(10),k("ngModel",r.filtros.status),p(3),h("ngForOf",r.estados),p(4),k("ngModel",r.filtros.fecha_desde),p(4),k("ngModel",r.filtros.fecha_hasta),p(9),h("ngIf",r.cargando),p(),h("ngIf",!r.cargando),p(),h("ngIf",!r.cargando&&r.aplicaciones.length===0),p(),h("ngIf",r.mostrarModalEstado&&r.aplicacionSeleccionada),p(),h("ngIf",r.mostrarDetalle&&r.aplicacionSeleccionada))},dependencies:[st,Ce,pe,Ye,et,tt,Ee,pi,Ze,Te,qe,Ue,fi,ya,Ie,je,hs,ms,nr],encapsulation:2})};var SP=[{path:"",component:ba},{path:"home",component:ba},{path:"login",component:Id},{path:"register",component:Dd},{path:"",component:Ad,canActivate:[wt],children:[{path:"dashboard",component:Td},{path:"usuarios",component:kd,canActivate:[da],data:{permissions:["view","admin"],profiles:[1,3]}},{path:"empresas",component:Fd,canActivate:[da],data:{permissions:["view","admin"],profiles:[1,3]}},{path:"gestionar-empresas",component:Rd,canActivate:[vn],data:{profiles:[1,3]}},{path:"empleos",children:[{path:"",redirectTo:"lista",pathMatch:"full"},{path:"lista",component:hi,canActivate:[vn],data:{title:"Gesti\xF3n de Empleos",profiles:[1,3]}},{path:"crear",component:hi,canActivate:[vn],data:{title:"Crear Empleo",profiles:[1,3],mode:"create"}},{path:"editar/:id",component:hi,canActivate:[vn],data:{title:"Editar Empleo",profiles:[1,3],mode:"edit"}},{path:"ver/:id",component:hi,canActivate:[vn],data:{title:"Ver Empleo",profiles:[1,3],mode:"view"}},{path:"revisar-candidatos",component:Eo,canActivate:[vn],data:{title:"Revisar Candidatos",description:"Gestiona las aplicaciones recibidas",profiles:[1,3]}}]},{path:"cv",children:[{path:"",redirectTo:"mis-cvs",pathMatch:"full"},{path:"mis-cvs",component:Od,canActivate:[wt],data:{title:"Mis CVs",breadcrumb:"Mis CVs"}},{path:"crear",component:mi,canActivate:[wt],data:{title:"Crear CV",breadcrumb:"Crear CV"}},{path:"editar/:id",component:mi,canActivate:[wt],data:{title:"Editar CV",breadcrumb:"Editar CV"}},{path:"ver/:id",component:Pd,canActivate:[wt],data:{title:"Ver CV",breadcrumb:"Ver CV"}}]},{path:"postulaciones",children:[{path:"",redirectTo:"mis-aplicaciones",pathMatch:"full"},{path:"mis-aplicaciones",component:Vd,canActivate:[wt],data:{title:"Mis Aplicaciones",description:"Seguimiento de tus postulaciones enviadas"}},{path:"buscar-empleos",component:gi,canActivate:[wt],data:{title:"Buscar Empleos",description:"Encuentra tu pr\xF3xima oportunidad laboral"}},{path:"revisar-candidatos",component:Eo,canActivate:[vn],data:{title:"Revisar Candidatos",description:"Gestiona las aplicaciones recibidas",profiles:[1,3]}},{path:"empleo/:id",component:gi,canActivate:[wt],data:{title:"Detalle del Empleo",mode:"detail"}},{path:"categoria/:categoria",component:gi,canActivate:[wt],data:{title:"Empleos por Categor\xEDa",mode:"category"}},{path:"empresa/:empresaId",component:gi,canActivate:[wt],data:{title:"Empleos por Empresa",mode:"company"}},{path:"revisar-candidatos1",component:Eo,canActivate:[vn],data:{title:"Revisar Candidatos",description:"Gestiona las aplicaciones recibidas",profiles:[1,3]}}]},{path:"perfil",children:[{path:"",redirectTo:"mi-perfil",pathMatch:"full"},{path:"mi-perfil",component:mi,canActivate:[wt],data:{title:"Mi Perfil"}},{path:"cambiar-password",component:mi,canActivate:[wt],data:{title:"Cambiar Contrase\xF1a"}}]}]},{path:"**",redirectTo:"/"}],Ld=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({imports:[zc.forRoot(SP,{enableTracing:!1,scrollPositionRestoration:"top",anchorScrolling:"enabled",onSameUrlNavigation:"reload"}),zc]})};var jd=class n{title="simplifika";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=le({type:n,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(e,r){e&1&&_(0,"router-outlet")},dependencies:[Jr],encapsulation:2})};var Ud=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ut({type:n,bootstrap:[jd]});static \u0275inj=dt({imports:[Zf,Ld,Lb,jb]})};Yf().bootstrapModule(Ud,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
