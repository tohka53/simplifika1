import{a as P,b as G,c as Un,d as Rb,e as Vb,f as y,h as nh,i as rh,l as Lb,m as ih}from"./chunk-PZ5UXJ7I.js";var Sm=Un(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});var Cm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Em.default=Cm});var Im=Un(Us=>{"use strict";var Y1=Us&&Us.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Us,"__esModule",{value:!0});var $D=Y1((ih(),Vb(Lb))),HD=Y1(Sm()),Mm=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=$D.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>y(this,null,function*(){var s,c,u;let f=null,m=null,v=null,S=o.status,b=o.statusText;if(o.ok){if(this.method!=="HEAD"){let z=yield o.text();z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=z:m=JSON.parse(z))}let R=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),j=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");R&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,S=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{let R=yield o.text();try{f=JSON.parse(R),Array.isArray(f)&&o.status===404&&(m=[],f=null,S=200,b="OK")}catch{o.status===404&&R===""?(S=204,b="No Content"):f={message:R}}if(f&&this.isMaybeSingle&&(!((u=f?.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,S=200,b="OK"),f&&this.shouldThrowOnError)throw new HD.default(f)}return{error:f,data:m,count:v,status:S,statusText:b}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,c,u;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(c=o?.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(u=o?.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}};Us.default=Mm});var Tm=Un(Bs=>{"use strict";var zD=Bs&&Bs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bs,"__esModule",{value:!0});var GD=zD(Im()),Dm=class extends GD.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",c=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var c;let u=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${f}"; options=${u};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Bs.default=Dm});var Hc=Un($s=>{"use strict";var WD=$s&&$s.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($s,"__esModule",{value:!0});var qD=WD(Tm()),km=class extends qD.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};$s.default=km});var Om=Un(zs=>{"use strict";var YD=zs&&zs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zs,"__esModule",{value:!0});var Hs=YD(Hc()),Am=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=e,this.schema=r,this.fetch=i}select(t,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Hs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(s.length>0){let c=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Hs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){let u=t.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(u.length>0){let f=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new Hs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new Hs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Hs.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zs.default=Am});var Z1=Un(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.version=void 0;zc.version="0.0.0-automated"});var Q1=Un(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.DEFAULT_HEADERS=void 0;var ZD=Z1();Gc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ZD.version}`}});var J1=Un(Gs=>{"use strict";var K1=Gs&&Gs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Gs,"__esModule",{value:!0});var QD=K1(Om()),KD=K1(Hc()),JD=Q1(),Pm=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},JD.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new QD.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){let s,c=new URL(`${this.url}/rpc/${t}`),u;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{c.searchParams.append(m,v)})):(s="POST",u=e);let f=Object.assign({},this.headers);return o&&(f.Prefer=`count=${o}`),new KD.default({method:s,url:c,headers:f,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Gs.default=Pm});var oy=Un(at=>{"use strict";var lo=at&&at.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(at,"__esModule",{value:!0});at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;var X1=lo(J1());at.PostgrestClient=X1.default;var ey=lo(Om());at.PostgrestQueryBuilder=ey.default;var ty=lo(Hc());at.PostgrestFilterBuilder=ty.default;var ny=lo(Tm());at.PostgrestTransformBuilder=ny.default;var ry=lo(Im());at.PostgrestBuilder=ry.default;var iy=lo(Sm());at.PostgrestError=iy.default;at.default={PostgrestClient:X1.default,PostgrestQueryBuilder:ey.default,PostgrestFilterBuilder:ty.default,PostgrestTransformBuilder:ny.default,PostgrestBuilder:ry.default,PostgrestError:iy.default}});function $d(n,t){return Object.is(n,t)}var Qe=null,_a=!1,Hd=1,Qt=Symbol("SIGNAL");function re(n){let t=Qe;return Qe=n,t}function zd(){return Qe}var Eo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function So(n){if(_a)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(n);let t=Qe.nextProducerIndex++;if(wa(Qe),t<Qe.producerNode.length&&Qe.producerNode[t]!==n&&Co(Qe)){let e=Qe.producerNode[t];xa(e,Qe.producerIndexOfThis[t])}Qe.producerNode[t]!==n&&(Qe.producerNode[t]=n,Qe.producerIndexOfThis[t]=Co(Qe)?sh(n,Qe,t):0),Qe.producerLastReadVersion[t]=n.version}function oh(){Hd++}function Gd(n){if(!(Co(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Hd)){if(!n.producerMustRecompute(n)&&!Zd(n)){Bd(n);return}n.producerRecomputeValue(n),Bd(n)}}function Wd(n){if(n.liveConsumerNode===void 0)return;let t=_a;_a=!0;try{for(let e of n.liveConsumerNode)e.dirty||jb(e)}finally{_a=t}}function qd(){return Qe?.consumerAllowSignalWrites!==!1}function jb(n){n.dirty=!0,Wd(n),n.consumerMarkedDirty?.(n)}function Bd(n){n.dirty=!1,n.lastCleanEpoch=Hd}function ba(n){return n&&(n.nextProducerIndex=0),re(n)}function Yd(n,t){if(re(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Co(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)xa(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Zd(n){wa(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(Gd(e),r!==e.version))return!0}return!1}function Qd(n){if(wa(n),Co(n))for(let t=0;t<n.producerNode.length;t++)xa(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function sh(n,t,e){if(ah(n),n.liveConsumerNode.length===0&&lh(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=sh(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function xa(n,t){if(ah(n),n.liveConsumerNode.length===1&&lh(n))for(let r=0;r<n.producerNode.length;r++)xa(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];wa(i),i.producerIndexOfThis[r]=t}}function Co(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ah(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function lh(n){return n.producerNode!==void 0}function Kd(n,t){let e=Object.create(Ub);e.computation=n,t!==void 0&&(e.equal=t);let r=()=>{if(Gd(e),So(e),e.value===ya)throw e.error;return e.value};return r[Qt]=e,r}var jd=Symbol("UNSET"),Ud=Symbol("COMPUTING"),ya=Symbol("ERRORED"),Ub=G(P({},Eo),{value:jd,dirty:!0,error:null,equal:$d,kind:"computed",producerMustRecompute(n){return n.value===jd||n.value===Ud},producerRecomputeValue(n){if(n.value===Ud)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Ud;let e=ba(n),r,i=!1;try{r=n.computation(),re(null),i=t!==jd&&t!==ya&&r!==ya&&n.equal(t,r)}catch(o){r=ya,n.error=o}finally{Yd(n,e)}if(i){n.value=t;return}n.value=r,n.version++}});function Bb(){throw new Error}var ch=Bb;function dh(n){ch(n)}function Jd(n){ch=n}var $b=null;function Xd(n,t){let e=Object.create(Ca);e.value=n,t!==void 0&&(e.equal=t);let r=()=>(So(e),e.value);return r[Qt]=e,r}function Mo(n,t){qd()||dh(n),n.equal(n.value,t)||(n.value=t,Hb(n))}function eu(n,t){qd()||dh(n),Mo(n,t(n.value))}var Ca=G(P({},Eo),{equal:$d,value:void 0,kind:"signal"});function Hb(n){n.version++,oh(),Wd(n),$b?.()}function tu(n){let t=re(null);try{return n()}finally{re(t)}}var nu;function Io(){return nu}function Bn(n){let t=nu;return nu=n,t}var Ea=Symbol("NotFound");function Q(n){return typeof n=="function"}function gi(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Sa=gi(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Do(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Te=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){t=o instanceof Sa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{uh(o)}catch(s){t=t??[],s instanceof Sa?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Sa(t)}}add(t){var e;if(t&&t!==this)if(this.closed)uh(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Do(e,t)}remove(t){let{_finalizers:e}=this;e&&Do(e,t),t instanceof n&&t._removeParent(this)}};Te.EMPTY=(()=>{let n=new Te;return n.closed=!0,n})();var ru=Te.EMPTY;function Ma(n){return n instanceof Te||n&&"closed"in n&&Q(n.remove)&&Q(n.add)&&Q(n.unsubscribe)}function uh(n){Q(n)?n():n.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vi={setTimeout(n,t,...e){let{delegate:r}=vi;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=vi;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ia(n){vi.setTimeout(()=>{let{onUnhandledError:t}=ln;if(t)t(n);else throw n})}function To(){}var ph=iu("C",void 0,void 0);function fh(n){return iu("E",void 0,n)}function mh(n){return iu("N",n,void 0)}function iu(n,t,e){return{kind:n,value:t,error:e}}var Ir=null;function _i(n){if(ln.useDeprecatedSynchronousErrorHandling){let t=!Ir;if(t&&(Ir={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Ir;if(Ir=null,e)throw r}}else n()}function hh(n){ln.useDeprecatedSynchronousErrorHandling&&Ir&&(Ir.errorThrown=!0,Ir.error=n)}var Dr=class extends Te{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ma(t)&&t.add(this)):this.destination=Zb}static create(t,e,r){return new yi(t,e,r)}next(t){this.isStopped?su(mh(t),this):this._next(t)}error(t){this.isStopped?su(fh(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?su(ph,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qb=Function.prototype.bind;function ou(n,t){return qb.call(n,t)}var au=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Da(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Da(r)}else Da(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Da(e)}}},yi=class extends Dr{constructor(t,e,r){super();let i;if(Q(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&ln.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ou(t.next,o),error:t.error&&ou(t.error,o),complete:t.complete&&ou(t.complete,o)}):i=t}this.destination=new au(i)}};function Da(n){ln.useDeprecatedSynchronousErrorHandling?hh(n):Ia(n)}function Yb(n){throw n}function su(n,t){let{onStoppedNotification:e}=ln;e&&vi.setTimeout(()=>e(n,t))}var Zb={closed:!0,next:To,error:Yb,complete:To};var bi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(n){return n}function lu(...n){return cu(n)}function cu(n){return n.length===0?Bt:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var me=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=Kb(e)?e:new yi(e,r,i);return _i(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=gh(r),new r((i,o)=>{let s=new yi({next:c=>{try{e(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[bi](){return this}pipe(...e){return cu(e)(this)}toPromise(e){return e=gh(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function gh(n){var t;return(t=n??ln.Promise)!==null&&t!==void 0?t:Promise}function Qb(n){return n&&Q(n.next)&&Q(n.error)&&Q(n.complete)}function Kb(n){return n&&n instanceof Dr||Qb(n)&&Ma(n)}function du(n){return Q(n?.lift)}function ae(n){return t=>{if(du(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(n,t,e,r,i){return new uu(n,t,e,r,i)}var uu=class extends Dr{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(c){try{e(c)}catch(u){t.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function xi(){return ae((n,t)=>{let e=null;n._refCount++;let r=ie(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var wi=class extends me{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,du(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Te;let e=this.getSubject();t.add(this.source.subscribe(ie(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Te.EMPTY)}return t}refCount(){return xi()(this)}};var vh=gi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Ta(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new vh}next(e){_i(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){_i(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){_i(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ru:(this.currentObservers=null,o.push(e),new Te(()=>{this.currentObservers=null,Do(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new me;return e.source=this,e}}return n.create=(t,e)=>new Ta(t,e),n})(),Ta=class extends Re{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:ru}};var Oe=class extends Re{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Ct=new me(n=>n.complete());function _h(n){return n&&Q(n.schedule)}function yh(n){return n[n.length-1]}function ka(n){return Q(yh(n))?n.pop():void 0}function ar(n){return _h(yh(n))?n.pop():void 0}function xh(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})}function bh(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tr(n){return this instanceof Tr?(this.v=n,this):new Tr(n)}function wh(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(D){return Promise.resolve(D).then(b,v)}}function c(b,D){r[b]&&(i[b]=function(R){return new Promise(function(j,z){o.push([b,R,j,z])>1||u(b,R)})},D&&(i[b]=D(i[b])))}function u(b,D){try{f(r[b](D))}catch(R){S(o[0][3],R)}}function f(b){b.value instanceof Tr?Promise.resolve(b.value.v).then(m,v):S(o[0][2],b)}function m(b){u("next",b)}function v(b){u("throw",b)}function S(b,D){b(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Ch(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof bh=="function"?bh(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(f){o({value:f,done:c})},s)}}var Aa=n=>n&&typeof n.length=="number"&&typeof n!="function";function Oa(n){return Q(n?.then)}function Pa(n){return Q(n[bi])}function Fa(n){return Symbol.asyncIterator&&Q(n?.[Symbol.asyncIterator])}function Na(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Jb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ra=Jb();function Va(n){return Q(n?.[Ra])}function La(n){return wh(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield Tr(e.read());if(i)return yield Tr(void 0);yield yield Tr(r)}}finally{e.releaseLock()}})}function ja(n){return Q(n?.getReader)}function Be(n){if(n instanceof me)return n;if(n!=null){if(Pa(n))return Xb(n);if(Aa(n))return ex(n);if(Oa(n))return tx(n);if(Fa(n))return Eh(n);if(Va(n))return nx(n);if(ja(n))return rx(n)}throw Na(n)}function Xb(n){return new me(t=>{let e=n[bi]();if(Q(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ex(n){return new me(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function tx(n){return new me(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ia)})}function nx(n){return new me(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function Eh(n){return new me(t=>{ix(n,t).catch(e=>t.error(e))})}function rx(n){return Eh(La(n))}function ix(n,t){var e,r,i,o;return xh(this,void 0,void 0,function*(){try{for(e=Ch(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function Et(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ua(n,t=0){return ae((e,r)=>{e.subscribe(ie(r,i=>Et(r,n,()=>r.next(i),t),()=>Et(r,n,()=>r.complete(),t),i=>Et(r,n,()=>r.error(i),t)))})}function Ba(n,t=0){return ae((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Sh(n,t){return Be(n).pipe(Ba(t),Ua(t))}function Mh(n,t){return Be(n).pipe(Ba(t),Ua(t))}function Ih(n,t){return new me(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function Dh(n,t){return new me(e=>{let r;return Et(e,t,()=>{r=n[Ra](),Et(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function $a(n,t){if(!n)throw new Error("Iterable cannot be null");return new me(e=>{Et(e,t,()=>{let r=n[Symbol.asyncIterator]();Et(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Th(n,t){return $a(La(n),t)}function kh(n,t){if(n!=null){if(Pa(n))return Sh(n,t);if(Aa(n))return Ih(n,t);if(Oa(n))return Mh(n,t);if(Fa(n))return $a(n,t);if(Va(n))return Dh(n,t);if(ja(n))return Th(n,t)}throw Na(n)}function oe(n,t){return t?kh(n,t):Be(n)}function q(...n){let t=ar(n);return oe(n,t)}function Ci(n,t){let e=Q(n)?n:()=>n,r=i=>i.error(e());return new me(t?i=>t.schedule(r,0,i):r)}function pu(n){return!!n&&(n instanceof me||Q(n.lift)&&Q(n.subscribe))}var $n=gi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function se(n,t){return ae((e,r)=>{let i=0;e.subscribe(ie(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:ox}=Array;function sx(n,t){return ox(t)?n(...t):n(t)}function Ha(n){return se(t=>sx(n,t))}var{isArray:ax}=Array,{getPrototypeOf:lx,prototype:cx,keys:dx}=Object;function za(n){if(n.length===1){let t=n[0];if(ax(t))return{args:t,keys:null};if(ux(t)){let e=dx(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function ux(n){return n&&typeof n=="object"&&lx(n)===cx}function Ga(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function ko(...n){let t=ar(n),e=ka(n),{args:r,keys:i}=za(n);if(r.length===0)return oe([],t);let o=new me(px(r,t,i?s=>Ga(i,s):Bt));return e?o.pipe(Ha(e)):o}function px(n,t,e=Bt){return r=>{Ah(t,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)Ah(t,()=>{let f=oe(n[u],t),m=!1;f.subscribe(ie(r,v=>{o[u]=v,m||(m=!0,c--),c||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ah(n,t,e){n?Et(e,n,t):t()}function Oh(n,t,e,r,i,o,s,c){let u=[],f=0,m=0,v=!1,S=()=>{v&&!u.length&&!f&&t.complete()},b=R=>f<r?D(R):u.push(R),D=R=>{o&&t.next(R),f++;let j=!1;Be(e(R,m++)).subscribe(ie(t,z=>{i?.(z),o?b(z):t.next(z)},()=>{j=!0},void 0,()=>{if(j)try{for(f--;u.length&&f<r;){let z=u.shift();s?Et(t,s,()=>D(z)):D(z)}S()}catch(z){t.error(z)}}))};return n.subscribe(ie(t,b,()=>{v=!0,S()})),()=>{c?.()}}function Ve(n,t,e=1/0){return Q(t)?Ve((r,i)=>se((o,s)=>t(r,o,i,s))(Be(n(r,i))),e):(typeof t=="number"&&(e=t),ae((r,i)=>Oh(r,i,n,e)))}function lr(n=1/0){return Ve(Bt,n)}function Ph(){return lr(1)}function Ei(...n){return Ph()(oe(n,ar(n)))}function Wa(n){return new me(t=>{Be(n()).subscribe(t)})}function fu(...n){let t=ka(n),{args:e,keys:r}=za(n),i=new me(o=>{let{length:s}=e;if(!s){o.complete();return}let c=new Array(s),u=s,f=s;for(let m=0;m<s;m++){let v=!1;Be(e[m]).subscribe(ie(o,S=>{v||(v=!0,f--),c[m]=S},()=>u--,void 0,()=>{(!u||!v)&&(f||o.next(r?Ga(r,c):c),o.complete())}))}});return t?i.pipe(Ha(t)):i}function nt(n,t){return ae((e,r)=>{let i=0;e.subscribe(ie(r,o=>n.call(t,o,i++)&&r.next(o)))})}function Hn(n){return ae((t,e)=>{let r=null,i=!1,o;r=t.subscribe(ie(e,void 0,void 0,s=>{o=Be(n(s,Hn(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Fh(n,t,e,r,i){return(o,s)=>{let c=e,u=t,f=0;o.subscribe(ie(s,m=>{let v=f++;u=c?n(u,m,v):(c=!0,m),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function cr(n,t){return Q(t)?Ve(n,t,1):Ve(n,1)}function dr(n){return ae((t,e)=>{let r=!1;t.subscribe(ie(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function zn(n){return n<=0?()=>Ct:ae((t,e)=>{let r=0;t.subscribe(ie(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function qa(n=fx){return ae((t,e)=>{let r=!1;t.subscribe(ie(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function fx(){return new $n}function Ao(n){return ae((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Gn(n,t){let e=arguments.length>=2;return r=>r.pipe(n?nt((i,o)=>n(i,o,r)):Bt,zn(1),e?dr(t):qa(()=>new $n))}function Si(n){return n<=0?()=>Ct:ae((t,e)=>{let r=[];t.subscribe(ie(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function mu(n,t){let e=arguments.length>=2;return r=>r.pipe(n?nt((i,o)=>n(i,o,r)):Bt,Si(1),e?dr(t):qa(()=>new $n))}function hu(n,t){return ae(Fh(n,t,arguments.length>=2,!0))}function gu(...n){let t=ar(n);return ae((e,r)=>{(t?Ei(n,e,t):Ei(n,e)).subscribe(r)})}function Kt(n,t){return ae((e,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();e.subscribe(ie(r,u=>{i?.unsubscribe();let f=0,m=o++;Be(n(u,m)).subscribe(i=ie(r,v=>r.next(t?t(u,v,m,f++):v),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function vu(n){return ae((t,e)=>{Be(n).subscribe(ie(e,()=>e.complete(),To)),!e.closed&&t.subscribe(e)})}function rt(n,t,e){let r=Q(n)||t||e?{next:n,error:t,complete:e}:n;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ie(o,u=>{var f;(f=r.next)===null||f===void 0||f.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var f;c=!1,(f=r.error)===null||f===void 0||f.call(r,u),o.error(u)},()=>{var u,f;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):Bt}var C0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(t,e){super(E0(t,e)),this.code=t}};function mx(n){return`NG0${Math.abs(n)}`}function E0(n,t){return`${mx(n)}${t?": "+t:""}`}var S0=Symbol("InputSignalNode#UNSET"),hx=G(P({},Ca),{transformFn:void 0,applyValueToInputSignal(n,t){Mo(n,t)}});function M0(n,t){let e=Object.create(hx);e.value=n,e.transformFn=t?.transform;function r(){if(So(e),e.value===S0){let i=null;throw new $(-950,i)}return e.value}return r[Qt]=e,r}function Go(n){return{toString:n}.toString()}var Ya="__parameters__";function gx(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function I0(n,t,e){return Go(()=>{let r=gx(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,f,m){let v=u.hasOwnProperty(Ya)?u[Ya]:Object.defineProperty(u,Ya,{value:[]})[Ya];for(;v.length<=m;)v.push(null);return(v[m]=v[m]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ht=globalThis;function ye(n){for(let t in n)if(n[t]===ye)return t;throw Error("Could not find renamed property on target object.")}function vx(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function It(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(It).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function Ou(n,t){return n?t?`${n} ${t}`:n:t||""}var _x=ye({__forward_ref__:ye});function At(n){return n.__forward_ref__=At,n.toString=function(){return It(this())},n}function gt(n){return D0(n)?n():n}function D0(n){return typeof n=="function"&&n.hasOwnProperty(_x)&&n.__forward_ref__===At}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ol(n){return Nh(n,k0)||Nh(n,A0)}function T0(n){return Ol(n)!==null}function Nh(n,t){return n.hasOwnProperty(t)?n[t]:null}function yx(n){let t=n&&(n[k0]||n[A0]);return t||null}function Rh(n){return n&&(n.hasOwnProperty(Vh)||n.hasOwnProperty(bx))?n[Vh]:null}var k0=ye({\u0275prov:ye}),Vh=ye({\u0275inj:ye}),A0=ye({ngInjectableDef:ye}),bx=ye({ngInjectorDef:ye}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=B({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function O0(n){return n&&!!n.\u0275providers}var xx=ye({\u0275cmp:ye}),wx=ye({\u0275dir:ye}),Cx=ye({\u0275pipe:ye}),Ex=ye({\u0275mod:ye}),rl=ye({\u0275fac:ye}),No=ye({__NG_ELEMENT_ID__:ye}),Lh=ye({__NG_ENV_ID__:ye});function yn(n){return typeof n=="string"?n:n==null?"":String(n)}function Sx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():yn(n)}function P0(n,t){throw new $(-200,n)}function Sp(n,t){throw new $(-201,!1)}var X=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(X||{}),Pu;function F0(){return Pu}function St(n){let t=Pu;return Pu=n,t}function N0(n,t,e){let r=Ol(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&X.Optional)return null;if(t!==void 0)return t;Sp(n,"Injector")}var Mx={},Ar=Mx,Fu="__NG_DI_FLAG__",il=class{injector;constructor(t){this.injector=t}retrieve(t,e){let r=e;return this.injector.get(t,r.optional?Ea:Ar,r)}},ol="ngTempTokenPath",Ix="ngTokenPath",Dx=/\n/gm,Tx="\u0275",jh="__source";function kx(n,t=X.Default){if(Io()===void 0)throw new $(-203,!1);if(Io()===null)return N0(n,void 0,t);{let e=Io(),r;return e instanceof il?r=e.injector:r=e,r.get(n,t&X.Optional?null:void 0,t)}}function U(n,t=X.Default){return(F0()||kx)(gt(n),t)}function L(n,t=X.Default){return U(n,Pl(t))}function Pl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Nu(n){let t=[];for(let e=0;e<n.length;e++){let r=gt(n[e]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=X.Default;for(let s=0;s<r.length;s++){let c=r[s],u=Ax(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}t.push(U(i,o))}else t.push(U(r))}return t}function R0(n,t){return n[Fu]=t,n.prototype[Fu]=t,n}function Ax(n){return n[Fu]}function Ox(n,t,e,r){let i=n[ol];throw t[jh]&&i.unshift(t[jh]),n.message=Px(`
`+n.message,i,e,r),n[Ix]=i,n[ol]=null,n}function Px(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Tx?n.slice(2):n;let i=It(t);if(Array.isArray(t))i=t.map(It).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let c=t[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):It(c)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(Dx,`
  `)}`}var Fx=R0(I0("Optional"),8);var Nx=R0(I0("SkipSelf"),4);function Pr(n,t){let e=n.hasOwnProperty(rl);return e?n[rl]:null}function Rx(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function Vx(n){return n.flat(Number.POSITIVE_INFINITY)}function Mp(n,t){n.forEach(e=>Array.isArray(e)?Mp(e,t):t(e))}function V0(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function sl(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Lx(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function Ip(n,t,e){let r=Wo(n,t);return r>=0?n[r|1]=e:(r=~r,Lx(n,r,t,e)),r}function _u(n,t){let e=Wo(n,t);if(e>=0)return n[e|1]}function Wo(n,t){return jx(n,t,1)}function jx(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var Fr={},Mt=[],Vo=new H(""),L0=new H("",-1),j0=new H(""),al=class{get(t,e=Ar){if(e===Ar){let r=new Error(`NullInjectorError: No provider for ${It(t)}!`);throw r.name="NullInjectorError",r}return e}};function U0(n,t){let e=n[Ex]||null;if(!e&&t===!0)throw new Error(`Type ${It(n)} does not have '\u0275mod' property.`);return e}function Nr(n){return n[xx]||null}function Ux(n){return n[wx]||null}function Bx(n){return n[Cx]||null}function B0(n){return{\u0275providers:n}}function $x(...n){return{\u0275providers:$0(!0,n),\u0275fromNgModule:!0}}function $0(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return Mp(t,s=>{let c=s;Ru(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&H0(i,o),e}function H0(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];Dp(i,o=>{t(o,r)})}}function Ru(n,t,e,r){if(n=gt(n),!n)return!1;let i=null,o=Rh(n),s=!o&&Nr(n);if(!o&&!s){let u=n.ngModule;if(o=Rh(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let f of u)Ru(f,t,e,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let f;try{Mp(o.imports,m=>{Ru(m,t,e,r)&&(f||=[],f.push(m))})}finally{}f!==void 0&&H0(f,t)}if(!c){let f=Pr(i)||(()=>new i);t({provide:i,useFactory:f,deps:Mt},i),t({provide:j0,useValue:i,multi:!0},i),t({provide:Vo,useValue:()=>U(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let f=n;Dp(u,m=>{t(m,f)})}}else return!1;return i!==n&&n.providers!==void 0}function Dp(n,t){for(let e of n)O0(e)&&(e=e.\u0275providers),Array.isArray(e)?Dp(e,t):t(e)}var Hx=ye({provide:String,useValue:ye});function z0(n){return n!==null&&typeof n=="object"&&Hx in n}function zx(n){return!!(n&&n.useExisting)}function Gx(n){return!!(n&&n.useFactory)}function Oi(n){return typeof n=="function"}function Wx(n){return!!n.useClass}var Fl=new H(""),Ja={},Uh={},yu;function Tp(){return yu===void 0&&(yu=new al),yu}var Dt=class{},Lo=class extends Dt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Lu(t,s=>this.processProvider(s)),this.records.set(L0,Mi(void 0,this)),i.has("environment")&&this.records.set(Dt,Mi(void 0,this));let o=this.records.get(Fl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(j0,Mt,X.Self))}retrieve(t,e){let r=e;return this.get(t,r.optional?Ea:Ar,r)}destroy(){Po(this),this._destroyed=!0;let t=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(t)}}onDestroy(t){return Po(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Po(this);let e=Bn(this),r=St(void 0),i;try{return t()}finally{Bn(e),St(r)}}get(t,e=Ar,r=X.Default){if(Po(this),t.hasOwnProperty(Lh))return t[Lh](this);r=Pl(r);let i,o=Bn(this),s=St(void 0);try{if(!(r&X.SkipSelf)){let u=this.records.get(t);if(u===void 0){let f=Kx(t)&&Ol(t);f&&this.injectableDefInScope(f)?u=Mi(Vu(t),Ja):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,r)}let c=r&X.Self?Tp():this.parent;return e=r&X.Optional&&e===Ar?null:e,c.get(t,e)}catch(c){if(c.name==="NullInjectorError"){if((c[ol]=c[ol]||[]).unshift(It(t)),o)throw c;return Ox(c,t,"R3InjectorError",this.source)}else throw c}finally{St(s),Bn(o)}}resolveInjectorInitializers(){let t=re(null),e=Bn(this),r=St(void 0),i;try{let o=this.get(Vo,Mt,X.Self);for(let s of o)s()}finally{Bn(e),St(r),re(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(It(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=gt(t);let e=Oi(t)?t:gt(t&&t.provide),r=Yx(t);if(!Oi(t)&&t.multi===!0){let i=this.records.get(e);i||(i=Mi(void 0,Ja,!0),i.factory=()=>Nu(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){let i=re(null);try{return e.value===Uh?P0(It(t)):e.value===Ja&&(e.value=Uh,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&Qx(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{re(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=gt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Vu(n){let t=Ol(n),e=t!==null?t.factory:Pr(n);if(e!==null)return e;if(n instanceof H)throw new $(204,!1);if(n instanceof Function)return qx(n);throw new $(204,!1)}function qx(n){if(n.length>0)throw new $(204,!1);let e=yx(n);return e!==null?()=>e.factory(n):()=>new n}function Yx(n){if(z0(n))return Mi(void 0,n.useValue);{let t=G0(n);return Mi(t,Ja)}}function G0(n,t,e){let r;if(Oi(n)){let i=gt(n);return Pr(i)||Vu(i)}else if(z0(n))r=()=>gt(n.useValue);else if(Gx(n))r=()=>n.useFactory(...Nu(n.deps||[]));else if(zx(n))r=(i,o)=>U(gt(n.useExisting),o!==void 0&&o&X.Optional?X.Optional:void 0);else{let i=gt(n&&(n.useClass||n.provide));if(Zx(n))r=()=>new i(...Nu(n.deps));else return Pr(i)||Vu(i)}return r}function Po(n){if(n.destroyed)throw new $(205,!1)}function Mi(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Zx(n){return!!n.deps}function Qx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Kx(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function Lu(n,t){for(let e of n)Array.isArray(e)?Lu(e,t):e&&O0(e)?Lu(e.\u0275providers,t):t(e)}function Xt(n,t){let e;n instanceof Lo?(Po(n),e=n):e=new il(n);let r,i=Bn(e),o=St(void 0);try{return t()}finally{Bn(i),St(o)}}function kp(){return F0()!==void 0||Io()!=null}function Jx(n){if(!kp())throw new $(-203,!1)}function Xx(n){let t=ht.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function ew(n){return typeof n=="function"}var Zn=0,ee=1,Y=2,lt=3,un=4,pn=5,ll=6,cl=7,Tt=8,Pi=9,Wn=10,He=11,jo=12,Bh=13,Ui=14,xn=15,Rr=16,Ii=17,qn=18,Nl=19,W0=20,ur=21,bu=22,dl=23,Jt=24,ki=25,Ht=26,q0=1;var Vr=7,ul=8,Fi=9,$t=10;function pr(n){return Array.isArray(n)&&typeof n[q0]=="object"}function Qn(n){return Array.isArray(n)&&n[q0]===!0}function Y0(n){return(n.flags&4)!==0}function Bi(n){return n.componentOffset>-1}function Ap(n){return(n.flags&1)===1}function wn(n){return!!n.template}function pl(n){return(n[Y]&512)!==0}function $i(n){return(n[Y]&256)===256}var ju=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Z0(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var Kn=(()=>{let n=()=>Q0;return n.ngInherit=!0,n})();function Q0(n){return n.type.prototype.ngOnChanges&&(n.setInput=nw),tw}function tw(){let n=J0(this),t=n?.current;if(t){let e=n.previous;if(e===Fr)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function nw(n,t,e,r,i){let o=this.declaredInputs[r],s=J0(n)||rw(n,{previous:Fr,current:null}),c=s.current||(s.current={}),u=s.previous,f=u[o];c[o]=new ju(f&&f.currentValue,e,u===Fr),Z0(n,t,i,e)}var K0="__ngSimpleChanges__";function J0(n){return n[K0]||null}function rw(n,t){return n[K0]=t}var $h=null;var xe=function(n,t=null,e){$h?.(n,t,e)},X0="svg",iw="math";function Cn(n){for(;Array.isArray(n);)n=n[Zn];return n}function eg(n,t){return Cn(t[n])}function Dn(n,t){return Cn(t[n.index])}function tg(n,t){return n.data[t]}function Op(n,t){return n[t]}function ow(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function En(n,t){let e=t[n];return pr(e)?e:e[Zn]}function sw(n){return(n[Y]&4)===4}function Pp(n){return(n[Y]&128)===128}function aw(n){return Qn(n[lt])}function fl(n,t){return t==null?null:n[t]}function ng(n){n[Ii]=0}function rg(n){n[Y]&1024||(n[Y]|=1024,Pp(n)&&qo(n))}function lw(n,t){for(;n>0;)t=t[Ui],n--;return t}function Rl(n){return!!(n[Y]&9216||n[Jt]?.dirty)}function Uu(n){n[Wn].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),Rl(n)&&qo(n)}function qo(n){n[Wn].changeDetectionScheduler?.notify(0);let t=Lr(n);for(;t!==null&&!(t[Y]&8192||(t[Y]|=8192,!Pp(t)));)t=Lr(t)}function ig(n,t){if($i(n))throw new $(911,!1);n[ur]===null&&(n[ur]=[]),n[ur].push(t)}function cw(n,t){if(n[ur]===null)return;let e=n[ur].indexOf(t);e!==-1&&n[ur].splice(e,1)}function Lr(n){let t=n[lt];return Qn(t)?t[lt]:t}function Fp(n){return n[cl]??=[]}function Np(n){return n.cleanup??=[]}function dw(n,t,e,r){let i=Fp(t);i.push(e),n.firstCreatePass&&Np(n).push(r,i.length-1)}var K={lFrame:fg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bu=!1;function uw(){return K.lFrame.elementDepthCount}function pw(){K.lFrame.elementDepthCount++}function fw(){K.lFrame.elementDepthCount--}function og(){return K.bindingsEnabled}function mw(){return K.skipHydrationRootTNode!==null}function hw(n){return K.skipHydrationRootTNode===n}function gw(){K.skipHydrationRootTNode=null}function te(){return K.lFrame.lView}function it(){return K.lFrame.tView}function x(n){return K.lFrame.contextLView=n,n[Tt]}function w(n){return K.lFrame.contextLView=null,n}function vt(){let n=sg();for(;n!==null&&n.type===64;)n=n.parent;return n}function sg(){return K.lFrame.currentTNode}function vw(){let n=K.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Yo(n,t){let e=K.lFrame;e.currentTNode=n,e.isParent=t}function ag(){return K.lFrame.isParent}function _w(){K.lFrame.isParent=!1}function yw(){return K.lFrame.contextLView}function lg(){return Bu}function Hh(n){let t=Bu;return Bu=n,t}function Hr(){let n=K.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function cg(){return K.lFrame.bindingIndex}function bw(n){return K.lFrame.bindingIndex=n}function Vl(){return K.lFrame.bindingIndex++}function Ll(n){let t=K.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function xw(){return K.lFrame.inI18n}function ww(n,t){let e=K.lFrame;e.bindingIndex=e.bindingRootIndex=n,$u(t)}function Cw(){return K.lFrame.currentDirectiveIndex}function $u(n){K.lFrame.currentDirectiveIndex=n}function Ew(n){let t=K.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function dg(){return K.lFrame.currentQueryIndex}function Rp(n){K.lFrame.currentQueryIndex=n}function Sw(n){let t=n[ee];return t.type===2?t.declTNode:t.type===1?n[pn]:null}function ug(n,t,e){if(e&X.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&X.Host);)if(i=Sw(o),i===null||(o=o[Ui],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=K.lFrame=pg();return r.currentTNode=t,r.lView=n,!0}function Vp(n){let t=pg(),e=n[ee];K.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function pg(){let n=K.lFrame,t=n===null?null:n.child;return t===null?fg(n):t}function fg(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function mg(){let n=K.lFrame;return K.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var hg=mg;function Lp(){let n=mg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Mw(n){return(K.lFrame.contextLView=lw(n,K.lFrame.contextLView))[Tt]}function Jn(){return K.lFrame.selectedIndex}function jr(n){K.lFrame.selectedIndex=n}function jp(){let n=K.lFrame;return tg(n.tView,n.selectedIndex)}function T(){K.lFrame.currentNamespace=X0}function V(){Iw()}function Iw(){K.lFrame.currentNamespace=null}function Dw(){return K.lFrame.currentNamespace}var gg=!0;function Up(){return gg}function Bp(n){gg=n}function Tw(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Q0(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function vg(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:m}=o;s&&(n.contentHooks??=[]).push(-e,s),c&&((n.contentHooks??=[]).push(e,c),(n.contentCheckHooks??=[]).push(e,c)),u&&(n.viewHooks??=[]).push(-e,u),f&&((n.viewHooks??=[]).push(e,f),(n.viewCheckHooks??=[]).push(e,f)),m!=null&&(n.destroyHooks??=[]).push(e,m)}}function Xa(n,t,e){_g(n,t,3,e)}function el(n,t,e,r){(n[Y]&3)===e&&_g(n,t,e,r)}function xu(n,t){let e=n[Y];(e&3)===t&&(e&=16383,e+=1,n[Y]=e)}function _g(n,t,e,r){let i=r!==void 0?n[Ii]&65535:0,o=r??-1,s=t.length-1,c=0;for(let u=i;u<s;u++)if(typeof t[u+1]=="number"){if(c=t[u],r!=null&&c>=r)break}else t[u]<0&&(n[Ii]+=65536),(c<o||o==-1)&&(kw(n,e,t,u),n[Ii]=(n[Ii]&4294901760)+u+2),u++}function zh(n,t){xe(4,n,t);let e=re(null);try{t.call(n)}finally{re(e),xe(5,n,t)}}function kw(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],c=n[s];i?n[Y]>>14<n[Ii]>>16&&(n[Y]&3)===t&&(n[Y]+=16384,zh(c,o)):zh(c,o)}var Ai=-1,Ur=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function Aw(n){return(n.flags&8)!==0}function Ow(n){return(n.flags&16)!==0}function Pw(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],c=e[r++];n.setAttribute(t,s,c,o)}else{let o=i,s=e[++r];Fw(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function yg(n){return n===3||n===4||n===6}function Fw(n){return n.charCodeAt(0)===64}function Uo(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?Gh(n,e,i,null,t[++r]):Gh(n,e,i,null,null))}}return n}function Gh(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===t){s=-1;break}else if(c>t){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===e){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),i!==null&&n.splice(o++,0,i)}function bg(n){return n!==Ai}function ml(n){return n&32767}function Nw(n){return n>>16}function hl(n,t){let e=Nw(n),r=t;for(;e>0;)r=r[Ui],e--;return r}var Hu=!0;function gl(n){let t=Hu;return Hu=n,t}var Rw=256,xg=Rw-1,wg=5,Vw=0,bn={};function Lw(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(No)&&(r=e[No]),r==null&&(r=e[No]=Vw++);let i=r&xg,o=1<<i;t.data[n+(i>>wg)]|=o}function vl(n,t){let e=Cg(n,t);if(e!==-1)return e;let r=t[ee];r.firstCreatePass&&(n.injectorIndex=t.length,wu(r.data,n),wu(t,null),wu(r.blueprint,null));let i=$p(n,t),o=n.injectorIndex;if(bg(i)){let s=ml(i),c=hl(i,t),u=c[ee].data;for(let f=0;f<8;f++)t[o+f]=c[s+f]|u[s+f]}return t[o+8]=i,o}function wu(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Cg(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function $p(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=Dg(i),r===null)return Ai;if(e++,i=i[Ui],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Ai}function zu(n,t,e){Lw(n,t,e)}function jw(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(yg(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function Eg(n,t,e){if(e&X.Optional||n!==void 0)return n;Sp(t,"NodeInjector")}function Sg(n,t,e,r){if(e&X.Optional&&r===void 0&&(r=null),(e&(X.Self|X.Host))===0){let i=n[Pi],o=St(void 0);try{return i?i.get(t,r,e&X.Optional):N0(t,r,e&X.Optional)}finally{St(o)}}return Eg(r,t,e)}function Mg(n,t,e,r=X.Default,i){if(n!==null){if(t[Y]&2048&&!(r&X.Self)){let s=Hw(n,t,e,r,bn);if(s!==bn)return s}let o=Ig(n,t,e,r,bn);if(o!==bn)return o}return Sg(t,e,r,i)}function Ig(n,t,e,r,i){let o=Bw(e);if(typeof o=="function"){if(!ug(t,n,r))return r&X.Host?Eg(i,e,r):Sg(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&X.Optional))Sp(e);else return s}finally{hg()}}else if(typeof o=="number"){let s=null,c=Cg(n,t),u=Ai,f=r&X.Host?t[xn][pn]:null;for((c===-1||r&X.SkipSelf)&&(u=c===-1?$p(n,t):t[c+8],u===Ai||!qh(r,!1)?c=-1:(s=t[ee],c=ml(u),t=hl(u,t)));c!==-1;){let m=t[ee];if(Wh(o,c,m.data)){let v=Uw(c,t,e,s,r,f);if(v!==bn)return v}u=t[c+8],u!==Ai&&qh(r,t[ee].data[c+8]===f)&&Wh(o,c,t)?(s=m,c=ml(u),t=hl(u,t)):c=-1}}return i}function Uw(n,t,e,r,i,o){let s=t[ee],c=s.data[n+8],u=r==null?Bi(c)&&Hu:r!=s&&(c.type&3)!==0,f=i&X.Host&&o===c,m=tl(c,s,e,u,f);return m!==null?Bo(t,s,m,c,i):bn}function tl(n,t,e,r,i){let o=n.providerIndexes,s=t.data,c=o&1048575,u=n.directiveStart,f=n.directiveEnd,m=o>>20,v=r?c:c+m,S=i?c+m:f;for(let b=v;b<S;b++){let D=s[b];if(b<u&&e===D||b>=u&&D.type===e)return b}if(i){let b=s[u];if(b&&wn(b)&&b.type===e)return u}return null}function Bo(n,t,e,r,i){let o=n[e],s=t.data;if(o instanceof Ur){let c=o;c.resolving&&P0(Sx(s[e]));let u=gl(c.canSeeViewProviders);c.resolving=!0;let f,m=c.injectImpl?St(c.injectImpl):null,v=ug(n,r,X.Default);try{o=n[e]=c.factory(void 0,i,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&Tw(e,s[e],t)}finally{m!==null&&St(m),gl(u),c.resolving=!1,hg()}}return o}function Bw(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(No)?n[No]:void 0;return typeof t=="number"?t>=0?t&xg:$w:t}function Wh(n,t,e){let r=1<<n;return!!(e[t+(n>>wg)]&r)}function qh(n,t){return!(n&X.Self)&&!(n&X.Host&&t)}var Or=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return Mg(this._tNode,this._lView,t,Pl(r),e)}};function $w(){return new Or(vt(),te())}function zt(n){return Go(()=>{let t=n.prototype.constructor,e=t[rl]||Gu(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[rl]||Gu(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gu(n){return D0(n)?()=>{let t=Gu(gt(n));return t&&t()}:Pr(n)}function Hw(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[Y]&2048&&!pl(s);){let c=Ig(o,s,e,r|X.Self,bn);if(c!==bn)return c;let u=o.parent;if(!u){let f=s[W0];if(f){let m=f.get(e,bn,r);if(m!==bn)return m}u=Dg(s),s=s[Ui]}o=u}return i}function Dg(n){let t=n[ee],e=t.type;return e===2?t.declTNode:e===1?n[pn]:null}function Hp(n){return jw(vt(),n)}function Yh(n,t=null,e=null,r){let i=Tg(n,t,e,r);return i.resolveInjectorInitializers(),i}function Tg(n,t=null,e=null,r,i=new Set){let o=[e||Mt,$x(n)];return r=r||(typeof n=="object"?void 0:It(n)),new Lo(o,t||Tp(),r||null,i)}var kt=class n{static THROW_IF_NOT_FOUND=Ar;static NULL=new al;static create(t,e){if(Array.isArray(t))return Yh({name:""},e,t,"");{let r=t.name??"";return Yh({name:r},t.parent,t.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>U(L0)});static __NG_ELEMENT_ID__=-1};var zw=new H("");zw.__NG_ELEMENT_ID__=n=>{let t=vt();if(t===null)throw new $(204,!1);if(t.type&2)return t.value;if(n&X.Optional)return null;throw new $(204,!1)};var kg=!1,Hi=(()=>{class n{static __NG_ELEMENT_ID__=Gw;static __NG_ENV_ID__=e=>e}return n})(),Wu=class extends Hi{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let e=this._lView;return $i(e)?(t(),()=>{}):(ig(e,t),()=>cw(e,t))}};function Gw(){return new Wu(te())}var Ni=class{},Ag=new H("",{providedIn:"root",factory:()=>!1});var Og=new H(""),Pg=new H(""),zi=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Oe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();var qu=class extends Re{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,kp()&&(this.destroyRef=L(Hi,{optional:!0})??void 0,this.pendingTasks=L(zi,{optional:!0})??void 0)}emit(t){let e=re(null);try{super.next(t)}finally{re(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let u=t;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return t instanceof Te&&t.add(c),c}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},$e=qu;function _l(...n){}function Fg(n){let t,e;function r(){n=_l;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Zh(n){return queueMicrotask(()=>n()),()=>{n=_l}}var zp="isAngularZone",yl=zp+"_ID",Ww=0,Se=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new $e(!1);onMicrotaskEmpty=new $e(!1);onStable=new $e(!1);onError=new $e(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=kg}=t;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Zw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,qw,_l,_l);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},qw={};function Gp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Yw(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){Fg(()=>{n.callbackScheduled=!1,Yu(n),n.isCheckStableRunning=!0,Gp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Yu(n)}function Zw(n){let t=()=>{Yw(n)},e=Ww++;n._inner=n._inner.fork({name:"angular",properties:{[zp]:!0,[yl]:e,[yl+e]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(Qw(u))return r.invokeTask(o,s,c,u);try{return Qh(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),Kh(n)}},onInvoke:(r,i,o,s,c,u,f)=>{try{return Qh(n),r.invoke(o,s,c,u,f)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Kw(u)&&t(),Kh(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Yu(n),Gp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Yu(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Qh(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Kh(n){n._nesting--,Gp(n)}var bl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new $e;onMicrotaskEmpty=new $e;onStable=new $e;onError=new $e;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function Qw(n){return Ng(n,"__ignore_ng_zone__")}function Kw(n){return Ng(n,"__scheduler_tick__")}function Ng(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}function Jw(n="zone.js",t){return n==="noop"?new bl:n==="zone.js"?new Se(t):n}var Sn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Xw=new H("",{providedIn:"root",factory:()=>{let n=L(Se),t=L(Sn);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function Jh(n,t){return M0(n,t)}function eC(n){return M0(S0,n)}var Rg=(Jh.required=eC,Jh);function tC(){return Gi(vt(),te())}function Gi(n,t){return new _t(Dn(n,t))}var _t=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=tC}return n})();function nC(n){return n instanceof _t?n.nativeElement:n}function rC(n){return typeof n=="function"&&n[Qt]!==void 0}function Zo(n,t){let e=Xd(n,t?.equal),r=e[Qt];return e.set=i=>Mo(r,i),e.update=i=>eu(r,i),e.asReadonly=iC.bind(e),e}function iC(){let n=this[Qt];if(n.readonlyFn===void 0){let t=()=>this();t[Qt]=n,n.readonlyFn=t}return n.readonlyFn}function Vg(n){return rC(n)&&typeof n.set=="function"}function oC(){return this._results[Symbol.iterator]()}var Zu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Re}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=Vx(t);(this._changesDetected=!Rx(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=oC};function Lg(n){return(n.flags&128)===128}var jg=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(jg||{}),Ug=new Map,sC=0;function aC(){return sC++}function lC(n){Ug.set(n[Nl],n)}function Qu(n){Ug.delete(n[Nl])}var Xh="__ngContext__";function Qo(n,t){pr(t)?(n[Xh]=t[Nl],lC(t)):n[Xh]=t}function Bg(n){return Hg(n[jo])}function $g(n){return Hg(n[un])}function Hg(n){for(;n!==null&&!Qn(n);)n=n[un];return n}var Ku;function zg(n){Ku=n}function cC(){if(Ku!==void 0)return Ku;if(typeof document<"u")return document;throw new $(210,!1)}var Wp=new H("",{providedIn:"root",factory:()=>dC}),dC="ng",qp=new H(""),Wi=new H("",{providedIn:"platform",factory:()=>"unknown"});var Yp=new H("",{providedIn:"root",factory:()=>cC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uC="h",pC="b";var Gg=!1,fC=new H("",{providedIn:"root",factory:()=>Gg});var Zp=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Zp||{}),qi=new H(""),e0=new Set;function Ko(n){e0.has(n)||(e0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Wg=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=mC}return n})();function mC(){return new Wg(te(),vt())}var Di=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Di||{}),qg=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),hC=[Di.EarlyRead,Di.Write,Di.MixedReadWrite,Di.Read],gC=(()=>{class n{ngZone=L(Se);scheduler=L(Ni);errorHandler=L(Sn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){L(qi,{optional:!0})}execute(){let e=this.sequences.size>0;e&&xe(16),this.executing=!0;for(let r of hC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&xe(17)}register(e){let{view:r}=e;r!==void 0?((r[ki]??=[]).push(e),qo(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Zp.AFTER_NEXT_RENDER,e):e()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ju=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o,s=null){this.impl=t,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[ki];t&&(this.view[ki]=t.filter(e=>e!==this))}};function Qp(n,t){!t?.injector&&Jx(Qp);let e=t?.injector??L(kt);return Ko("NgAfterNextRender"),_C(n,e,t,!0)}function vC(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function _C(n,t,e,r){let i=t.get(qg);i.impl??=t.get(gC);let o=t.get(qi,null,{optional:!0}),s=e?.phase??Di.MixedReadWrite,c=e?.manualCleanup!==!0?t.get(Hi):null,u=t.get(Wg,null,{optional:!0}),f=new Ju(i.impl,vC(n,s),u?.view,r,c,o?.snapshot(null));return i.impl.register(f),f}var yC=(n,t,e,r)=>{};function bC(n,t,e,r){yC(n,t,e,r)}var xC=()=>null;function Yg(n,t,e=!1){return xC(n,t,e)}function Zg(n,t){let e=n.contentQueries;if(e!==null){let r=re(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let c=n.data[s];Rp(o),c.contentQueries(2,t[s],s)}}}finally{re(r)}}}function Xu(n,t,e){Rp(0);let r=re(null);try{t(n,e)}finally{re(r)}}function Qg(n,t,e){if(Y0(t)){let r=re(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=e[s];c.contentQueries(1,u,s)}}}finally{re(r)}}}var Mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mn||{});var Za;function wC(){if(Za===void 0&&(Za=null,ht.trustedTypes))try{Za=ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Za}function t0(n){return wC()?.createScriptURL(n)||n}var xl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${C0})`}};function Jo(n){return n instanceof xl?n.changingThisBreaksApplicationSecurity:n}function Kg(n,t){let e=CC(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${C0})`)}return e===t}function CC(n){return n instanceof xl&&n.getTypeName()||null}var EC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function SC(n){return n=String(n),n.match(EC)?n:"unsafe:"+n}var Kp=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Kp||{});function Ot(n){let t=Xg();return t?t.sanitize(Kp.URL,n)||"":Kg(n,"URL")?Jo(n):SC(yn(n))}function MC(n){let t=Xg();if(t)return t0(t.sanitize(Kp.RESOURCE_URL,n)||"");if(Kg(n,"ResourceURL"))return t0(Jo(n));throw new $(904,!1)}function IC(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?MC:Ot}function Jg(n,t,e){return IC(t,e)(n)}function Xg(){let n=te();return n&&n[Wn].sanitizer}function ev(n){return n instanceof Function?n():n}function DC(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var tv="ng-template";function TC(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&DC(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Jp(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Jp(n){return n.type===4&&n.value!==tv}function kC(n,t,e){let r=n.type===4&&!e?tv:n.value;return t===r}function AC(n,t,e){let r=4,i=n.attrs,o=i!==null?FC(i):0,s=!1;for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="number"){if(!s&&!cn(r)&&!cn(u))return!1;if(s&&cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!kC(n,u,e)||u===""&&t.length===1){if(cn(r))return!1;s=!0}}else if(r&8){if(i===null||!TC(n,i,u,e)){if(cn(r))return!1;s=!0}}else{let f=t[++c],m=OC(u,i,Jp(n),e);if(m===-1){if(cn(r))return!1;s=!0;continue}if(f!==""){let v;if(m>o?v="":v=i[m+1].toLowerCase(),r&2&&f!==v){if(cn(r))return!1;s=!0}}}}return cn(r)||s}function cn(n){return(n&1)===0}function OC(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=t[++i];for(;typeof c=="string";)c=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return NC(t,n)}function PC(n,t,e=!1){for(let r=0;r<t.length;r++)if(AC(n,t[r],e))return!0;return!1}function FC(n){for(let t=0;t<n.length;t++){let e=n[t];if(yg(e))return t}return n.length}function NC(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function n0(n,t){return n?":not("+t.trim()+")":t}function RC(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let c=n[++e];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!cn(s)&&(t+=n0(o,i),i=""),r=s,o=o||!cn(r);e++}return i!==""&&(t+=n0(o,i)),t}function VC(n){return n.map(RC).join(",")}function LC(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!cn(i))break;i=o}r++}return e.length&&t.push(1,...e),t}var Pt={};function jC(n,t){return n.createText(t)}function UC(n,t,e){n.setValue(t,e)}function nv(n,t,e){return n.createElement(t,e)}function wl(n,t,e,r,i){n.insertBefore(t,e,r,i)}function rv(n,t,e){n.appendChild(t,e)}function r0(n,t,e,r,i){r!==null?wl(n,t,e,r,i):rv(n,t,e)}function BC(n,t,e){n.removeChild(null,t,e)}function $C(n,t,e){n.setAttribute(t,"style",e)}function HC(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function iv(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&Pw(n,t,r),i!==null&&HC(n,t,i),o!==null&&$C(n,t,o)}function Xp(n,t,e,r,i,o,s,c,u,f,m){let v=Ht+r,S=v+i,b=zC(v,S),D=typeof f=="function"?f():f;return b[ee]={type:n,blueprint:b,template:e,queries:null,viewQuery:c,declTNode:t,data:b.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:m}}function zC(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Pt);return e}function GC(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Xp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function ef(n,t,e,r,i,o,s,c,u,f,m){let v=t.blueprint.slice();return v[Zn]=i,v[Y]=r|4|128|8|64|1024,(f!==null||n&&n[Y]&2048)&&(v[Y]|=2048),ng(v),v[lt]=v[Ui]=n,v[Tt]=e,v[Wn]=s||n&&n[Wn],v[He]=c||n&&n[He],v[Pi]=u||n&&n[Pi]||null,v[pn]=o,v[Nl]=aC(),v[ll]=m,v[W0]=f,v[xn]=t.type==2?n[xn]:v,v}function WC(n,t,e){let r=Dn(t,n),i=GC(e),o=n[Wn].rendererFactory,s=tf(n,ef(n,i,null,ov(e),r,t,null,o.createRenderer(r,e),null,null,null));return n[t.index]=s}function ov(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function sv(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function tf(n,t){return n[jo]?n[Bh][un]=t:n[jo]=t,n[Bh]=t,t}function p(n=1){av(it(),te(),Jn()+n,!1)}function av(n,t,e,r){if(!r)if((t[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Xa(t,o,e)}else{let o=n.preOrderHooks;o!==null&&el(t,o,0,e)}jr(e)}var jl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(jl||{});function ep(n,t,e,r){let i=re(null);try{let[o,s,c]=n.inputs[e],u=null;(s&jl.SignalBased)!==0&&(u=t[o][Qt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(t,r)),n.setInput!==null?n.setInput(t,u,r,e,o):Z0(t,u,o,r)}finally{re(i)}}function lv(n,t,e,r,i){let o=Jn(),s=r&2;try{jr(-1),s&&t.length>Ht&&av(n,t,Ht,!1),xe(s?2:0,i),e(r,i)}finally{jr(o),xe(s?3:1,i)}}function nf(n,t,e){JC(n,t,e),(e.flags&64)===64&&XC(n,t,e)}function cv(n,t,e=Dn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?e(t,n):n[s];n[i++]=c}}}function qC(n,t,e,r){let o=r.get(fC,Gg)||e===Mn.ShadowDom,s=n.selectRootElement(t,o);return YC(s),s}function YC(n){ZC(n)}var ZC=()=>null;function QC(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function dv(n,t,e,r,i,o,s,c){if(!c&&rf(t,n,e,r,i)){Bi(t)&&KC(e,t.index);return}if(t.type&3){let u=Dn(t,e);r=QC(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(u,r,i)}else t.type&12}function KC(n,t){let e=En(t,n);e[Y]&16||(e[Y]|=64)}function JC(n,t,e){let r=e.directiveStart,i=e.directiveEnd;Bi(e)&&WC(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||vl(e,t);let o=e.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=Bo(t,n,s,e);if(Qo(u,t),o!==null&&rE(t,s-r,u,c,e,o),wn(c)){let f=En(e.index,t);f[Tt]=Bo(t,n,s,e)}}}function XC(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=Cw();try{jr(o);for(let c=r;c<i;c++){let u=n.data[c],f=t[c];$u(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&eE(u,f)}}finally{jr(-1),$u(s)}}function eE(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function uv(n,t){let e=n.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];PC(t,o.selectors,!1)&&(r??=[],wn(o)?r.unshift(o):r.push(o))}return r}function tE(n,t,e,r,i,o){let s=Dn(n,t);nE(t[He],s,o,n.value,e,r,i)}function nE(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let c=s==null?yn(o):s(o,r||"",i);n.setAttribute(t,i,c,e)}}function rE(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],f=s[c+1];ep(r,e,u,f)}}function iE(n,t){let e=n[Pi],r=e?e.get(Sn,null):null;r&&r.handleError(t)}function rf(n,t,e,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let f=s[u],m=s[u+1],v=t.data[f];ep(v,e[f],m,i),c=!0}if(o)for(let u of o){let f=e[u],m=t.data[u];ep(m,f,r,i),c=!0}return c}function oE(n,t){let e=En(t,n),r=e[ee];sE(r,e);let i=e[Zn];i!==null&&e[ll]===null&&(e[ll]=Yg(i,e[Pi])),xe(18),of(r,e,e[Tt]),xe(19,e[Tt])}function sE(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function of(n,t,e){Vp(t);try{let r=n.viewQuery;r!==null&&Xu(1,r,e);let i=n.template;i!==null&&lv(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[qn]?.finishViewCreation(n),n.staticContentQueries&&Zg(n,t),n.staticViewQueries&&Xu(2,n.viewQuery,e);let o=n.components;o!==null&&aE(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[Y]&=-5,Lp()}}function aE(n,t){for(let e=0;e<t.length;e++)oE(n,t[e])}function lE(n,t,e,r){let i=re(null);try{let o=t.tView,c=n[Y]&4096?4096:16,u=ef(n,o,e,c,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),f=n[t.index];u[Rr]=f;let m=n[qn];return m!==null&&(u[qn]=m.createEmbeddedView(o)),of(o,u,e),u}finally{re(i)}}function i0(n,t){return!t||t.firstChild===null||Lg(n)}var cE;function sf(n,t){return cE(n,t)}var Yn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Yn||{});function pv(n){return(n.flags&32)===32}function Ti(n,t,e,r,i){if(r!=null){let o,s=!1;Qn(r)?o=r:pr(r)&&(s=!0,r=r[Zn]);let c=Cn(r);n===0&&e!==null?i==null?rv(t,e,c):wl(t,e,c,i||null,!0):n===1&&e!==null?wl(t,e,c,i||null,!0):n===2?BC(t,c,s):n===3&&t.destroyNode(c),o!=null&&xE(t,n,o,e,i)}}function dE(n,t){fv(n,t),t[Zn]=null,t[pn]=null}function uE(n,t,e,r,i,o){r[Zn]=i,r[pn]=t,Ul(n,r,e,1,i,o)}function fv(n,t){t[Wn].changeDetectionScheduler?.notify(9),Ul(n,t,t[He],2,null,null)}function pE(n){let t=n[jo];if(!t)return Cu(n[ee],n);for(;t;){let e=null;if(pr(t))e=t[jo];else{let r=t[$t];r&&(e=r)}if(!e){for(;t&&!t[un]&&t!==n;)pr(t)&&Cu(t[ee],t),t=t[lt];t===null&&(t=n),pr(t)&&Cu(t[ee],t),e=t&&t[un]}t=e}}function af(n,t){let e=n[Fi],r=e.indexOf(t);e.splice(r,1)}function mv(n,t){if($i(t))return;let e=t[He];e.destroyNode&&Ul(n,t,e,3,null,null),pE(t)}function Cu(n,t){if($i(t))return;let e=re(null);try{t[Y]&=-129,t[Y]|=256,t[Jt]&&Qd(t[Jt]),mE(n,t),fE(n,t),t[ee].type===1&&t[He].destroy();let r=t[Rr];if(r!==null&&Qn(t[lt])){r!==t[lt]&&af(r,t);let i=t[qn];i!==null&&i.detachView(n)}Qu(t)}finally{re(e)}}function fE(n,t){let e=n.cleanup,r=t[cl];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let c=e[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[e[s+1]];e[s].call(c)}r!==null&&(t[cl]=null);let i=t[ur];if(i!==null){t[ur]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=t[dl];if(o!==null){t[dl]=null;for(let s of o)s.destroy()}}function mE(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof Ur)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];xe(4,c,u);try{u.call(c)}finally{xe(5,c,u)}}else{xe(4,i,o);try{o.call(i)}finally{xe(5,i,o)}}}}}function hE(n,t,e){return gE(n,t.parent,e)}function gE(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[Zn];if(Bi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Mn.None||i===Mn.Emulated)return null}return Dn(r,e)}function vE(n,t,e){return yE(n,t,e)}function _E(n,t,e){return n.type&40?Dn(n,e):null}var yE=_E,o0;function lf(n,t,e,r){let i=hE(n,r,t),o=t[He],s=r.parent||t[pn],c=vE(s,r,t);if(i!=null)if(Array.isArray(e))for(let u=0;u<e.length;u++)r0(o,i,e[u],c,!1);else r0(o,i,e,c,!1);o0!==void 0&&o0(o,r,t,e,i)}function Fo(n,t){if(t!==null){let e=t.type;if(e&3)return Dn(t,n);if(e&4)return tp(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return Fo(n,r);{let i=n[t.index];return Qn(i)?tp(-1,i):Cn(i)}}else{if(e&128)return Fo(n,t.next);if(e&32)return sf(t,n)()||Cn(n[t.index]);{let r=hv(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Lr(n[xn]);return Fo(i,r)}else return Fo(n,t.next)}}}return null}function hv(n,t){if(t!==null){let r=n[xn][pn],i=t.projection;return r.projection[i]}return null}function tp(n,t){let e=$t+n+1;if(e<t.length){let r=t[e],i=r[ee].firstChild;if(i!==null)return Fo(r,i)}return t[Vr]}function cf(n,t,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let c=r[e.index],u=e.type;if(s&&t===0&&(c&&Qo(Cn(c),r),e.flags|=2),!pv(e))if(u&8)cf(n,t,e.child,r,i,o,!1),Ti(t,n,i,c,o);else if(u&32){let f=sf(e,r),m;for(;m=f();)Ti(t,n,i,m,o);Ti(t,n,i,c,o)}else u&16?bE(n,t,r,e,i,o):Ti(t,n,i,c,o);e=s?e.projectionNext:e.next}}function Ul(n,t,e,r,i,o){cf(e,r,n.firstChild,t,i,o,!1)}function bE(n,t,e,r,i,o){let s=e[xn],u=s[pn].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++){let m=u[f];Ti(t,n,i,m,o)}else{let f=u,m=s[lt];Lg(r)&&(f.flags|=128),cf(n,t,f,m,i,o,!0)}}function xE(n,t,e,r,i){let o=e[Vr],s=Cn(e);o!==s&&Ti(t,n,r,o,i);for(let c=$t;c<e.length;c++){let u=e[c];Ul(u[ee],u,n,t,r,o)}}function wE(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Yn.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yn.Important),n.setStyle(e,r,i,o))}}function Cl(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(Cn(o)),Qn(o)&&CE(o,r);let s=e.type;if(s&8)Cl(n,t,e.child,r);else if(s&32){let c=sf(e,t),u;for(;u=c();)r.push(u)}else if(s&16){let c=hv(t,e);if(Array.isArray(c))r.push(...c);else{let u=Lr(t[xn]);Cl(u[ee],u,c,r,!0)}}e=i?e.projectionNext:e.next}return r}function CE(n,t){for(let e=$t;e<n.length;e++){let r=n[e],i=r[ee].firstChild;i!==null&&Cl(r[ee],r,i,t)}n[Vr]!==n[Zn]&&t.push(n[Vr])}function gv(n){if(n[ki]!==null){for(let t of n[ki])t.impl.addSequence(t);n[ki].length=0}}var vv=[];function EE(n){return n[Jt]??SE(n)}function SE(n){let t=vv.pop()??Object.create(IE);return t.lView=n,t}function ME(n){n.lView[Jt]!==n&&(n.lView=null,vv.push(n))}var IE=G(P({},Eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{qo(n.lView)},consumerOnSignalRead(){this.lView[Jt]=this}});function DE(n){let t=n[Jt]??Object.create(TE);return t.lView=n,t}var TE=G(P({},Eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Lr(n.lView);for(;t&&!_v(t[ee]);)t=Lr(t);t&&rg(t)},consumerOnSignalRead(){this.lView[Jt]=this}});function _v(n){return n.type!==2}function yv(n){if(n[dl]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[dl])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[Y]&8192)}}var kE=100;function bv(n,t=!0,e=0){let i=n[Wn].rendererFactory,o=!1;o||i.begin?.();try{AE(n,e)}catch(s){throw t&&iE(n,s),s}finally{o||i.end?.()}}function AE(n,t){let e=lg();try{Hh(!0),np(n,t);let r=0;for(;Rl(n);){if(r===kE)throw new $(103,!1);r++,np(n,1)}}finally{Hh(e)}}function OE(n,t,e,r){if($i(t))return;let i=t[Y],o=!1,s=!1;Vp(t);let c=!0,u=null,f=null;o||(_v(n)?(f=EE(t),u=ba(f)):zd()===null?(c=!1,f=DE(t),u=ba(f)):t[Jt]&&(Qd(t[Jt]),t[Jt]=null));try{ng(t),bw(n.bindingStartIndex),e!==null&&lv(n,t,e,2,r);let m=(i&3)===3;if(!o)if(m){let b=n.preOrderCheckHooks;b!==null&&Xa(t,b,null)}else{let b=n.preOrderHooks;b!==null&&el(t,b,0,null),xu(t,0)}if(s||PE(t),yv(t),xv(t,0),n.contentQueries!==null&&Zg(n,t),!o)if(m){let b=n.contentCheckHooks;b!==null&&Xa(t,b)}else{let b=n.contentHooks;b!==null&&el(t,b,1),xu(t,1)}NE(n,t);let v=n.components;v!==null&&Cv(t,v,0);let S=n.viewQuery;if(S!==null&&Xu(2,S,r),!o)if(m){let b=n.viewCheckHooks;b!==null&&Xa(t,b)}else{let b=n.viewHooks;b!==null&&el(t,b,2),xu(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[bu]){for(let b of t[bu])b();t[bu]=null}o||(gv(t),t[Y]&=-73)}catch(m){throw o||qo(t),m}finally{f!==null&&(Yd(f,u),c&&ME(f)),Lp()}}function xv(n,t){for(let e=Bg(n);e!==null;e=$g(e))for(let r=$t;r<e.length;r++){let i=e[r];wv(i,t)}}function PE(n){for(let t=Bg(n);t!==null;t=$g(t)){if(!(t[Y]&2))continue;let e=t[Fi];for(let r=0;r<e.length;r++){let i=e[r];rg(i)}}}function FE(n,t,e){xe(18);let r=En(t,n);wv(r,e),xe(19,r[Tt])}function wv(n,t){Pp(n)&&np(n,t)}function np(n,t){let r=n[ee],i=n[Y],o=n[Jt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Zd(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)OE(r,n,r.template,n[Tt]);else if(i&8192){yv(n),xv(n,1);let c=r.components;c!==null&&Cv(n,c,1),gv(n)}}function Cv(n,t,e){for(let r=0;r<t.length;r++)FE(n,t[r],e)}function NE(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)jr(~i);else{let o=i,s=e[++r],c=e[++r];ww(s,o);let u=t[o];xe(24,u),c(2,u),xe(25,u)}}}finally{jr(-1)}}function df(n,t){let e=lg()?64:1088;for(n[Wn].changeDetectionScheduler?.notify(t);n;){n[Y]|=e;let r=Lr(n);if(pl(n)&&!r)return n;n=r}return null}function Ev(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function RE(n,t,e,r=!0){let i=t[ee];if(VE(i,t,n,e),r){let s=tp(e,n),c=t[He],u=c.parentNode(n[Vr]);u!==null&&uE(i,n[pn],c,t,u,s)}let o=t[ll];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rp(n,t){if(n.length<=$t)return;let e=$t+t,r=n[e];if(r){let i=r[Rr];i!==null&&i!==n&&af(i,r),t>0&&(n[e-1][un]=r[un]);let o=sl(n,$t+t);dE(r[ee],r);let s=o[qn];s!==null&&s.detachView(o[ee]),r[lt]=null,r[un]=null,r[Y]&=-129}return r}function VE(n,t,e,r){let i=$t+r,o=e.length;r>0&&(e[i-1][un]=t),r<o-$t?(t[un]=e[i],V0(e,$t+r,t)):(e.push(t),t[un]=null),t[lt]=e;let s=t[Rr];s!==null&&e!==s&&Sv(s,t);let c=t[qn];c!==null&&c.insertView(n),Uu(t),t[Y]|=128}function Sv(n,t){let e=n[Fi],r=t[lt];if(pr(r))n[Y]|=2;else{let i=r[lt][xn];t[xn]!==i&&(n[Y]|=2)}e===null?n[Fi]=[t]:e.push(t)}var $o=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[ee];return Cl(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[Tt]}set context(t){this._lView[Tt]=t}get destroyed(){return $i(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[lt];if(Qn(t)){let e=t[ul],r=e?e.indexOf(this):-1;r>-1&&(rp(t,r),sl(e,r))}this._attachedToViewContainer=!1}mv(this._lView[ee],this._lView)}onDestroy(t){ig(this._lView,t)}markForCheck(){df(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Uu(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,bv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=pl(this._lView),e=this._lView[Rr];e!==null&&!t&&af(e,this._lView),fv(this._lView[ee],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=t;let e=pl(this._lView),r=this._lView[Rr];r!==null&&!e&&Sv(r,this._lView),Uu(this._lView)}};var Br=(()=>{class n{static __NG_ELEMENT_ID__=UE}return n})(),LE=Br,jE=class extends LE{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=lE(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new $o(i)}};function UE(){return Bl(vt(),te())}function Bl(n,t){return n.type&4?new jE(t,n,Gi(n,t)):null}function uf(n,t,e,r,i){let o=n.data[t];if(o===null)o=BE(n,t,e,r,i),xw()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=vw();o.injectorIndex=s===null?-1:s.injectorIndex}return Yo(o,!0),o}function BE(n,t,e,r,i){let o=sg(),s=ag(),c=s?o:o&&o.parent,u=n.data[t]=HE(n,c,e,t,r,i);return $E(n,u,o,s),u}function $E(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function HE(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,c=0;return mw()&&(c|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var SL=new RegExp(`^(\\d+)*(${pC}|${uC})*(.*)`);var zE=()=>null;function s0(n,t){return zE(n,t)}var GE=class{},Mv=class{},ip=class{resolveComponentFactory(t){throw Error(`No component factory found for ${It(t)}.`)}},$l=class{static NULL=new ip},Ri=class{},fn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>WE()}return n})();function WE(){let n=te(),t=vt(),e=En(t.index,n);return(pr(e)?e:n)[He]}var qE=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var Eu={},op=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=Pl(r);let i=this.injector.get(t,Eu,r);return i!==Eu||e===Eu?i:this.parentInjector.get(t,e,r)}};function a0(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number")o=c;else if(o==1)i=Ou(i,c);else if(o==2){let u=c,f=t[++s];r=Ou(r,u+": "+f+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function F(n,t=X.Default){let e=te();if(e===null)return U(n,t);let r=vt();return Mg(r,e,gt(n),t)}function Iv(){let n="invalid";throw new Error(n)}function Dv(n,t,e,r,i){let o=r===null?null:{"":-1},s=i(n,e);if(s!==null){let c,u=null,f=null,m=ZE(s);m===null?c=s:[c,u,f]=m,JE(n,t,e,c,o,u,f)}o!==null&&r!==null&&YE(e,r,o)}function YE(n,t,e){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new $(-301,!1);r.push(t[i],o)}}function ZE(n){let t=null,e=!1;for(let s=0;s<n.length;s++){let c=n[s];if(s===0&&wn(c)&&(t=c),c.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,QE(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?n:n.slice(1)),[r,i,o]):null}function QE(n,t,e,r){let i=t.length;n.findHostDirectiveDefs(n,t,r),e.set(n,[i,t.length-1])}function KE(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function JE(n,t,e,r,i,o,s){let c=r.length,u=!1;for(let S=0;S<c;S++){let b=r[S];!u&&wn(b)&&(u=!0,KE(n,e,S)),zu(vl(e,t),n,b.type)}i2(e,n.data.length,c);for(let S=0;S<c;S++){let b=r[S];b.providersResolver&&b.providersResolver(b)}let f=!1,m=!1,v=sv(n,t,c,null);c>0&&(e.directiveToIndex=new Map);for(let S=0;S<c;S++){let b=r[S];if(e.mergedAttrs=Uo(e.mergedAttrs,b.hostAttrs),e2(n,e,t,v,b),r2(v,b,i),s!==null&&s.has(b)){let[R,j]=s.get(b);e.directiveToIndex.set(b.type,[v,R+e.directiveStart,j+e.directiveStart])}else(o===null||!o.has(b))&&e.directiveToIndex.set(b.type,v);b.contentQueries!==null&&(e.flags|=4),(b.hostBindings!==null||b.hostAttrs!==null||b.hostVars!==0)&&(e.flags|=64);let D=b.type.prototype;!f&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),f=!0),!m&&(D.ngOnChanges||D.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),m=!0),v++}XE(n,e,o)}function XE(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=n.data[r];if(e===null||!e.has(i))l0(0,t,i,r),l0(1,t,i,r),d0(t,r,!1);else{let o=e.get(i);c0(0,t,o,r),c0(1,t,o,r),d0(t,r,!0)}}}function l0(n,t,e,r){let i=n===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Tv(t,o)}}function c0(n,t,e,r){let i=n===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=t.hostDirectiveInputs??={}:c=t.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),Tv(t,s)}}function Tv(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function d0(n,t,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!e&&i===null||e&&o===null||Jp(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!e&&i.hasOwnProperty(u)){let f=i[u];for(let m of f)if(m===t){s??=[],s.push(u,r[c+1]);break}}else if(e&&o.hasOwnProperty(u)){let f=o[u];for(let m=0;m<f.length;m+=2)if(f[m]===t){s??=[],s.push(f[m+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function e2(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=Pr(i.type,!0)),s=new Ur(o,wn(i),F);n.blueprint[r]=s,e[r]=s,t2(n,t,r,sv(n,e,i.hostVars,Pt),i)}function t2(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~t.index;n2(s)!=c&&s.push(c),s.push(e,r,o)}}function n2(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function r2(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;wn(t)&&(e[""]=n)}}function i2(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function kv(n,t,e,r,i,o,s,c){let u=t.consts,f=fl(u,s),m=uf(t,n,2,r,f);return o&&Dv(t,e,m,fl(u,c),i),m.mergedAttrs=Uo(m.mergedAttrs,m.attrs),m.attrs!==null&&a0(m,m.attrs,!1),m.mergedAttrs!==null&&a0(m,m.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,m),m}function Av(n,t){vg(n,t),Y0(t)&&n.queries.elementEnd(t)}var El=class extends $l{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Nr(t);return new Vi(e,this.ngModule)}};function o2(n){return Object.keys(n).map(t=>{let[e,r,i]=n[t],o={propName:e,templateName:t,isSignal:(r&jl.SignalBased)!==0};return i&&(o.transform=i),o})}function s2(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function a2(n,t,e){let r=t instanceof Dt?t:t?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new op(e,r):e}function l2(n){let t=n.get(Ri,null);if(t===null)throw new $(407,!1);let e=n.get(qE,null),r=n.get(Ni,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:r}}function c2(n,t){let e=(n.selectors[0][0]||"div").toLowerCase();return nv(t,e,e==="svg"?X0:e==="math"?iw:null)}var Vi=class extends Mv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=o2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=s2(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=VC(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,i){xe(22);let o=re(null);try{let s=this.componentDef,c=r?["ng-version","19.2.14"]:LC(this.componentDef.selectors[0]),u=Xp(0,null,null,1,0,null,null,null,null,[c],null),f=a2(s,i||this.ngModule,t),m=l2(f),v=m.rendererFactory.createRenderer(null,s),S=r?qC(v,r,s.encapsulation,f):c2(s,v),b=ef(null,u,null,512|ov(s),null,null,m,v,f,null,Yg(S,f,!0));b[Ht]=S,Vp(b);let D=null;try{let R=kv(Ht,u,b,"#host",()=>[this.componentDef],!0,0);S&&(iv(v,S,R),Qo(S,b)),nf(u,b,R),Qg(u,R,b),Av(u,R),e!==void 0&&d2(R,this.ngContentSelectors,e),D=En(R.index,b),b[Tt]=D[Tt],of(u,b,null)}catch(R){throw D!==null&&Qu(D),Qu(b),R}finally{xe(23),Lp()}return new sp(this.componentType,b)}finally{re(o)}}},sp=class extends GE{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=tg(e[ee],Ht),this.location=Gi(this._tNode,e),this.instance=En(this._tNode.index,e)[Tt],this.hostView=this.changeDetectorRef=new $o(e,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let i=this._rootLView,o=rf(r,i[ee],i,t,e);this.previousInputValues.set(t,e);let s=En(r.index,i);df(s,1)}get injector(){return new Or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function d2(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mr=(()=>{class n{static __NG_ELEMENT_ID__=u2}return n})();function u2(){let n=vt();return Pv(n,te())}var p2=mr,Ov=class extends p2{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Gi(this._hostTNode,this._hostLView)}get injector(){return new Or(this._hostTNode,this._hostLView)}get parentInjector(){let t=$p(this._hostTNode,this._hostLView);if(bg(t)){let e=hl(t,this._hostLView),r=ml(t),i=e[ee].data[r+8];return new Or(i,e)}else return new Or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=u0(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=s0(this._lContainer,t.ssrId),c=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(c,i,i0(this._hostTNode,s)),c}createComponent(t,e,r,i,o){let s=t&&!ew(t),c;if(s)c=e;else{let D=e||{};c=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let u=s?t:new Vi(Nr(t)),f=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?f:this.parentInjector).get(Dt,null);R&&(o=R)}let m=Nr(u.componentType??{}),v=s0(this._lContainer,m?.id??null),S=v?.firstChild??null,b=u.create(f,i,S,o);return this.insertImpl(b.hostView,c,i0(this._hostTNode,v)),b}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(aw(i)){let c=this.indexOf(t);if(c!==-1)this.detach(c);else{let u=i[lt],f=new Ov(u,u[pn],u[lt]);f.detach(f.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return RE(s,i,o,r),t.attachToViewContainerRef(),V0(Su(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=u0(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=rp(this._lContainer,e);r&&(sl(Su(this._lContainer),e),mv(r[ee],r))}detach(t){let e=this._adjustIndex(t,-1),r=rp(this._lContainer,e);return r&&sl(Su(this._lContainer),e)!=null?new $o(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function u0(n){return n[ul]}function Su(n){return n[ul]||(n[ul]=[])}function Pv(n,t){let e,r=t[n.index];return Qn(r)?e=r:(e=Ev(r,t,null,n),t[n.index]=e,tf(t,e)),m2(e,t,n,r),new Ov(e,n,t)}function f2(n,t){let e=n[He],r=e.createComment(""),i=Dn(t,n),o=e.parentNode(i);return wl(e,o,r,e.nextSibling(i),!1),r}var m2=v2,h2=()=>!1;function g2(n,t,e){return h2(n,t,e)}function v2(n,t,e,r){if(n[Vr])return;let i;e.type&8?i=Cn(r):i=f2(t,e),n[Vr]=i}var ap=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},lp=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)pf(t,e).matches!==null&&this.queries[e].setDirty()}},cp=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=S2(t):this.predicate=t}},dp=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},up=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,e,_2(e,o)),this.matchTNodeWithReadOption(t,e,tl(e,t,o,!1,!1))}else r===Br?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tl(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===_t||i===mr||i===Br&&e.type&4)this.addMatch(e.index,-2);else{let o=tl(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function _2(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function y2(n,t){return n.type&11?Gi(n,t):n.type&4?Bl(n,t):null}function b2(n,t,e,r){return e===-1?y2(t,n):e===-2?x2(n,t,r):Bo(n,n[ee],e,t)}function x2(n,t,e){if(e===_t)return Gi(t,n);if(e===Br)return Bl(t,n);if(e===mr)return Pv(t,n)}function Fv(n,t,e,r){let i=t[qn].queries[r];if(i.matches===null){let o=n.data,s=e.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let f=s[u];if(f<0)c.push(null);else{let m=o[f];c.push(b2(t,m,s[u+1],e.metadata.read))}}i.matches=c}return i.matches}function pp(n,t,e,r){let i=n.queries.getByIndex(e),o=i.matches;if(o!==null){let s=Fv(n,t,i,e);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let f=o[c+1],m=t[-u];for(let v=$t;v<m.length;v++){let S=m[v];S[Rr]===S[lt]&&pp(S[ee],S,f,r)}if(m[Fi]!==null){let v=m[Fi];for(let S=0;S<v.length;S++){let b=v[S];pp(b[ee],b,f,r)}}}}}return r}function w2(n,t){return n[qn].queries[t].queryList}function C2(n,t,e){let r=new Zu((e&4)===4);return dw(n,t,r,r.destroy),(t[qn]??=new lp).queries.push(new ap(r))-1}function E2(n,t,e,r){let i=it();if(i.firstCreatePass){let o=vt();M2(i,new cp(t,e,r),o.index),I2(i,n),(e&2)===2&&(i.staticContentQueries=!0)}return C2(i,te(),e)}function S2(n){return n.split(",").map(t=>t.trim())}function M2(n,t,e){n.queries===null&&(n.queries=new dp),n.queries.track(new up(t,e))}function I2(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function pf(n,t){return n.queries.getByIndex(t)}function D2(n,t){let e=n[ee],r=pf(e,t);return r.crossesNgTemplate?pp(e,n,t,[]):Fv(e,n,r,t)}function T2(n){let t=[],e=new Map;function r(i){let o=e.get(i);if(!o){let s=n(i);e.set(i,o=s.then(P2))}return o}return Sl.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(f=>{i.template=f}));let c=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=c,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let f=i.styles.length,m=i.styleUrls;i.styleUrls.forEach((v,S)=>{c.push(""),s.push(r(v).then(b=>{c[f+S]=b,m.splice(m.indexOf(v),1),m.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(f=>{c.push(f),i.styleUrl=void 0}));let u=Promise.all(s).then(()=>F2(o));t.push(u)}),A2(),Promise.all(t).then(()=>{})}var Sl=new Map,k2=new Set;function A2(){let n=Sl;return Sl=new Map,n}function O2(){return Sl.size===0}function P2(n){return typeof n=="string"?n:n.text()}function F2(n){k2.delete(n)}var Li=class{},ff=class{};var Ml=class extends Li{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new El(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=U0(t);this._bootstrapComponents=ev(o.bootstrap),this._r3Injector=Tg(t,e,[{provide:Li,useValue:this},{provide:$l,useValue:this.componentFactoryResolver},...r],It(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Il=class extends ff{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Ml(this.moduleType,t,[])}};function N2(n,t,e){return new Ml(n,t,e,!1)}var fp=class extends Li{injector;componentFactoryResolver=new El(this);instance=null;constructor(t){super();let e=new Lo([...t.providers,{provide:Li,useValue:this},{provide:$l,useValue:this.componentFactoryResolver}],t.parent||Tp(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Xo(n,t,e=null){return new fp({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var R2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=$0(!1,e.type),i=r.length>0?Xo([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(U(Dt))})}return n})();function le(n){return Go(()=>{let t=Nv(n),e=G(P({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===jg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(R2).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mn.Emulated,styles:n.styles||Mt,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Ko("NgStandalone"),Rv(e);let r=n.dependencies;return e.directiveDefs=p0(r,!1),e.pipeDefs=p0(r,!0),e.id=B2(e),e})}function V2(n){return Nr(n)||Ux(n)}function L2(n){return n!==null}function dt(n){return Go(()=>({type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function j2(n,t){if(n==null)return Fr;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=jl.None,u=null),e[o]=[r,c,u],t[o]=s}return e}function U2(n){if(n==null)return Fr;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function he(n){return Go(()=>{let t=Nv(n);return Rv(t),t})}function Hl(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Nv(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Fr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:j2(n.inputs,t),outputs:U2(n.outputs),debugInfo:null}}function Rv(n){n.features?.forEach(t=>t(n))}function p0(n,t){if(!n)return null;let e=t?Bx:V2;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(L2)}function B2(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function $2(n){return Object.getPrototypeOf(n.prototype).constructor}function ut(n){let t=$2(n.type),e=!0,r=[n];for(;t;){let i;if(wn(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=Mu(n.inputs),s.declaredInputs=Mu(n.declaredInputs),s.outputs=Mu(n.outputs);let c=i.hostBindings;c&&q2(n,c);let u=i.viewQuery,f=i.contentQueries;if(u&&G2(n,u),f&&W2(n,f),H2(n,i),vx(n.outputs,i.outputs),wn(i)&&i.data.animation){let m=n.data;m.animation=(m.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===ut&&(e=!1)}}t=Object.getPrototypeOf(t)}z2(r)}function H2(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function z2(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Uo(i.hostAttrs,e=Uo(e,i.hostAttrs))}}function Mu(n){return n===Fr?{}:n===Mt?[]:n}function G2(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function W2(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function q2(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function Vv(n){return Z2(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Y2(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function Z2(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function es(n,t,e){return n[t]=e}function Q2(n,t){return n[t]}function In(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function Ho(n,t,e,r){let i=In(n,t,e);return In(n,t+1,r)||i}function K2(n,t,e,r,i){let o=Ho(n,t,e,r);return In(n,t+2,i)||o}function Lv(n,t,e,r,i,o){let s=Ho(n,t,e,r);return Ho(n,t+2,i,o)||s}function J2(n,t,e,r,i,o,s,c,u){let f=t.consts,m=uf(t,n,4,s||null,c||null);og()&&Dv(t,e,m,fl(f,u),uv),m.mergedAttrs=Uo(m.mergedAttrs,m.attrs),vg(t,m);let v=m.tView=Xp(2,m,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f,null);return t.queries!==null&&(t.queries.template(t,m),v.queries=t.queries.embeddedTView(m)),m}function X2(n,t,e,r,i,o,s,c,u,f){let m=e+Ht,v=t.firstCreatePass?J2(m,t,n,r,i,o,s,c,u):t.data[m];Yo(v,!1);let S=eS(t,n,v,e);Up()&&lf(t,n,S,v),Qo(S,n);let b=Ev(S,n,S,v);return n[m]=b,tf(n,b),g2(b,v,n),Ap(v)&&nf(t,n,v),u!=null&&cv(n,v,f),v}function C(n,t,e,r,i,o,s,c){let u=te(),f=it(),m=fl(f.consts,o);return X2(u,f,n,t,e,r,i,m,s,c),C}var eS=tS;function tS(n,t,e,r){return Bp(!0),t[He].createComment("")}var jv=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var mf=new H(""),ts=new H(""),zl=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,r,i){this._ngZone=e,this.registry=r,kp()&&(this._destroyRef=L(Hi,{optional:!0})??void 0),hf||(nS(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(e)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}static \u0275fac=function(r){return new(r||n)(U(Se),U(Gl),U(ts))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Gl=(()=>{class n{_applications=new Map;registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return hf?.findTestabilityInTree(this,e,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function nS(n){hf=n}var hf,rS=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new mp})}return n})(),mp=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}};function zr(n){return!!n&&typeof n.then=="function"}function Uv(n){return!!n&&typeof n.subscribe=="function"}var Bv=new H("");function gf(n){return B0([{provide:Bv,multi:!0,useValue:n}])}var $v=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=L(Bv,{optional:!0})??[];injector=L(kt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=Xt(this.injector,i);if(zr(o))e.push(o);else if(Uv(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vf=new H("");function iS(){Jd(()=>{throw new $(600,!1)})}function oS(n){return n.isBoundToModule}var sS=10;function Hv(n,t){return Array.isArray(t)?t.reduce(Hv,n):P(P({},n),t)}var fr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(Xw);afterRenderManager=L(qg);zonelessEnabled=L(Ag);rootEffectScheduler=L(rS);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Re;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=L(zi).hasPendingTasks.pipe(se(e=>!e));constructor(){L(qi,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=L(Dt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=kt.NULL){xe(10);let o=e instanceof Mv;if(!this._injector.get($v).done){let b="";throw new $(405,b)}let c;o?c=e:c=this._injector.get($l).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let u=oS(c)?void 0:this._injector.get(Li),f=r||c.selector,m=c.create(i,[],f,u),v=m.location.nativeElement,S=m.injector.get(mf,null);return S?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),nl(this.components,m),S?.unregisterApplication(v)}),this._loadComponent(m),xe(11,m),m}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Zp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let e=re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,re(e),this.afterTick.next(),xe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ri,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<sS;)xe(14),this.synchronizeOnce(),xe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)aS(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Rl(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;nl(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(vf,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>nl(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new $(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nl(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function aS(n,t,e,r){if(!e&&!Rl(n))return;bv(n,t,e&&!r?0:1)}function mn(n,t,e,r){let i=te(),o=Vl();if(In(i,o,t)){let s=it(),c=jp();tE(c,i,n,t,e,r)}return mn}function lS(n,t,e,r){return In(n,Vl(),e)?t+yn(e)+r:Pt}function cS(n,t,e,r,i,o){let s=cg(),c=Ho(n,s,e,i);return Ll(2),c?t+yn(e)+r+yn(i)+o:Pt}function dS(n,t,e,r,i,o,s,c,u,f){let m=cg(),v=Lv(n,m,e,i,s,u);return Ll(4),v?t+yn(e)+r+yn(i)+o+yn(s)+c+yn(u)+f:Pt}function Qa(n,t){return n<<17|t<<2}function $r(n){return n>>17&32767}function uS(n){return(n&2)==2}function pS(n,t){return n&131071|t<<17}function hp(n){return n|2}function ji(n){return(n&131068)>>2}function Iu(n,t){return n&-131069|t<<2}function fS(n){return(n&1)===1}function gp(n){return n|1}function mS(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,c=$r(s),u=ji(s);n[r]=e;let f=!1,m;if(Array.isArray(e)){let v=e;m=v[1],(m===null||Wo(v,m)>0)&&(f=!0)}else m=e;if(i)if(u!==0){let S=$r(n[c+1]);n[r+1]=Qa(S,c),S!==0&&(n[S+1]=Iu(n[S+1],r)),n[c+1]=pS(n[c+1],r)}else n[r+1]=Qa(c,0),c!==0&&(n[c+1]=Iu(n[c+1],r)),c=r;else n[r+1]=Qa(u,0),c===0?c=r:n[u+1]=Iu(n[u+1],r),u=r;f&&(n[r+1]=hp(n[r+1])),f0(n,m,r,!0),f0(n,m,r,!1),hS(t,m,n,r,o),s=Qa(c,u),o?t.classBindings=s:t.styleBindings=s}function hS(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Wo(o,t)>=0&&(e[r+1]=gp(e[r+1]))}function f0(n,t,e,r){let i=n[e+1],o=t===null,s=r?$r(i):ji(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],f=n[s+1];gS(u,t)&&(c=!0,n[s+1]=r?gp(f):hp(f)),s=r?$r(f):ji(f)}c&&(n[e+1]=r?hp(i):gp(i))}function gS(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Wo(n,t)>=0:!1}var dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vS(n){return n.substring(dn.key,dn.keyEnd)}function _S(n){return yS(n),zv(n,Gv(n,0,dn.textEnd))}function zv(n,t){let e=dn.textEnd;return e===t?-1:(t=dn.keyEnd=bS(n,dn.key=t,e),Gv(n,t,e))}function yS(n){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=n.length}function Gv(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function bS(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function h(n,t,e){let r=te(),i=Vl();if(In(r,i,t)){let o=it(),s=jp();dv(o,s,r,n,t,r[He],e,!1)}return h}function vp(n,t,e,r,i){rf(t,n,e,i?"class":"style",r)}function Yi(n,t,e){return Wv(n,t,e,!1),Yi}function Ft(n,t){return Wv(n,t,null,!0),Ft}function be(n){wS(DS,xS,n,!0)}function xS(n,t){for(let e=_S(t);e>=0;e=zv(t,e))Ip(n,vS(t),!0)}function Wv(n,t,e,r){let i=te(),o=it(),s=Ll(2);if(o.firstUpdatePass&&Yv(o,n,s,r),t!==Pt&&In(i,s,t)){let c=o.data[Jn()];Zv(o,c,i,i[He],n,i[s+1]=kS(t,e),r,s)}}function wS(n,t,e,r){let i=it(),o=Ll(2);i.firstUpdatePass&&Yv(i,null,o,r);let s=te();if(e!==Pt&&In(s,o,e)){let c=i.data[Jn()];if(Qv(c,r)&&!qv(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(e=Ou(u,e||"")),vp(i,c,s,e,r)}else TS(i,c,s,s[He],s[o+1],s[o+1]=IS(n,t,e),r,o)}}function qv(n,t){return t>=n.expandoStartIndex}function Yv(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[Jn()],s=qv(n,e);Qv(o,r)&&t===null&&!s&&(t=!1),t=CS(i,o,t,r),mS(i,o,t,e,s,r)}}function CS(n,t,e,r){let i=Ew(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=Du(null,n,t,e,r),e=zo(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=Du(i,n,t,e,r),o===null){let u=ES(n,t,r);u!==void 0&&Array.isArray(u)&&(u=Du(null,n,t,u[1],r),u=zo(u,t.attrs,r),SS(n,t,r,u))}else o=MS(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function ES(n,t,e){let r=e?t.classBindings:t.styleBindings;if(ji(r)!==0)return n[$r(r)]}function SS(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[$r(i)]=r}function MS(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=zo(r,s,e)}return zo(r,t.attrs,e)}function Du(n,t,e,r,i){let o=null,s=e.directiveEnd,c=e.directiveStylingLast;for(c===-1?c=e.directiveStart:c++;c<s&&(o=t[c],r=zo(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(e.directiveStylingLast=c),r}function zo(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Ip(n,s,e?!0:t[++o]))}return n===void 0?null:n}function IS(n,t,e){if(e==null||e==="")return Mt;let r=[],i=Jo(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function DS(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&Ip(n,r,e)}function TS(n,t,e,r,i,o,s,c){i===Pt&&(i=Mt);let u=0,f=0,m=0<i.length?i[0]:null,v=0<o.length?o[0]:null;for(;m!==null||v!==null;){let S=u<i.length?i[u+1]:void 0,b=f<o.length?o[f+1]:void 0,D=null,R;m===v?(u+=2,f+=2,S!==b&&(D=v,R=b)):v===null||m!==null&&m<v?(u+=2,D=m):(f+=2,D=v,R=b),D!==null&&Zv(n,t,e,r,D,R,s,c),m=u<i.length?i[u]:null,v=f<o.length?o[f]:null}}function Zv(n,t,e,r,i,o,s,c){if(!(t.type&3))return;let u=n.data,f=u[c+1],m=fS(f)?m0(u,t,e,i,ji(f),s):void 0;if(!Dl(m)){Dl(o)||uS(f)&&(o=m0(u,null,e,i,c,s));let v=eg(Jn(),e);wE(r,s,v,i,o)}}function m0(n,t,e,r,i,o){let s=t===null,c;for(;i>0;){let u=n[i],f=Array.isArray(u),m=f?u[1]:u,v=m===null,S=e[i+1];S===Pt&&(S=v?Mt:void 0);let b=v?_u(S,r):m===r?S:void 0;if(f&&!Dl(b)&&(b=_u(u,r)),Dl(b)&&(c=b,s))return c;let D=n[i+1];i=s?$r(D):ji(D)}if(t!==null){let u=o?t.residualClasses:t.residualStyles;u!=null&&(c=_u(u,r))}return c}function Dl(n){return n!==void 0}function kS(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=It(Jo(n)))),n}function Qv(n,t){return(n.flags&(t?8:16))!==0}function a(n,t,e,r){let i=te(),o=it(),s=Ht+n,c=i[He],u=o.firstCreatePass?kv(s,o,i,t,uv,og(),e,r):o.data[s],f=AS(o,i,u,c,t,n);i[s]=f;let m=Ap(u);return Yo(u,!0),iv(c,f,u),!pv(u)&&Up()&&lf(o,i,f,u),(uw()===0||m)&&Qo(f,i),pw(),m&&(nf(o,i,u),Qg(o,u,i)),r!==null&&cv(i,u),a}function l(){let n=vt();ag()?_w():(n=n.parent,Yo(n,!1));let t=n;hw(t)&&gw(),fw();let e=it();return e.firstCreatePass&&Av(e,t),t.classesWithoutHost!=null&&Aw(t)&&vp(e,t,te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Ow(t)&&vp(e,t,te(),t.stylesWithoutHost,!1),l}function _(n,t,e,r){return a(n,t,e,r),l(),_}var AS=(n,t,e,r,i,o)=>(Bp(!0),nv(r,i,Dw()));function N(){return te()}var kr=void 0;function OS(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var PS=["en",[["a","p"],["AM","PM"],kr],[["AM","PM"],kr,kr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kr,"{1} 'at' {0}",kr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",OS],Tu={};function Gt(n){let t=FS(n),e=h0(t);if(e)return e;let r=t.split("-")[0];if(e=h0(r),e)return e;if(r==="en")return PS;throw new $(701,!1)}function h0(n){return n in Tu||(Tu[n]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[n]),Tu[n]}var Pe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Pe||{});function FS(n){return n.toLowerCase().replace(/_/g,"-")}var Tl="en-US";var NS=Tl;function RS(n){typeof n=="string"&&(NS=n.toLowerCase().replace(/_/g,"-"))}function g0(n,t,e){return function r(i){if(i===Function)return e;let o=Bi(n)?En(n.index,t):t;df(o,5);let s=t[Tt],c=v0(t,s,e,i),u=r.__ngNextListenerFn__;for(;u;)c=v0(t,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function v0(n,t,e,r){let i=re(null);try{return xe(6,t,e),e(r)!==!1}catch(o){return VS(n,o),!1}finally{xe(7,t,e),re(i)}}function VS(n,t){let e=n[Pi],r=e?e.get(Sn,null):null;r&&r.handleError(t)}function _0(n,t,e,r,i,o){let s=t[e],c=t[ee],f=c.data[e].outputs[r],m=s[f],v=c.firstCreatePass?Np(c):null,S=Fp(t),b=m.subscribe(o),D=S.length;S.push(o,b),v&&v.push(i,n.index,D,-(D+1))}function E(n,t,e,r){let i=te(),o=it(),s=vt();return Kv(o,i,i[He],s,n,t,r),E}function LS(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let c=t[cl],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function Kv(n,t,e,r,i,o,s){let c=Ap(r),f=n.firstCreatePass?Np(n):null,m=Fp(t),v=!0;if(r.type&3||s){let S=Dn(r,t),b=s?s(S):S,D=m.length,R=s?z=>s(Cn(z[r.index])):r.index,j=null;if(!s&&c&&(j=LS(n,t,i,r.index)),j!==null){let z=j.__ngLastListenerFn__||j;z.__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,v=!1}else{o=g0(r,t,o),bC(t,b,i,o);let z=e.listen(b,i,o);m.push(o,z),f&&f.push(i,R,D,D+1)}}else o=g0(r,t,o);if(v){let S=r.outputs?.[i],b=r.hostDirectiveOutputs?.[i];if(b&&b.length)for(let D=0;D<b.length;D+=2){let R=b[D],j=b[D+1];_0(r,t,R,j,i,o)}if(S&&S.length)for(let D of S)_0(r,t,D,i,i,o)}}function g(n=1){return Mw(n)}function Jv(n,t,e,r){E2(n,t,e,r)}function Xv(n){let t=te(),e=it(),r=dg();Rp(r+1);let i=pf(e,r);if(n.dirty&&sw(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=D2(t,r);n.reset(o,nC),n.notifyOnChanges()}return!0}return!1}function e_(){return w2(te(),dg())}function Fe(n){let t=yw();return Op(t,Ht+n)}function d(n,t=""){let e=te(),r=it(),i=n+Ht,o=r.firstCreatePass?uf(r,i,1,t,null):r.data[i],s=jS(r,e,o,t,n);e[i]=s,Up()&&lf(r,e,s,o),Yo(o,!1)}var jS=(n,t,e,r,i)=>(Bp(!0),jC(t[He],r));function M(n){return I("",n,""),M}function I(n,t,e){let r=te(),i=lS(r,n,t,e);return i!==Pt&&yf(r,Jn(),i),I}function Me(n,t,e,r,i){let o=te(),s=cS(o,n,t,e,r,i);return s!==Pt&&yf(o,Jn(),s),Me}function _f(n,t,e,r,i,o,s,c,u){let f=te(),m=dS(f,n,t,e,r,i,o,s,c,u);return m!==Pt&&yf(f,Jn(),m),_f}function yf(n,t,e){let r=eg(t,n);UC(n[He],r,e)}function k(n,t,e){Vg(t)&&(t=t());let r=te(),i=Vl();if(In(r,i,t)){let o=it(),s=jp();dv(o,s,r,n,t,r[He],e,!1)}return k}function O(n,t){let e=Vg(n);return e&&n.set(t),e}function A(n,t){let e=te(),r=it(),i=vt();return Kv(r,e,e[He],i,n,t),A}function US(n,t,e){let r=it();if(r.firstCreatePass){let i=wn(n);_p(e,r.data,r.blueprint,i,!0),_p(t,r.data,r.blueprint,i,!1)}}function _p(n,t,e,r,i){if(n=gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)_p(n[o],t,e,r,i);else{let o=it(),s=te(),c=vt(),u=Oi(n)?n:gt(n.provide),f=G0(n),m=c.providerIndexes&1048575,v=c.directiveStart,S=c.providerIndexes>>20;if(Oi(n)||!n.multi){let b=new Ur(f,i,F),D=Au(u,t,i?m:m+S,v);D===-1?(zu(vl(c,s),o,u),ku(o,n,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(b),s.push(b)):(e[D]=b,s[D]=b)}else{let b=Au(u,t,m+S,v),D=Au(u,t,m,m+S),R=b>=0&&e[b],j=D>=0&&e[D];if(i&&!j||!i&&!R){zu(vl(c,s),o,u);let z=HS(i?$S:BS,e.length,i,r,f);!i&&j&&(e[D].providerFactory=z),ku(o,n,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(z),s.push(z)}else{let z=t_(e[i?D:b],f,!i&&r);ku(o,n,b>-1?b:D,z)}!i&&r&&j&&e[D].componentProviders++}}}function ku(n,t,e,r){let i=Oi(t),o=Wx(t);if(i||o){let u=(o?gt(t.useClass):t).prototype.ngOnDestroy;if(u){let f=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let m=f.indexOf(e);m===-1?f.push(e,[r,u]):f[m+1].push(r,u)}else f.push(e,u)}}}function t_(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Au(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function BS(n,t,e,r,i){return yp(this.multi,[])}function $S(n,t,e,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=Bo(r,r[ee],this.providerFactory.index,i);s=u.slice(0,c),yp(o,s);for(let f=c;f<u.length;f++)s.push(u[f])}else s=[],yp(o,s);return s}function yp(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function HS(n,t,e,r,i){let o=new Ur(n,e,F);return o.multi=[],o.index=t,o.componentProviders=0,t_(o,i,r&&!e),o}function en(n,t=[]){return e=>{e.providersResolver=(r,i)=>US(r,i?i(n):n,t)}}function Gr(n,t,e){let r=Hr()+n,i=te();return i[r]===Pt?es(i,r,e?t.call(e):t()):Q2(i,r)}function bf(n,t,e,r){return r_(te(),Hr(),n,t,e,r)}function Zi(n,t,e,r,i){return i_(te(),Hr(),n,t,e,r,i)}function n_(n,t,e,r,i,o){return zS(te(),Hr(),n,t,e,r,i,o)}function Wl(n,t,e,r,i,o,s){return GS(te(),Hr(),n,t,e,r,i,o,s)}function ql(n,t){let e=n[t];return e===Pt?void 0:e}function r_(n,t,e,r,i,o){let s=t+e;return In(n,s,i)?es(n,s+1,o?r.call(o,i):r(i)):ql(n,s+1)}function i_(n,t,e,r,i,o,s){let c=t+e;return Ho(n,c,i,o)?es(n,c+2,s?r.call(s,i,o):r(i,o)):ql(n,c+2)}function zS(n,t,e,r,i,o,s,c){let u=t+e;return K2(n,u,i,o,s)?es(n,u+3,c?r.call(c,i,o,s):r(i,o,s)):ql(n,u+3)}function GS(n,t,e,r,i,o,s,c,u){let f=t+e;return Lv(n,f,i,o,s,c)?es(n,f+4,u?r.call(u,i,o,s,c):r(i,o,s,c)):ql(n,f+4)}function Le(n,t){let e=it(),r,i=n+Ht;e.firstCreatePass?(r=WS(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Pr(r.type,!0)),s,c=St(F);try{let u=gl(!1),f=o();return gl(u),ow(e,te(),i,f),f}finally{St(c)}}function WS(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function ns(n,t,e){let r=n+Ht,i=te(),o=Op(i,r);return o_(i,r)?r_(i,Hr(),t,o.transform,e,o):o.transform(e)}function ot(n,t,e,r){let i=n+Ht,o=te(),s=Op(o,i);return o_(o,i)?i_(o,Hr(),t,s.transform,e,r,s):s.transform(e,r)}function o_(n,t){return n[ee].data[t].pure}function Tn(n,t){return Bl(n,t)}var Ka=null;function qS(n){Ka!==null&&(n.defaultEncapsulation!==Ka.defaultEncapsulation||n.preserveWhitespaces!==Ka.preserveWhitespaces)||(Ka=n)}var bp=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},s_=(()=>{class n{compileModuleSync(e){return new Il(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=U0(e),o=ev(i.declarations).reduce((s,c)=>{let u=Nr(c);return u&&s.push(new Vi(u)),s},[]);return new bp(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YS=new H("");function ZS(n,t,e){let r=new Il(e);return Promise.resolve(r)}function y0(n){for(let t=n.length-1;t>=0;t--)if(n[t]!==void 0)return n[t]}var QS=(()=>{class n{zone=L(Se);changeDetectionScheduler=L(Ni);applicationRef=L(fr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KS({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Se(G(P({},a_()),{scheduleInRootZone:e})),[{provide:Se,useFactory:n},{provide:Vo,multi:!0,useFactory:()=>{let r=L(QS,{optional:!0});return()=>r.initialize()}},{provide:Vo,multi:!0,useFactory:()=>{let r=L(JS);return()=>{r.initialize()}}},t===!0?{provide:Og,useValue:!0}:[],{provide:Pg,useValue:e??kg}]}function a_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var JS=(()=>{class n{subscription=new Te;initialized=!1;zone=L(Se);pendingTasks=L(zi);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var XS=(()=>{class n{appRef=L(fr);taskService=L(zi);ngZone=L(Se);zonelessEnabled=L(Ag);tracing=L(qi,{optional:!0});disableScheduling=L(Og,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Te;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(Pg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bl||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Zh:Fg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Zh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eM(){return typeof $localize<"u"&&$localize.locale||Tl}var rs=new H("",{providedIn:"root",factory:()=>L(rs,X.Optional|X.SkipSelf)||eM()});var kl=new H(""),tM=new H("");function Oo(n){return!n.moduleRef}function nM(n){let t=Oo(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Se);return e.run(()=>{Oo(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(Sn,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Oo(n)){let o=()=>t.destroy(),s=n.platformInjector.get(kl);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(kl);s.add(o),n.moduleRef.onDestroy(()=>{nl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return iM(r,e,()=>{let o=t.get($v);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(rs,Tl);if(RS(s||Tl),!t.get(tM,!0))return Oo(n)?t.get(fr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Oo(n)){let u=t.get(fr);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return rM(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function rM(n,t){let e=n.injector.get(fr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new $(-403,!1);t.push(n)}function iM(n,t,e){try{let r=e();return zr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var l_=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,r){let i=r?.scheduleInRootZone,o=()=>Jw(r?.ngZone,G(P({},a_({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,c=[KS({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Ni,useExisting:XS}],u=N2(e.moduleType,this.injector,c);return nM({moduleRef:u,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,r=[]){let i=Hv({},r);return ZS(this.injector,i,e).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let e=this._injector.get(kl,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||n)(U(kt))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ro=null,c_=new H("");function oM(n){if(Ro&&!Ro.get(c_,!1))throw new $(400,!1);iS(),Ro=n;let t=n.get(l_);return lM(n),t}function xf(n,t,e=[]){let r=`Platform: ${t}`,i=new H(r);return(o=[])=>{let s=d_();if(!s||s.injector.get(c_,!1)){let c=[...e,...o,{provide:i,useValue:!0}];n?n(c):oM(sM(c,r))}return aM(i)}}function sM(n=[],t){return kt.create({name:t,providers:[{provide:Fl,useValue:"platform"},{provide:kl,useValue:new Set([()=>Ro=null])},...n]})}function aM(n){let t=d_();if(!t)throw new $(401,!1);return t}function d_(){return Ro?.get(l_)??null}function lM(n){let t=n.get(qp,null);Xt(n,()=>{t?.forEach(e=>e())})}var hr=(()=>{class n{static __NG_ELEMENT_ID__=cM}return n})();function cM(n){return dM(vt(),te(),(n&16)===16)}function dM(n,t,e){if(Bi(n)&&!e){let r=En(n.index,t);return new $o(r,r)}else if(n.type&175){let r=t[xn];return new $o(r,t)}return null}var xp=class{constructor(){}supports(t){return Vv(t)}create(t){return new wp(t)}},uM=(n,t)=>t,wp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||uM}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<b0(r,i,o)?e:r,c=b0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let f=c-i,m=u-i;if(f!=m){for(let S=0;S<f;S++){let b=S<o.length?o[S]:o[S]=0,D=b+S;m<=D&&D<f&&(o[S]=b+1)}let v=s.previousIndex;o[v]=m-f}}c!==u&&t(s,c,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Vv(t))throw new $(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)o=t[c],s=this._trackByFn(c,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,c),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,Y2(t,c=>{s=this._trackByFn(i,c),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,c,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,c,s,i)),Object.is(e.item,c)||this._addIdentityChange(e,c)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new Cp(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Al),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Al),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Cp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Ep=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Al=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new Ep,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function b0(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function x0(){return new wf([new xp])}var wf=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:x0});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||x0()),deps:[[n,new Nx,new Fx]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new $(901,!1)}}return n})();var u_=xf(null,"core",[]),p_=(()=>{class n{constructor(e){}static \u0275fac=function(r){return new(r||n)(U(fr))};static \u0275mod=dt({type:n});static \u0275inj=ct({})}return n})();function gr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Xn(n){return tu(n)}function is(n,t){return Kd(n,t?.equal)}var w0=class{[Qt];constructor(t){this[Qt]=t}destroy(){this[Qt].destroy()}};function f_(n){let t=Nr(n);if(!t)return null;let e=new Vi(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Je=new H("");var g_=null;function Wt(){return g_}function Cf(n){g_??=n}var os=class{},ss=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(v_),providedIn:"platform"})}return n})(),Ef=new H(""),v_=(()=>{class n extends ss{_location;_history;_doc=L(Je);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wt().getBaseHref(this._doc)}onPopState(e){let r=Wt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Wt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Yl(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function m_(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function hn(n){return n&&n[0]!=="?"?`?${n}`:n}var gn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(Ql),providedIn:"root"})}return n})(),Zl=new H(""),Ql=(()=>{class n extends gn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Yl(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+hn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+hn(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+hn(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(U(ss),U(Zl,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vr=(()=>{class n{_subject=new Re;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=mM(m_(h_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+hn(r))}normalize(e){return n.stripTrailingSlash(fM(this._basePath,h_(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+hn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+hn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=hn;static joinWithSlash=Yl;static stripTrailingSlash=m_;static \u0275fac=function(r){return new(r||n)(U(gn))};static \u0275prov=B({token:n,factory:()=>pM(),providedIn:"root"})}return n})();function pM(){return new vr(U(gn))}function fM(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function h_(n){return n.replace(/\/index.html$/,"")}function mM(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Af=(()=>{class n extends gn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Yl(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+hn(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+hn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(U(ss),U(Zl,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var Of=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Of||{});var pt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(pt||{}),ve=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ve||{}),Nt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Nt||{}),Rt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function C_(n){return Gt(n)[Pe.LocaleId]}function E_(n,t,e){let r=Gt(n),i=[r[Pe.DayPeriodsFormat],r[Pe.DayPeriodsStandalone]],o=tn(i,t);return tn(o,e)}function S_(n,t,e){let r=Gt(n),i=[r[Pe.DaysFormat],r[Pe.DaysStandalone]],o=tn(i,t);return tn(o,e)}function M_(n,t,e){let r=Gt(n),i=[r[Pe.MonthsFormat],r[Pe.MonthsStandalone]],o=tn(i,t);return tn(o,e)}function I_(n,t){let r=Gt(n)[Pe.Eras];return tn(r,t)}function as(n,t){let e=Gt(n);return tn(e[Pe.DateFormat],t)}function ls(n,t){let e=Gt(n);return tn(e[Pe.TimeFormat],t)}function cs(n,t){let r=Gt(n)[Pe.DateTimeFormat];return tn(r,t)}function kn(n,t){let e=Gt(n),r=e[Pe.NumberSymbols][t];if(typeof r>"u"){if(t===Rt.CurrencyDecimal)return e[Pe.NumberSymbols][Rt.Decimal];if(t===Rt.CurrencyGroup)return e[Pe.NumberSymbols][Rt.Group]}return r}function D_(n,t){return Gt(n)[Pe.NumberFormats][t]}function T_(n){if(!n[Pe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Pe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function k_(n){let t=Gt(n);return T_(t),(t[Pe.ExtraData][2]||[]).map(r=>typeof r=="string"?Sf(r):[Sf(r[0]),Sf(r[1])])}function A_(n,t,e){let r=Gt(n);T_(r);let i=[r[Pe.ExtraData][0],r[Pe.ExtraData][1]],o=tn(i,t)||[];return tn(o,e)||[]}function tn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Sf(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var hM=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kl={},gM=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function O_(n,t,e,r){let i=SM(n);t=er(e,t)||t;let s=[],c;for(;t;)if(c=gM.exec(t),c){s=s.concat(c.slice(1));let m=s.pop();if(!m)break;t=m}else{s.push(t);break}let u=i.getTimezoneOffset();r&&(u=F_(r,u),i=EM(i,r));let f="";return s.forEach(m=>{let v=wM(m);f+=v?v(i,e,u):m==="''"?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function nc(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function er(n,t){let e=C_(n);if(Kl[e]??={},Kl[e][t])return Kl[e][t];let r="";switch(t){case"shortDate":r=as(n,Nt.Short);break;case"mediumDate":r=as(n,Nt.Medium);break;case"longDate":r=as(n,Nt.Long);break;case"fullDate":r=as(n,Nt.Full);break;case"shortTime":r=ls(n,Nt.Short);break;case"mediumTime":r=ls(n,Nt.Medium);break;case"longTime":r=ls(n,Nt.Long);break;case"fullTime":r=ls(n,Nt.Full);break;case"short":let i=er(n,"shortTime"),o=er(n,"shortDate");r=Jl(cs(n,Nt.Short),[i,o]);break;case"medium":let s=er(n,"mediumTime"),c=er(n,"mediumDate");r=Jl(cs(n,Nt.Medium),[s,c]);break;case"long":let u=er(n,"longTime"),f=er(n,"longDate");r=Jl(cs(n,Nt.Long),[u,f]);break;case"full":let m=er(n,"fullTime"),v=er(n,"fullDate");r=Jl(cs(n,Nt.Full),[m,v]);break}return r&&(Kl[e][t]=r),r}function Jl(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function vn(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function vM(n,t){return vn(n,3).substring(0,t)}function ze(n,t,e=0,r=!1,i=!1){return function(o,s){let c=_M(n,o);if((e>0||c>-e)&&(c+=e),n===3)c===0&&e===-12&&(c=12);else if(n===6)return vM(c,t);let u=kn(s,Rt.MinusSign);return vn(c,t,u,r,i)}}function _M(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function we(n,t,e=pt.Format,r=!1){return function(i,o){return yM(i,o,n,t,e,r)}}function yM(n,t,e,r,i,o){switch(e){case 2:return M_(t,i,r)[n.getMonth()];case 1:return S_(t,i,r)[n.getDay()];case 0:let s=n.getHours(),c=n.getMinutes();if(o){let f=k_(t),m=A_(t,i,r),v=f.findIndex(S=>{if(Array.isArray(S)){let[b,D]=S,R=s>=b.hours&&c>=b.minutes,j=s<D.hours||s===D.hours&&c<D.minutes;if(b.hours<D.hours){if(R&&j)return!0}else if(R||j)return!0}else if(S.hours===s&&S.minutes===c)return!0;return!1});if(v!==-1)return m[v]}return E_(t,i,r)[s<12?0:1];case 3:return I_(t,r)[n.getFullYear()<=0?0:1];default:let u=e;throw new Error(`unexpected translation type ${u}`)}}function Xl(n){return function(t,e,r){let i=-1*r,o=kn(e,Rt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+vn(s,2,o)+vn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+vn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+vn(s,2,o)+":"+vn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+vn(s,2,o)+":"+vn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var bM=0,tc=4;function xM(n){let t=nc(n,bM,1).getDay();return nc(n,0,1+(t<=tc?tc:tc+7)-t)}function P_(n){let t=n.getDay(),e=t===0?-3:tc-t;return nc(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Mf(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=P_(e),s=xM(o.getFullYear()),c=o.getTime()-s.getTime();i=1+Math.round(c/6048e5)}return vn(i,n,kn(r,Rt.MinusSign))}}function ec(n,t=!1){return function(e,r){let o=P_(e).getFullYear();return vn(o,n,kn(r,Rt.MinusSign),t)}}var If={};function wM(n){if(If[n])return If[n];let t;switch(n){case"G":case"GG":case"GGG":t=we(3,ve.Abbreviated);break;case"GGGG":t=we(3,ve.Wide);break;case"GGGGG":t=we(3,ve.Narrow);break;case"y":t=ze(0,1,0,!1,!0);break;case"yy":t=ze(0,2,0,!0,!0);break;case"yyy":t=ze(0,3,0,!1,!0);break;case"yyyy":t=ze(0,4,0,!1,!0);break;case"Y":t=ec(1);break;case"YY":t=ec(2,!0);break;case"YYY":t=ec(3);break;case"YYYY":t=ec(4);break;case"M":case"L":t=ze(1,1,1);break;case"MM":case"LL":t=ze(1,2,1);break;case"MMM":t=we(2,ve.Abbreviated);break;case"MMMM":t=we(2,ve.Wide);break;case"MMMMM":t=we(2,ve.Narrow);break;case"LLL":t=we(2,ve.Abbreviated,pt.Standalone);break;case"LLLL":t=we(2,ve.Wide,pt.Standalone);break;case"LLLLL":t=we(2,ve.Narrow,pt.Standalone);break;case"w":t=Mf(1);break;case"ww":t=Mf(2);break;case"W":t=Mf(1,!0);break;case"d":t=ze(2,1);break;case"dd":t=ze(2,2);break;case"c":case"cc":t=ze(7,1);break;case"ccc":t=we(1,ve.Abbreviated,pt.Standalone);break;case"cccc":t=we(1,ve.Wide,pt.Standalone);break;case"ccccc":t=we(1,ve.Narrow,pt.Standalone);break;case"cccccc":t=we(1,ve.Short,pt.Standalone);break;case"E":case"EE":case"EEE":t=we(1,ve.Abbreviated);break;case"EEEE":t=we(1,ve.Wide);break;case"EEEEE":t=we(1,ve.Narrow);break;case"EEEEEE":t=we(1,ve.Short);break;case"a":case"aa":case"aaa":t=we(0,ve.Abbreviated);break;case"aaaa":t=we(0,ve.Wide);break;case"aaaaa":t=we(0,ve.Narrow);break;case"b":case"bb":case"bbb":t=we(0,ve.Abbreviated,pt.Standalone,!0);break;case"bbbb":t=we(0,ve.Wide,pt.Standalone,!0);break;case"bbbbb":t=we(0,ve.Narrow,pt.Standalone,!0);break;case"B":case"BB":case"BBB":t=we(0,ve.Abbreviated,pt.Format,!0);break;case"BBBB":t=we(0,ve.Wide,pt.Format,!0);break;case"BBBBB":t=we(0,ve.Narrow,pt.Format,!0);break;case"h":t=ze(3,1,-12);break;case"hh":t=ze(3,2,-12);break;case"H":t=ze(3,1);break;case"HH":t=ze(3,2);break;case"m":t=ze(4,1);break;case"mm":t=ze(4,2);break;case"s":t=ze(5,1);break;case"ss":t=ze(5,2);break;case"S":t=ze(6,1);break;case"SS":t=ze(6,2);break;case"SSS":t=ze(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Xl(0);break;case"ZZZZZ":t=Xl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Xl(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Xl(2);break;default:return null}return If[n]=t,t}function F_(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function CM(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function EM(n,t,e){let i=n.getTimezoneOffset(),o=F_(t,i);return CM(n,-1*(o-i))}function SM(n){if(__(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(c=>+c);return nc(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(hM))return MM(r)}let t=new Date(n);if(!__(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function MM(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,c=Number(n[5]||0)-r,u=Number(n[6]||0),f=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,c,u,f),t}function __(n){return n instanceof Date&&!isNaN(n.valueOf())}var IM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,y_=22,rc=".",ds="0",DM=";",TM=",",Df="#";function kM(n,t,e,r,i,o,s=!1){let c="",u=!1;if(!isFinite(n))c=kn(e,Rt.Infinity);else{let f=PM(n);s&&(f=OM(f));let m=t.minInt,v=t.minFrac,S=t.maxFrac;if(o){let _e=o.match(IM);if(_e===null)throw new Error(`${o} is not a valid digit info`);let Ae=_e[1],W=_e[3],ge=_e[5];Ae!=null&&(m=Tf(Ae)),W!=null&&(v=Tf(W)),ge!=null?S=Tf(ge):W!=null&&v>S&&(S=v)}FM(f,v,S);let b=f.digits,D=f.integerLen,R=f.exponent,j=[];for(u=b.every(_e=>!_e);D<m;D++)b.unshift(0);for(;D<0;D++)b.unshift(0);D>0?j=b.splice(D,b.length):(j=b,b=[0]);let z=[];for(b.length>=t.lgSize&&z.unshift(b.splice(-t.lgSize,b.length).join(""));b.length>t.gSize;)z.unshift(b.splice(-t.gSize,b.length).join(""));b.length&&z.unshift(b.join("")),c=z.join(kn(e,r)),j.length&&(c+=kn(e,i)+j.join("")),R&&(c+=kn(e,Rt.Exponential)+"+"+R)}return n<0&&!u?c=t.negPre+c+t.negSuf:c=t.posPre+c+t.posSuf,c}function N_(n,t,e){let r=D_(t,Of.Decimal),i=AM(r,kn(t,Rt.MinusSign));return kM(n,i,t,Rt.Group,Rt.Decimal,e)}function AM(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(DM),i=r[0],o=r[1],s=i.indexOf(rc)!==-1?i.split(rc):[i.substring(0,i.lastIndexOf(ds)+1),i.substring(i.lastIndexOf(ds)+1)],c=s[0],u=s[1]||"";e.posPre=c.substring(0,c.indexOf(Df));for(let m=0;m<u.length;m++){let v=u.charAt(m);v===ds?e.minFrac=e.maxFrac=m+1:v===Df?e.maxFrac=m+1:e.posSuf+=v}let f=c.split(TM);if(e.gSize=f[1]?f[1].length:0,e.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,o){let m=i.length-e.posPre.length-e.posSuf.length,v=o.indexOf(Df);e.negPre=o.substring(0,v).replace(/'/g,""),e.negSuf=o.slice(v+m).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function OM(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function PM(n){let t=Math.abs(n)+"",e=0,r,i,o,s,c;for((i=t.indexOf(rc))>-1&&(t=t.replace(rc,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===ds;o++);if(o===(c=t.length))r=[0],i=1;else{for(c--;t.charAt(c)===ds;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(t.charAt(o))}return i>y_&&(r=r.splice(0,y_-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function FM(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(t,i),e),s=o+n.integerLen,c=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let v=s;v<r.length;v++)r[v]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let v=1;v<s;v++)r[v]=0}if(c>=5)if(s-1<0){for(let v=0;v>s;v--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,f=t+n.integerLen,m=r.reduceRight(function(v,S,b,D){return S=S+v,D[b]=S<10?S:S-10,u&&(D[b]===0&&b>=f?D.pop():u=!1),S>=10?1:0},0);m&&(r.unshift(m),n.integerLen++)}function Tf(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}var kf=/\s+/,b_=[],yt=(()=>{class n{_ngEl;_renderer;initialClasses=b_;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(kf):b_}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(kf):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(kf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(F(_t),F(fn))};static \u0275dir=he({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var ic=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ce=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ic(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),x_(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);x_(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(F(mr),F(Br),F(wf))};static \u0275dir=he({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function x_(n,t){n.context.$implicit=t.item}var pe=(()=>{class n{_viewContainer;_context=new oc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){w_(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){w_(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(F(mr),F(Br))};static \u0275dir=he({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),oc=class{$implicit=null;ngIf=null};function w_(n,t){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}function Pf(n,t){return new $(2100,!1)}var NM=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,us=(()=>{class n{transform(e){if(e==null)return null;if(typeof e!="string")throw Pf(n,e);return e.replace(NM,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Hl({name:"titlecase",type:n,pure:!0})}return n})();var RM="mediumDate",R_=new H(""),V_=new H(""),tr=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??RM,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return O_(e,s,o||this.locale,c)}catch(s){throw Pf(n,s.message)}}static \u0275fac=function(r){return new(r||n)(F(rs,16),F(R_,24),F(V_,24))};static \u0275pipe=Hl({name:"date",type:n,pure:!0})}return n})();var ps=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,r,i){if(!VM(e))return null;i||=this._locale;try{let o=LM(e);return N_(o,i,r)}catch(o){throw Pf(n,o.message)}}static \u0275fac=function(r){return new(r||n)(F(rs,16))};static \u0275pipe=Hl({name:"number",type:n,pure:!0})}return n})();function VM(n){return!(n==null||n===""||n!==n)}function LM(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Ff=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=dt({type:n});static \u0275inj=ct({})}return n})();function Nf(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Rf="browser",L_="server";function sc(n){return n===L_}var fs=class{};var j_=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new Vf(L(Je),window)})}return n})(),Vf=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=UM(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function UM(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var cc=new H(""),Bf=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(U(cc),U(Se))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),ms=class{_doc;constructor(t){this._doc=t}manager},ac="ng-app-id";function U_(n){for(let t of n)t.remove()}function B_(n,t){let e=t.createElement("style");return e.textContent=n,e}function BM(n,t,e,r){let i=n.head?.querySelectorAll(`style[${ac}="${t}"],link[${ac}="${t}"]`);if(i)for(let o of i)o.removeAttribute(ac),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function jf(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var $f=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=sc(o),BM(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,B_);r?.forEach(i=>this.addUsage(i,this.external,jf))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(U_(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])U_(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,B_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,jf(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ac,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(U(Je),U(Wp),U(Yp,8),U(Wi))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Lf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hf=/%COMP%/g;var H_="%COMP%",$M=`_nghost-${H_}`,HM=`_ngcontent-${H_}`,zM=!0,GM=new H("",{providedIn:"root",factory:()=>zM});function WM(n){return HM.replace(Hf,n)}function qM(n){return $M.replace(Hf,n)}function z_(n,t){return t.map(e=>e.replace(Hf,n))}var zf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,c,u,f=null,m=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=f,this.tracingService=m,this.platformIsServer=sc(c),this.defaultRenderer=new hs(e,s,u,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mn.ShadowDom&&(r=G(P({},r),{encapsulation:Mn.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof lc?i.applyToHost(e):i instanceof gs&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,v=this.platformIsServer,S=this.tracingService;switch(r.encapsulation){case Mn.Emulated:o=new lc(u,f,r,this.appId,m,s,c,v,S);break;case Mn.ShadowDom:return new Uf(u,f,e,r,s,c,this.nonce,v,S);default:o=new gs(u,f,r,m,s,c,v,S);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(U(Bf),U($f),U(Wp),U(GM),U(Je),U(Wi),U(Se),U(Yp),U(qi,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),hs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Lf[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){($_(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&($_(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new $(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=Lf[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=Lf[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Yn.DashCase|Yn.Important)?t.style.setProperty(e,r,i&Yn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Yn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Wt().getGlobalEventTarget(this.doc,t),!t))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function $_(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Uf=class extends hs{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,c,u,f){super(t,o,s,u,f),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=z_(i.id,m);for(let S of m){let b=document.createElement("style");c&&b.setAttribute("nonce",c),b.textContent=S,this.shadowRoot.appendChild(b)}let v=i.getExternalStyles?.();if(v)for(let S of v){let b=jf(S,o);c&&b.setAttribute("nonce",c),this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gs=class extends hs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,c,u,f){super(t,o,s,c,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let m=r.styles;this.styles=f?z_(f,m):m,this.styleUrls=r.getExternalStyles?.(f)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},lc=class extends gs{contentAttr;hostAttr;constructor(t,e,r,i,o,s,c,u,f){let m=i+"-"+r.id;super(t,e,r,o,s,c,u,f,m),this.contentAttr=WM(m),this.hostAttr=qM(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var dc=class n extends os{supportsDOMEvents=!0;static makeCurrent(){Cf(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=YM();return e==null?null:ZM(e)}resetBaseElement(){vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Nf(document.cookie,t)}},vs=null;function YM(){return vs=vs||document.head.querySelector("base"),vs?vs.getAttribute("href"):null}function ZM(n){return new URL(n,document.baseURI).pathname}var uc=class{addToWindow(t){ht.getAngularTestability=(r,i=!0)=>{let o=t.findTestabilityInTree(r,i);if(o==null)throw new $(5103,!1);return o},ht.getAllAngularTestabilities=()=>t.getAllTestabilities(),ht.getAllAngularRootElements=()=>t.getAllRootElements();let e=r=>{let i=ht.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(c=>{c.whenStable(s)})};ht.frameworkStabilizers||(ht.frameworkStabilizers=[]),ht.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,r){if(e==null)return null;let i=t.getTestability(e);return i??(r?Wt().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},QM=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),W_=(()=>{class n extends ms{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(U(Je))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),G_=["alt","control","meta","shift"],KM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JM={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},q_=(()=>{class n extends ms{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wt().onAndCancel(e,s.domEventName,c,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),G_.forEach(f=>{let m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(e,r){let i=KM[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),G_.forEach(s=>{if(s!==i){let c=JM[s];c(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(U(Je))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function XM(){dc.makeCurrent()}function eI(){return new Sn}function tI(){return zg(document),document}var nI=[{provide:Wi,useValue:Rf},{provide:qp,useValue:XM,multi:!0},{provide:Je,useFactory:tI}],Gf=xf(u_,"browser",nI);var rI=[{provide:ts,useClass:uc},{provide:mf,useClass:zl,deps:[Se,Gl,ts]},{provide:zl,useClass:zl,deps:[Se,Gl,ts]}],iI=[{provide:Fl,useValue:"root"},{provide:Sn,useFactory:eI},{provide:cc,useClass:W_,multi:!0,deps:[Je]},{provide:cc,useClass:q_,multi:!0,deps:[Je]},zf,$f,Bf,{provide:Ri,useExisting:zf},{provide:fs,useClass:QM},[]],Wf=(()=>{class n{constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275mod=dt({type:n});static \u0275inj=ct({providers:[...iI,...rI],imports:[Ff,p_]})}return n})();var Y_=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(U(Je))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J="primary",ks=Symbol("RouteTitle"),Kf=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Yr(n){return new Kf(n)}function r1(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function oI(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!An(n[e],t[e]))return!1;return!0}function An(n,t){let e=n?Jf(n):void 0,r=t?Jf(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!i1(n[i],t[i]))return!1;return!0}function Jf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function i1(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function o1(n){return n.length>0?n[n.length-1]:null}function wr(n){return pu(n)?n:zr(n)?oe(Promise.resolve(n)):q(n)}var sI={exact:a1,subset:l1},s1={exact:aI,subset:lI,ignored:()=>!0};function Q_(n,t,e){return sI[e.paths](n.root,t.root,e.matrixParams)&&s1[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function aI(n,t){return An(n,t)}function a1(n,t,e){if(!Wr(n.segments,t.segments)||!mc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!a1(n.children[r],t.children[r],e))return!1;return!0}function lI(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>i1(n[e],t[e]))}function l1(n,t,e){return c1(n,t,t.segments,e)}function c1(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!Wr(i,e)||t.hasChildren()||!mc(i,e,r))}else if(n.segments.length===e.length){if(!Wr(n.segments,e)||!mc(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!l1(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Wr(n.segments,i)||!mc(n.segments,i,r)||!n.children[J]?!1:c1(n.children[J],t,o,r)}}function mc(n,t,e){return t.every((r,i)=>s1[e](n[i].parameters,r.parameters))}var Pn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new fe([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){return uI.serialize(this)}},fe=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hc(this)}},_r=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Yr(this.parameters),this._parameterMap}toString(){return u1(this)}};function cI(n,t){return Wr(n,t)&&n.every((e,r)=>An(e.parameters,t[r].parameters))}function Wr(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function dI(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===J&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==J&&(e=e.concat(t(i,r)))}),e}var Zr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new yr,providedIn:"root"})}return n})(),yr=class{parse(t){let e=new em(t);return new Pn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${_s(t.root,!0)}`,r=mI(t.queryParams),i=typeof t.fragment=="string"?`#${pI(t.fragment)}`:"";return`${e}${r}${i}`}},uI=new yr;function hc(n){return n.segments.map(t=>u1(t)).join("/")}function _s(n,t){if(!n.hasChildren())return hc(n);if(t){let e=n.children[J]?_s(n.children[J],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${_s(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=dI(n,(r,i)=>i===J?[_s(n.children[J],!1)]:[`${i}:${_s(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[J]!=null?`${hc(n)}/${e[0]}`:`${hc(n)}/(${e.join("//")})`}}function d1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pc(n){return d1(n).replace(/%3B/gi,";")}function pI(n){return encodeURI(n)}function Xf(n){return d1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gc(n){return decodeURIComponent(n)}function K_(n){return gc(n.replace(/\+/g,"%20"))}function u1(n){return`${Xf(n.path)}${fI(n.parameters)}`}function fI(n){return Object.entries(n).map(([t,e])=>`;${Xf(t)}=${Xf(e)}`).join("")}function mI(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${pc(e)}=${pc(i)}`).join("&"):`${pc(e)}=${pc(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var hI=/^[^\/()?;#]+/;function qf(n){let t=n.match(hI);return t?t[0]:""}var gI=/^[^\/()?;=#]+/;function vI(n){let t=n.match(gI);return t?t[0]:""}var _I=/^[^=?&#]+/;function yI(n){let t=n.match(_I);return t?t[0]:""}var bI=/^[^&#]+/;function xI(n){let t=n.match(bI);return t?t[0]:""}var em=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[J]=new fe(t,e)),r}parseSegment(){let t=qf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(t),new _r(gc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=vI(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=qf(this.remaining);i&&(r=i,this.capture(r))}t[gc(e)]=gc(r)}parseQueryParam(t){let e=yI(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=xI(this.remaining);s&&(r=s,this.capture(r))}let i=K_(e),o=K_(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=J);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[J]:new fe([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new $(4011,!1)}};function p1(n){return n.segments.length>0?new fe([],{[J]:n}):n}function f1(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=f1(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))t[s]=c;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new fe(n.segments,t);return wI(e)}function wI(n){if(n.numberOfChildren===1&&n.children[J]){let t=n.children[J];return new fe(n.segments.concat(t.segments),t.children)}return n}function br(n){return n instanceof Pn}function m1(n,t,e=null,r=null){let i=h1(n);return g1(i,t,e,r)}function h1(n){let t;function e(o){let s={};for(let u of o.children){let f=e(u);s[u.outlet]=f}let c=new fe(o.url,s);return o===n&&(t=c),c}let r=e(n.root),i=p1(r);return t??i}function g1(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return Yf(i,i,i,e,r);let o=CI(t);if(o.toRoot())return Yf(i,i,new fe([],{}),e,r);let s=EI(o,i,n),c=s.processChildren?bs(s.segmentGroup,s.index,o.commands):_1(s.segmentGroup,s.index,o.commands);return Yf(i,s.segmentGroup,c,e,r)}function _c(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ws(n){return typeof n=="object"&&n!=null&&n.outlets}function Yf(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([u,f])=>{o[u]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`});let s;n===t?s=e:s=v1(n,t,e);let c=p1(f1(s));return new Pn(c,o,i)}function v1(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=v1(o,t,e)}),new fe(n.segments,r)}var yc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&_c(r[0]))throw new $(4003,!1);let i=r.find(ws);if(i&&i!==o1(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CI(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new yc(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,f])=>{c[u]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?e=!0:c===".."?t++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new yc(e,t,r)}var Ji=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function EI(n,t,e){if(n.isAbsolute)return new Ji(t,!0,0);if(!e)return new Ji(t,!1,NaN);if(e.parent===null)return new Ji(e,!0,0);let r=_c(n.commands[0])?0:1,i=e.segments.length-1+r;return SI(e,i,n.numberOfDoubleDots)}function SI(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Ji(r,!1,i-o)}function MI(n){return ws(n[0])?n[0].outlets:{[J]:n}}function _1(n,t,e){if(n??=new fe([],{}),n.segments.length===0&&n.hasChildren())return bs(n,t,e);let r=II(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new fe(n.segments.slice(0,r.pathIndex),{});return o.children[J]=new fe(n.segments.slice(r.pathIndex),n.children),bs(o,0,i)}else return r.match&&i.length===0?new fe(n.segments,{}):r.match&&!n.hasChildren()?tm(n,t,e):r.match?bs(n,0,i):tm(n,t,e)}function bs(n,t,e){if(e.length===0)return new fe(n.segments,{});{let r=MI(e),i={};if(Object.keys(r).some(o=>o!==J)&&n.children[J]&&n.numberOfChildren===1&&n.children[J].segments.length===0){let o=bs(n.children[J],t,e);return new fe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_1(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(n.segments,i)}}function II(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],c=e[r];if(ws(c))break;let u=`${c}`,f=r<e.length-1?e[r+1]:null;if(i>0&&u===void 0)break;if(u&&f&&typeof f=="object"&&f.outlets===void 0){if(!X_(u,f,s))return o;r+=2}else{if(!X_(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tm(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(ws(o)){let u=DI(o.outlets);return new fe(r,u)}if(i===0&&_c(e[0])){let u=n.segments[t];r.push(new _r(u.path,J_(e[0]))),i++;continue}let s=ws(o)?o.outlets[J]:`${o}`,c=i<e.length-1?e[i+1]:null;s&&c&&_c(c)?(r.push(new _r(s,J_(c))),i+=2):(r.push(new _r(s,{})),i++)}return new fe(r,{})}function DI(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=tm(new fe([],{}),0,r))}),t}function J_(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function X_(n,t,e){return n==e.path&&An(t,e.parameters)}var vc="imperative",Ke=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ke||{}),Yt=class{id;url;constructor(t,e){this.id=t,this.url=e}},xr=class extends Yt{type=Ke.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},st=class extends Yt{urlAfterRedirects;type=Ke.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Vt||{}),eo=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(eo||{}),On=class extends Yt{reason;code;type=Ke.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fn=class extends Yt{reason;code;type=Ke.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},to=class extends Yt{error;target;type=Ke.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cs=class extends Yt{urlAfterRedirects;state;type=Ke.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bc=class extends Yt{urlAfterRedirects;state;type=Ke.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xc=class extends Yt{urlAfterRedirects;state;shouldActivate;type=Ke.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wc=class extends Yt{urlAfterRedirects;state;type=Ke.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cc=class extends Yt{urlAfterRedirects;state;type=Ke.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ec=class{route;type=Ke.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sc=class{route;type=Ke.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Mc=class{snapshot;type=Ke.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ic=class{snapshot;type=Ke.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dc=class{snapshot;type=Ke.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tc=class{snapshot;type=Ke.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},no=class{routerEvent;position;anchor;type=Ke.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Es=class{},ro=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function TI(n,t){return n.providers&&!n._injector&&(n._injector=Xo(n.providers,t,`Route: ${n.path}`)),n._injector??t}function _n(n){return n.outlet||J}function kI(n,t){let e=n.filter(r=>_n(r)===t);return e.push(...n.filter(r=>_n(r)!==t)),e}function As(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var kc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return As(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Qr(this.rootInjector)}},Qr=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new kc(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(U(Dt))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ac=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=nm(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=nm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=rm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return rm(t,this._root).map(e=>e.value)}};function nm(n,t){if(n===t.value)return t;for(let e of t.children){let r=nm(n,e);if(r)return r}return null}function rm(n,t){if(n===t.value)return[t];for(let e of t.children){let r=rm(n,e);if(r.length)return r.unshift(t),r}return[]}var qt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ki(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ss=class extends Ac{snapshot;constructor(t,e){super(t),this.snapshot=e,um(this,t)}toString(){return this.snapshot.toString()}};function y1(n){let t=AI(n),e=new Oe([new _r("",{})]),r=new Oe({}),i=new Oe({}),o=new Oe({}),s=new Oe(""),c=new Zt(e,r,o,s,i,J,n,t.root);return c.snapshot=t.root,new Ss(new qt(c,[]),t)}function AI(n){let t={},e={},r={},i="",o=new qr([],t,r,i,e,J,n,null,{});return new Ms("",new qt(o,[]))}var Zt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(f=>f[ks]))??q(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(t=>Yr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(t=>Yr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Oc(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:P(P({},t.params),n.params),data:P(P({},t.data),n.data),resolve:P(P(P(P({},n.data),t.data),i?.data),n._resolvedData)}:r={params:P({},n.params),data:P({},n.data),resolve:P(P({},n.data),n._resolvedData??{})},i&&x1(i)&&(r.resolve[ks]=i.title),r}var qr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ks]}constructor(t,e,r,i,o,s,c,u,f){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ms=class extends Ac{url;constructor(t,e){super(e),this.url=t,um(this,e)}toString(){return b1(this._root)}};function um(n,t){t.value._routerState=n,t.children.forEach(e=>um(n,e))}function b1(n){let t=n.children.length>0?` { ${n.children.map(b1).join(", ")} } `:"";return`${n.value}${t}`}function Zf(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,An(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),An(t.params,e.params)||n.paramsSubject.next(e.params),oI(t.url,e.url)||n.urlSubject.next(e.url),An(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function im(n,t){let e=An(n.params,t.params)&&cI(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||im(n.parent,t.parent))}function x1(n){return typeof n.title=="string"||n.title===null}var w1=new H(""),Kr=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new $e;deactivateEvents=new $e;attachEvents=new $e;detachEvents=new $e;routerOutletData=Rg(void 0);parentContexts=L(Qr);location=L(mr);changeDetector=L(hr);inputBinder=L(Os,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new om(e,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Kn]})}return n})(),om=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===Zt?this.route:t===Qr?this.childContexts:t===w1?this.outletData:this.parent.get(t,e)}},Os=new H(""),pm=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=ko([r.queryParams,r.params,r.data]).pipe(Kt(([o,s,c],u)=>(c=P(P(P({},o),s),c),u===0?q(c):Promise.resolve(c)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=f_(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of s.inputs)e.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),fm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=le({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_(0,"router-outlet")},dependencies:[Kr],encapsulation:2})}return n})();function mm(n){let t=n.children&&n.children.map(mm),e=t?G(P({},n),{children:t}):P({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==J&&(e.component=fm),e}function OI(n,t,e){let r=Is(n,t._root,e?e._root:void 0);return new Ss(r,t)}function Is(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=PI(n,t,e);return new qt(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(c=>Is(n,c)),s}}let r=FI(t.value),i=t.children.map(o=>Is(n,o));return new qt(r,i)}}function PI(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Is(n,r,i);return Is(n,r)})}function FI(n){return new Zt(new Oe(n.url),new Oe(n.params),new Oe(n.queryParams),new Oe(n.fragment),new Oe(n.data),n.outlet,n.component,n)}var io=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},C1="ngNavigationCancelingError";function Pc(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=br(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=E1(!1,Vt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function E1(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[C1]=!0,e.cancellationCode=t,e}function NI(n){return S1(n)&&br(n.url)}function S1(n){return!!n&&n[C1]}var RI=(n,t,e,r)=>se(i=>(new sm(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),sm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Zf(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Ki(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ki(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ki(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Ki(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Tc(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ic(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(Zf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Zf(c.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Fc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Xi=class{component;route;constructor(t,e){this.component=t,this.route=e}};function VI(n,t,e){let r=n._root,i=t?t._root:null;return ys(r,i,e,[r.value])}function LI(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function so(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!T0(n)?n:t.get(n):r}function ys(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ki(t);return n.children.forEach(s=>{jI(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>xs(c,e.getContext(s),i)),i}function jI(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=UI(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ys(n,t,c?c.children:null,r,i):ys(n,t,e,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Xi(c.outlet.component,s))}else s&&xs(t,c,i),i.canActivateChecks.push(new Fc(r)),o.component?ys(n,null,c?c.children:null,r,i):ys(n,null,e,r,i);return i}function UI(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Wr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Wr(n.url,t.url)||!An(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!im(n,t)||!An(n.queryParams,t.queryParams);case"paramsChange":default:return!im(n,t)}}function xs(n,t,e){let r=Ki(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?xs(s,t.children.getContext(o),e):xs(s,null,e):xs(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Xi(t.outlet.component,i)):e.canDeactivateChecks.push(new Xi(null,i)):e.canDeactivateChecks.push(new Xi(null,i))}function Ps(n){return typeof n=="function"}function BI(n){return typeof n=="boolean"}function $I(n){return n&&Ps(n.canLoad)}function HI(n){return n&&Ps(n.canActivate)}function zI(n){return n&&Ps(n.canActivateChild)}function GI(n){return n&&Ps(n.canDeactivate)}function WI(n){return n&&Ps(n.canMatch)}function M1(n){return n instanceof $n||n?.name==="EmptyError"}var fc=Symbol("INITIAL_VALUE");function oo(){return Kt(n=>ko(n.map(t=>t.pipe(zn(1),gu(fc)))).pipe(se(t=>{for(let e of t)if(e!==!0){if(e===fc)return fc;if(e===!1||qI(e))return e}return!0}),nt(t=>t!==fc),zn(1)))}function qI(n){return br(n)||n instanceof io}function YI(n,t){return Ve(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?q(G(P({},e),{guardsResult:!0})):ZI(s,r,i,n).pipe(Ve(c=>c&&BI(c)?QI(r,o,n,t):q(c)),se(c=>G(P({},e),{guardsResult:c})))})}function ZI(n,t,e,r){return oe(n).pipe(Ve(i=>tD(i.component,i.route,e,t,r)),Gn(i=>i!==!0,!0))}function QI(n,t,e,r){return oe(t).pipe(cr(i=>Ei(JI(i.route.parent,r),KI(i.route,r),eD(n,i.path,e),XI(n,i.route,e))),Gn(i=>i!==!0,!0))}function KI(n,t){return n!==null&&t&&t(new Dc(n)),q(!0)}function JI(n,t){return n!==null&&t&&t(new Mc(n)),q(!0)}function XI(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Wa(()=>{let s=As(t)??e,c=so(o,s),u=HI(c)?c.canActivate(t,n):Xt(s,()=>c(t,n));return wr(u).pipe(Gn())}));return q(i).pipe(oo())}function eD(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>LI(s)).filter(s=>s!==null).map(s=>Wa(()=>{let c=s.guards.map(u=>{let f=As(s.node)??e,m=so(u,f),v=zI(m)?m.canActivateChild(r,n):Xt(f,()=>m(r,n));return wr(v).pipe(Gn())});return q(c).pipe(oo())}));return q(o).pipe(oo())}function tD(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(c=>{let u=As(t)??i,f=so(c,u),m=GI(f)?f.canDeactivate(n,t,e,r):Xt(u,()=>f(n,t,e,r));return wr(m).pipe(Gn())});return q(s).pipe(oo())}function nD(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let c=so(s,n),u=$I(c)?c.canLoad(t,e):Xt(n,()=>c(t,e));return wr(u)});return q(o).pipe(oo(),I1(r))}function I1(n){return lu(rt(t=>{if(typeof t!="boolean")throw Pc(n,t)}),se(t=>t===!0))}function rD(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let c=so(s,n),u=WI(c)?c.canMatch(t,e):Xt(n,()=>c(t,e));return wr(u)});return q(o).pipe(oo(),I1(r))}var Ds=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ts=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Qi(n){return Ci(new Ds(n))}function iD(n){return Ci(new $(4e3,!1))}function oD(n){return Ci(E1(!1,Vt.GuardRejected))}var am=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[J])return iD(`${t.redirectTo}`);i=i.children[J]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let c=e,{queryParams:u,fragment:f,routeConfig:m,url:v,outlet:S,params:b,data:D,title:R}=i,j=Xt(o,()=>c({params:b,data:D,queryParams:u,fragment:f,routeConfig:m,url:v,outlet:S,title:R}));if(j instanceof Pn)throw new Ts(j);e=j}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new Ts(s);return s}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new Pn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=e[c]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(t,u,r,i)}),new fe(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},lm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sD(n,t,e,r,i){let o=D1(n,t,e);return o.matched?(r=TI(t,r),rD(r,t,e,i).pipe(se(s=>s===!0?o:P({},lm)))):q(o)}function D1(n,t,e){if(t.path==="**")return aD(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?P({},lm):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||r1)(e,n,t);if(!i)return P({},lm);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?P(P({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function aD(n){return{matched:!0,parameters:n.length>0?o1(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function e1(n,t,e,r){return e.length>0&&dD(n,e,r)?{segmentGroup:new fe(t,cD(r,new fe(e,n.children))),slicedSegments:[]}:e.length===0&&uD(n,e,r)?{segmentGroup:new fe(n.segments,lD(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new fe(n.segments,n.children),slicedSegments:e}}function lD(n,t,e,r){let i={};for(let o of e)if(Rc(n,t,o)&&!r[_n(o)]){let s=new fe([],{});i[_n(o)]=s}return P(P({},r),i)}function cD(n,t){let e={};e[J]=t;for(let r of n)if(r.path===""&&_n(r)!==J){let i=new fe([],{});e[_n(r)]=i}return e}function dD(n,t,e){return e.some(r=>Rc(n,t,r)&&_n(r)!==J)}function uD(n,t,e){return e.some(r=>Rc(n,t,r))}function Rc(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function pD(n,t,e){return t.length===0&&!n.children[e]}var cm=class{};function fD(n,t,e,r,i,o,s="emptyOnly"){return new dm(n,t,e,r,i,s,o).recognize()}var mD=31,dm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,c){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new am(this.urlSerializer,this.urlTree)}noMatchError(t){return new $(4002,`'${t.segmentGroup}'`)}recognize(){let t=e1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(se(({children:e,rootSnapshot:r})=>{let i=new qt(r,e),o=new Ms("",i),s=m1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new qr([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,J,e).pipe(se(r=>({children:r,rootSnapshot:e})),Hn(r=>{if(r instanceof Ts)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ds?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(se(s=>s instanceof qt?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return oe(o).pipe(cr(s=>{let c=r.children[s],u=kI(e,s);return this.processSegmentGroup(t,u,c,s,i)}),hu((s,c)=>(s.push(...c),s)),dr(null),mu(),Ve(s=>{if(s===null)return Qi(r);let c=T1(s);return hD(c),q(c)}))}processSegment(t,e,r,i,o,s,c){return oe(e).pipe(cr(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,r,i,o,s,c).pipe(Hn(f=>{if(f instanceof Ds)return q(null);throw f}))),Gn(u=>!!u),Hn(u=>{if(M1(u))return pD(r,i,o)?q(new cm):Qi(r);throw u}))}processSegmentAgainstRoute(t,e,r,i,o,s,c,u){return _n(r)!==s&&(s===J||!Rc(i,o,r))?Qi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,u):Qi(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,c){let{matched:u,parameters:f,consumedSegments:m,positionalParamSegments:v,remainingSegments:S}=D1(e,i,o);if(!u)return Qi(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mD&&(this.allowRedirects=!1));let b=new qr(o,f,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,t1(i),_n(i),i.component??i._loadedComponent??null,i,n1(i)),D=Oc(b,c,this.paramsInheritanceStrategy);b.params=Object.freeze(D.params),b.data=Object.freeze(D.data);let R=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,v,b,t);return this.applyRedirects.lineralizeSegments(i,R).pipe(Ve(j=>this.processSegment(t,r,e,j.concat(S),s,!1,c)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let c=sD(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),c.pipe(Kt(u=>u.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Kt(({routes:f})=>{let m=r._loadedInjector??t,{parameters:v,consumedSegments:S,remainingSegments:b}=u,D=new qr(S,v,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,t1(r),_n(r),r.component??r._loadedComponent??null,r,n1(r)),R=Oc(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(R.params),D.data=Object.freeze(R.data);let{segmentGroup:j,slicedSegments:z}=e1(e,S,b,f);if(z.length===0&&j.hasChildren())return this.processChildren(m,f,j,D).pipe(se(Ae=>new qt(D,Ae)));if(f.length===0&&z.length===0)return q(new qt(D,[]));let _e=_n(r)===o;return this.processSegment(m,f,j,z,_e?J:o,!0,D).pipe(se(Ae=>new qt(D,Ae instanceof qt?[Ae]:[])))}))):Qi(e)))}getChildConfig(t,e,r){return e.children?q({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?q({routes:e._loadedRoutes,injector:e._loadedInjector}):nD(t,e,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(t,e).pipe(rt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):oD(e))):q({routes:[],injector:t})}};function hD(n){n.sort((t,e)=>t.value.outlet===J?-1:e.value.outlet===J?1:t.value.outlet.localeCompare(e.value.outlet))}function gD(n){let t=n.value.routeConfig;return t&&t.path===""}function T1(n){let t=[],e=new Set;for(let r of n){if(!gD(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=T1(r.children);t.push(new qt(r.value,i))}return t.filter(r=>!e.has(r))}function t1(n){return n.data||{}}function n1(n){return n.resolve||{}}function vD(n,t,e,r,i,o){return Ve(s=>fD(n,t,e,r,s.extractedUrl,i,o).pipe(se(({state:c,tree:u})=>G(P({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function _D(n,t){return Ve(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return q(e);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let f of k1(u))s.add(f);let c=0;return oe(s).pipe(cr(u=>o.has(u)?yD(u,r,n,t):(u.data=Oc(u,u.parent,n).resolve,q(void 0))),rt(()=>c++),Si(1),Ve(u=>c===s.size?q(e):Ct))})}function k1(n){let t=n.children.map(e=>k1(e)).flat();return[n,...t]}function yD(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!x1(i)&&(o[ks]=i.title),bD(o,n,t,r).pipe(se(s=>(n._resolvedData=s,n.data=Oc(n,n.parent,e).resolve,null)))}function bD(n,t,e,r){let i=Jf(n);if(i.length===0)return q({});let o={};return oe(i).pipe(Ve(s=>xD(n[s],t,e,r).pipe(Gn(),rt(c=>{if(c instanceof io)throw Pc(new yr,c);o[s]=c}))),Si(1),se(()=>o),Hn(s=>M1(s)?Ct:Ci(s)))}function xD(n,t,e,r){let i=As(t)??r,o=so(n,i),s=o.resolve?o.resolve(t,e):Xt(i,()=>o(t,e));return wr(s)}function Qf(n){return Kt(t=>{let e=n(t);return e?oe(e).pipe(se(()=>t)):q(t)})}var hm=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(e){return e.data[ks]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(A1),providedIn:"root"})}return n})(),A1=(()=>{class n extends hm{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(U(Y_))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jr=new H("",{providedIn:"root",factory:()=>({})}),ao=new H(""),Vc=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(s_);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return q(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=wr(e.loadComponent()).pipe(se(P1),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ao(()=>{this.componentLoaders.delete(e)})),i=new wi(r,()=>new Re).pipe(xi());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=O1(r,this.compiler,e,this.onLoadEndListener).pipe(Ao(()=>{this.childrenLoaders.delete(r)})),s=new wi(o,()=>new Re).pipe(xi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O1(n,t,e,r){return wr(n.loadChildren()).pipe(se(P1),Ve(i=>i instanceof ff||Array.isArray(i)?q(i):oe(t.compileModuleAsync(i))),se(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(e).injector,s=o.get(ao,[],{optional:!0,self:!0}).flat()),{routes:s.map(mm),injector:o}}))}function wD(n){return n&&typeof n=="object"&&"default"in n}function P1(n){return wD(n)?n.default:n}var Lc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(CD),providedIn:"root"})}return n})(),CD=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gm=new H(""),vm=new H("");function F1(n,t,e){let r=n.get(vm),i=n.get(Je);return n.get(Se).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(f=>setTimeout(f));let o,s=new Promise(f=>{o=f}),c=i.startViewTransition(()=>(o(),ED(n))),{onViewTransitionCreated:u}=r;return u&&Xt(n,()=>u({transition:c,from:t,to:e})),s})}function ED(n){return new Promise(t=>{Qp({read:()=>setTimeout(t)},{injector:n})})}var _m=new H(""),jc=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Re;transitionAbortSubject=new Re;configLoader=L(Vc);environmentInjector=L(Dt);destroyRef=L(Hi);urlSerializer=L(Zr);rootContexts=L(Qr);location=L(vr);inputBindingEnabled=L(Os,{optional:!0})!==null;titleStrategy=L(hm);options=L(Jr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(Lc);createViewTransition=L(gm,{optional:!0});navigationErrorHandler=L(_m,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Ec(i)),r=i=>this.events.next(new Sc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(G(P({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new Oe(null),this.transitions.pipe(nt(r=>r!==null),Kt(r=>{let i=!1,o=!1;return q(r).pipe(Kt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Vt.SupersededByNewNavigation),Ct;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?G(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let f="";return this.events.next(new Fn(s.id,this.urlSerializer.serialize(s.rawUrl),f,eo.IgnoredSameUrlNavigation)),s.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return q(s).pipe(Kt(f=>(this.events.next(new xr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Ct:Promise.resolve(f))),vD(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=G(P({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new Cs(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:f,extractedUrl:m,source:v,restoredState:S,extras:b}=s,D=new xr(f,this.urlSerializer.serialize(m),v,S);this.events.next(D);let R=y1(this.rootComponentType).snapshot;return this.currentTransition=r=G(P({},s),{targetSnapshot:R,urlAfterRedirects:m,extras:G(P({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,q(r)}else{let f="";return this.events.next(new Fn(s.id,this.urlSerializer.serialize(s.extractedUrl),f,eo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ct}}),rt(s=>{let c=new bc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),se(s=>(this.currentTransition=r=G(P({},s),{guards:VI(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),YI(this.environmentInjector,s=>this.events.next(s)),rt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Pc(this.urlSerializer,s.guardsResult);let c=new xc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),nt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Vt.GuardRejected),!1)),Qf(s=>{if(s.guards.canActivateChecks.length!==0)return q(s).pipe(rt(c=>{let u=new wc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Kt(c=>{let u=!1;return q(c).pipe(_D(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Vt.NoDataFromResolver)}}))}),rt(c=>{let u=new Cc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Qf(s=>{let c=u=>{let f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(rt(m=>{u.component=m}),se(()=>{})));for(let m of u.children)f.push(...c(m));return f};return ko(c(s.targetSnapshot.root)).pipe(dr(null),zn(1))}),Qf(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?oe(u).pipe(se(()=>r)):q(r)}),se(s=>{let c=OI(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=G(P({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),rt(()=>{this.events.next(new Es)}),RI(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),zn(1),rt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new st(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),vu(this.transitionAbortSubject.pipe(rt(s=>{throw s}))),Ao(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(s=>{if(this.destroyed)return r.resolve(!1),Ct;if(o=!0,S1(s))this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),NI(s)?this.events.next(new ro(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new to(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof io){let{message:f,cancellationCode:m}=Pc(this.urlSerializer,u);this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),f,m)),this.events.next(new ro(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Ct}))}))}cancelNavigationTransition(e,r,i){let o=new On(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SD(n){return n!==vc}var N1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(MD),providedIn:"root"})}return n})(),Nc=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},MD=(()=>{class n extends Nc{static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R1=(()=>{class n{urlSerializer=L(Zr);options=L(Jr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(vr);urlHandlingStrategy=L(Lc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof Pn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=y1(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>L(ID),providedIn:"root"})}return n})(),ID=(()=>{class n extends R1{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof xr?this.updateStateMemento():e instanceof Fn?this.commitTransition(r):e instanceof Cs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Es?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof On&&(e.code===Vt.GuardRejected||e.code===Vt.NoDataFromResolver)?this.restoreHistory(r):e instanceof to?this.restoreHistory(r,!0):e instanceof st&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let c=this.browserPageId,u=P(P({},s),this.generateNgRouterState(i,c));this.location.replaceState(e,"",u)}else{let c=P(P({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",c)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uc(n,t){n.events.pipe(nt(e=>e instanceof st||e instanceof On||e instanceof to||e instanceof Fn),se(e=>e instanceof st||e instanceof Fn?0:(e instanceof On?e.code===Vt.Redirect||e.code===Vt.SupersededByNewNavigation:!1)?2:1),nt(e=>e!==2),zn(1)).subscribe(()=>{t()})}var DD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ce=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(jv);stateManager=L(R1);options=L(Jr,{optional:!0})||{};pendingTasks=L(zi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(jc);urlSerializer=L(Zr);location=L(vr);urlHandlingStrategy=L(Lc);_events=new Re;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(N1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(ao,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(Os,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Te;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof On&&r.code!==Vt.Redirect&&r.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof st)this.navigated=!0;else if(r instanceof ro){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=P({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SD(i.source)},s);this.scheduleNavigation(c,vc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}AD(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=P({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(e);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(mm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s,m=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":m=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let v;try{let S=i?i.snapshot:this.routerState.snapshot.root;v=h1(S)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),v=this.currentUrlTree.root}return g1(v,e,m,f??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=br(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,vc,null,r)}navigate(e,r={skipLocationChange:!1}){return kD(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=P({},DD):r===!1?i=P({},TD):i=r,br(e))return Q_(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Q_(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,f;s?(c=s.resolve,u=s.reject,f=s.promise):f=new Promise((v,S)=>{c=v,u=S});let m=this.pendingTasks.add();return Uc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(v=>Promise.reject(v))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kD(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new $(4008,!1)}function AD(n){return!(n instanceof Es)&&!(n instanceof ro)}var Nn=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Re;constructor(e,r,i,o,s,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof st&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(br(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:Jg(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:br(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(F(ce),F(Zt),Hp("tabindex"),F(fn),F(_t),F(gn))};static \u0275dir=he({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&E("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&mn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gr],replaceUrl:[2,"replaceUrl","replaceUrl",gr],routerLink:"routerLink"},features:[Kn]})}return n})(),bm=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new $e;constructor(e,r,i,o,s){this.router=e,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof st&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(lr()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=oe(e).pipe(lr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=OD(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?e.isActive(o,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(F(ce),F(_t),F(fn),F(hr),F(Nn,8))};static \u0275dir=he({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Jv(o,Nn,5),r&2){let s;Xv(s=e_())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Kn]})}return n})();function OD(n){return!!n.paths}var Fs=class{};var V1=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(nt(e=>e instanceof st),cr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Xo(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return oe(i).pipe(lr())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=q(null);let o=i.pipe(Ve(s=>s===null?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return oe([o,s]).pipe(lr())}else return o})}static \u0275fac=function(r){return new(r||n)(U(ce),U(Dt),U(Fs),U(Vc))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),L1=new H(""),PD=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof st?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Fn&&e.code===eo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof no&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new no(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Iv()};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function FD(n){return n.routerState.root}function Ns(n,t){return{\u0275kind:n,\u0275providers:t}}function ND(){let n=L(kt);return t=>{let e=n.get(fr);if(t!==e.components[0])return;let r=n.get(ce),i=n.get(j1);n.get(xm)===1&&r.initialNavigation(),n.get($1,null,X.Optional)?.setUpPreloading(),n.get(L1,null,X.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var j1=new H("",{factory:()=>new Re}),xm=new H("",{providedIn:"root",factory:()=>1});function U1(){let n=[{provide:xm,useValue:0},gf(()=>{let t=L(kt);return t.get(Ef,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(ce),o=t.get(j1);Uc(i,()=>{r(!0)}),t.get(jc).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))})];return Ns(2,n)}function B1(){let n=[gf(()=>{L(ce).setUpLocationChangeListener()}),{provide:xm,useValue:2}];return Ns(3,n)}var $1=new H("");function H1(n){return Ns(0,[{provide:$1,useExisting:V1},{provide:Fs,useExisting:n}])}function z1(){return Ns(8,[pm,{provide:Os,useExisting:pm}])}function G1(n){Ko("NgRouterViewTransitions");let t=[{provide:gm,useValue:F1},{provide:vm,useValue:P({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ns(9,t)}var W1=[vr,{provide:Zr,useClass:yr},ce,Qr,{provide:Zt,useFactory:FD,deps:[ce]},Vc,[]],Bc=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[W1,[],{provide:ao,multi:!0,useValue:e},[],r?.errorHandler?{provide:_m,useValue:r.errorHandler}:[],{provide:Jr,useValue:r||{}},r?.useHash?VD():LD(),RD(),r?.preloadingStrategy?H1(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?jD(r):[],r?.bindToComponentInputs?z1().\u0275providers:[],r?.enableViewTransitions?G1().\u0275providers:[],UD()]}}static forChild(e){return{ngModule:n,providers:[{provide:ao,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=dt({type:n});static \u0275inj=ct({})}return n})();function RD(){return{provide:L1,useFactory:()=>{let n=L(j_),t=L(Se),e=L(Jr),r=L(jc),i=L(Zr);return e.scrollOffset&&n.setOffset(e.scrollOffset),new PD(i,r,n,t,e)}}}function VD(){return{provide:gn,useClass:Af}}function LD(){return{provide:gn,useClass:Ql}}function jD(n){return[n.initialNavigation==="disabled"?B1().\u0275providers:[],n.initialNavigation==="enabledBlocking"?U1().\u0275providers:[]]}var ym=new H("");function UD(){return[{provide:ym,useFactory:ND},{provide:vf,multi:!0,useExisting:ym}]}var q1=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var Rs=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},$c=class extends Rs{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Vs=class extends Rs{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ls=class extends Rs{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},wm=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(wm||{});var BD=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},js=class{constructor(t,{headers:e={},customFetch:r,region:i=wm.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=q1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return BD(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,c={},{region:u}=e;u||(u=this.region);let f=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let m;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",m=s):typeof s=="string"?(c["Content-Type"]="text/plain",m=s):typeof FormData<"u"&&s instanceof FormData?m=s:(c["Content-Type"]="application/json",m=JSON.stringify(s)));let v=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:m}).catch(R=>{throw new $c(R)}),S=v.headers.get("x-relay-error");if(S&&S==="true")throw new Vs(v);if(!v.ok)throw new Ls(v);let b=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),D;return b==="application/json"?D=yield v.json():b==="application/octet-stream"?D=yield v.blob():b==="text/event-stream"?D=v:b==="multipart/form-data"?D=yield v.formData():D=yield v.text(),{data:D,error:null,response:v}}catch(i){return{data:null,error:i,response:i instanceof Ls||i instanceof Vs?i.context:void 0}}})}};var sy=Rb(oy(),1),{PostgrestClient:ay,PostgrestQueryBuilder:k7,PostgrestFilterBuilder:A7,PostgrestTransformBuilder:O7,PostgrestBuilder:P7,PostgrestError:XD}=sy.default;function ly(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var cy=ly();var dy="2.11.15";var uy=`realtime-js/${dy}`,py="1.0.0";var Wc=1e4,fy=1e3,Ws=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Ws||{}),mt=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(mt||{}),nn=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(nn||{}),Fm=function(n){return n.websocket="websocket",n}(Fm||{}),Xr=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(Xr||{});var qc=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,c=r.decode(t.slice(s,s+i));s=s+i;let u=r.decode(t.slice(s,s+o));s=s+o;let f=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:c,event:u,payload:f}}};var co=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ie=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Ie||{}),Rm=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=eT(s,n,t,i),o),{})},eT=(n,t,e,r)=>{let i=t.find(c=>c.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?my(o,s):Nm(s)},my=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return iT(t,e)}switch(n){case Ie.bool:return tT(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return nT(t);case Ie.json:case Ie.jsonb:return rT(t);case Ie.timestamp:return oT(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Nm(t);default:return Nm(t)}},Nm=n=>n,tT=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},nT=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},rT=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},iT=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(c=>my(t,c))}return n},oT=n=>typeof n=="string"?n.replace(" ","T"):n,Yc=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var uo=class{constructor(t,e,r={},i=Wc){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var qs=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(u=>{this.state=n.syncDiff(this.state,u,o,s)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),c())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),c={},u={};return this.map(o,(f,m)=>{s[f]||(u[f]=m)}),this.map(s,(f,m)=>{let v=o[f];if(v){let S=m.map(j=>j.presence_ref),b=v.map(j=>j.presence_ref),D=m.filter(j=>b.indexOf(j.presence_ref)<0),R=v.filter(j=>S.indexOf(j.presence_ref)<0);D.length>0&&(c[f]=D),R.length>0&&(u[f]=R)}else c[f]=m}),this.syncDiff(o,{joins:c,leaves:u},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(c,u)=>{var f;let m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(u),m.length>0){let v=t[c].map(b=>b.presence_ref),S=m.filter(b=>v.indexOf(b.presence_ref)<0);t[c].unshift(...S)}r(c,m,u)}),this.map(s,(c,u)=>{let f=t[c];if(!f)return;let m=u.map(v=>v.presence_ref);f=f.filter(v=>m.indexOf(v.presence_ref)<0),t[c]=f,i(c,f,u),f.length===0&&delete t[c]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var nr=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(nr||{});var Ys=class n{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new uo(this,nn.join,this.params,this.timeout),this.rejoinTimer=new co(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new qs(this),this.broadcastEndpointURL=Yc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){let{config:{broadcast:o,presence:s,private:c}}=this.params;this._onError(m=>t?.(nr.CHANNEL_ERROR,m)),this._onClose(()=>t?.(nr.CLOSED));let u={},f={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",v=>y(this,[v],function*({postgres_changes:m}){var S;if(this.socket.setAuth(),m===void 0){t?.(nr.SUBSCRIBED);return}else{let b=this.bindings.postgres_changes,D=(S=b?.length)!==null&&S!==void 0?S:0,R=[];for(let j=0;j<D;j++){let z=b[j],{filter:{event:_e,schema:Ae,table:W,filter:ge}}=z,an=m&&m[j];if(an&&an.event===_e&&an.schema===Ae&&an.table===W&&an.filter===ge)R.push(Object.assign(Object.assign({},z),{id:an.id}));else{this.unsubscribe(),this.state=mt.errored,t?.(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t(nr.SUBSCRIBED);return}})).receive("error",m=>{this.state=mt.errored,t?.(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t?.(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return y(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return y(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this._on(t,e,r)}send(r){return y(this,arguments,function*(t,e={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{let m=yield this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=m.body)===null||o===void 0?void 0:o.cancel(),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,u,f;let m=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mt.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new uo(this,nn.leave,{},t),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(t,e,r){return y(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uo(this,t,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:c,error:u,leave:f,join:m}=nn;if(r&&[c,u,f,m].indexOf(s)>=0&&r!==this._joinRef())return;let S=this._onMessage(s,e,r);if(e&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var D,R,j;return((D=b.filter)===null||D===void 0?void 0:D.event)==="*"||((j=(R=b.filter)===null||R===void 0?void 0:R.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===s}).map(b=>b.callback(S,r)):(o=this.bindings[s])===null||o===void 0||o.filter(b=>{var D,R,j,z,_e,Ae;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in b){let W=b.id,ge=(D=b.filter)===null||D===void 0?void 0:D.event;return W&&((R=e.ids)===null||R===void 0?void 0:R.includes(W))&&(ge==="*"||ge?.toLocaleLowerCase()===((j=e.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{let W=(_e=(z=b?.filter)===null||z===void 0?void 0:z.event)===null||_e===void 0?void 0:_e.toLocaleLowerCase();return W==="*"||W===((Ae=e?.event)===null||Ae===void 0?void 0:Ae.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===s}).map(b=>{if(typeof S=="object"&&"ids"in S){let D=S.data,{schema:R,table:j,commit_timestamp:z,type:_e,errors:Ae}=D;S=Object.assign(Object.assign({},{schema:R,table:j,commit_timestamp:z,eventType:_e,new:{},old:{},errors:Ae}),this._getPayloadRecords(D))}b.callback(S,r)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nn.close,{},t)}_onError(t){this._on(nn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=Rm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=Rm(t.columns,t.old_record)),e}};var hy=()=>{},aT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Zs=class{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wc,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hy,this.ref=0,this.logger=hy,this.conn=null,this.sendBuffer=[],this.serializer=new qc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...c)=>import("./chunk-X2RIVRQM.js").then(({default:u})=>u(...c)):s=fetch,(...c)=>s(...c)},this.endPoint=`${t}/${Fm.websocket}`,this.httpEndpoint=Yc(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new co(()=>y(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=cy),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:py}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(t){return y(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return y(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ws.connecting:return Xr.Connecting;case Ws.open:return Xr.Open;case Ws.closing:return Xr.Closing;default:return Xr.Closed}}isConnected(){return this.connectionState()===Xr.Open}channel(t,e={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ys(`realtime:${t}`,e,this);return this.channels.push(o),o}}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return y(this,null,function*(){let e=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let i={access_token:e,version:uy};e&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(nn.access_token,{access_token:e})}))})}sendHeartbeat(){return y(this,null,function*(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(fy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(e.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(c=>c(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([aT],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var po=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ge(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Zc=class extends po{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},ei=class extends po{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var lT=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},Kc=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},gy=()=>lT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),Qc=n=>{if(Array.isArray(n))return n.map(e=>Qc(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Qc(r)}),t};var ti=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},Vm=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cT=(n,t,e)=>ti(void 0,void 0,void 0,function*(){let r=yield gy();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{t(new Zc(Vm(i),n.status||500))}).catch(i=>{t(new ei(Vm(i),i))}):t(new ei(Vm(n),n))}),dT=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Qs(n,t,e,r,i,o){return ti(this,void 0,void 0,function*(){return new Promise((s,c)=>{n(e,dT(t,r,i,o)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>cT(u,c,r))})})}function fo(n,t,e,r){return ti(this,void 0,void 0,function*(){return Qs(n,"GET",t,e,r)})}function Rn(n,t,e,r,i){return ti(this,void 0,void 0,function*(){return Qs(n,"POST",t,r,i,e)})}function vy(n,t,e,r,i){return ti(this,void 0,void 0,function*(){return Qs(n,"PUT",t,r,i,e)})}function _y(n,t,e,r){return ti(this,void 0,void 0,function*(){return Qs(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Jc(n,t,e,r,i){return ti(this,void 0,void 0,function*(){return Qs(n,"DELETE",t,r,i,e)})}var jt=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},uT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Xc=class{constructor(t,e={},r,i){this.url=t,this.headers=e,this.bucketId=r,this.fetch=Kc(i)}uploadOrUpdate(t,e,r,i){return jt(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},yy),i),c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),u=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",this.encodeMetadata(u))):(o=r,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));let f=this._removeEmptyFolders(e),m=this._getFinalPath(f),v=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:o,headers:c},s?.duplex?{duplex:s.duplex}:{})),S=yield v.json();return v.ok?{data:{path:f,id:S.Id,fullPath:S.Key},error:null}:{data:null,error:S}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}upload(t,e,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return jt(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",e);try{let u,f=Object.assign({upsert:yy.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);let v=yield this.fetch(c.toString(),{method:"PUT",body:u,headers:m}),S=yield v.json();return v.ok?{data:{path:o,fullPath:S.Key},error:null}:{data:null,error:S}}catch(u){if(Ge(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,e){return jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Rn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),c=s.searchParams.get("token");if(!c)throw new po("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}update(t,e,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return jt(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}copy(t,e,r){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield Rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return jt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Rn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return jt(this,void 0,void 0,function*(){try{let i=yield Rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}download(t,e){return jt(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let c=this._getFinalPath(t);return{data:yield(yield fo(this.fetch,`${this.url}/${i}/${c}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Ge(c))return{data:null,error:c};throw c}})}info(t){return jt(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield fo(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Qc(r),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}exists(t){return jt(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield _y(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ge(r)&&r instanceof ei){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let c=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return jt(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}list(t,e,r){return jt(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},uT),e),{prefix:t||""});return{data:yield Rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var by="2.7.1";var xy={"X-Client-Info":`storage-js/${by}`};var mo=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},ed=class{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},xy),e),this.fetch=Kc(r)}listBuckets(){return mo(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}getBucket(t){return mo(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return mo(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return mo(this,void 0,void 0,function*(){try{return{data:yield vy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return mo(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}deleteBucket(t){return mo(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}};var Ks=class extends ed{constructor(t,e={},r){super(t,e,r)}from(t){return new Xc(this.url,this.headers,t,this.fetch)}};var wy="2.50.5";var Js="";typeof Deno<"u"?Js="deno":typeof document<"u"?Js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Js="react-native":Js="node";var pT={"X-Client-Info":`supabase-js-${Js}/${wy}`},Cy={headers:pT},Ey={schema:"public"},Sy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},My={};ih();var fT=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},mT=n=>{let t;return n?t=n:typeof fetch>"u"?t=nh:t=fetch,(...e)=>t(...e)},hT=()=>typeof Headers>"u"?rh:Headers,Iy=(n,t,e)=>{let r=mT(e),i=hT();return(o,s)=>fT(void 0,void 0,void 0,function*(){var c;let u=(c=yield t())!==null&&c!==void 0?c:n,f=new i(s?.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),r(o,Object.assign(Object.assign({},s),{headers:f}))})};var gT=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})};function Dy(n){return n.endsWith("/")?n:n+"/"}function Ty(n,t){var e,r;let{db:i,auth:o,realtime:s,global:c}=n,{db:u,auth:f,realtime:m,global:v}=t,S={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},m),s),global:Object.assign(Object.assign(Object.assign({},v),c),{headers:Object.assign(Object.assign({},(e=v?.headers)!==null&&e!==void 0?e:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>gT(this,void 0,void 0,function*(){return""})};return n.accessToken?S.accessToken=n.accessToken:delete S.accessToken,S}var td="2.70.0";var ni=30*1e3,nd=3,rd=nd*ni,ky="http://localhost:9999",Ay="supabase.auth.token";var Oy={"X-Client-Info":`gotrue-js/${td}`};var Xs="X-Supabase-Api-Version",Lm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Py=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fy=6e5;var ea=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function Z(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var id=class extends ea{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function Ny(n){return Z(n)&&n.name==="AuthApiError"}var ho=class extends ea{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Vn=class extends ea{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}},rn=class extends Vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Ry(n){return Z(n)&&n.name==="AuthSessionMissingError"}var ri=class extends Vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ii=class extends Vn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},oi=class extends Vn{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Vy(n){return Z(n)&&n.name==="AuthImplicitGrantRedirectError"}var ta=class extends Vn{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},go=class extends Vn{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function od(n){return Z(n)&&n.name==="AuthRetryableFetchError"}var na=class extends Vn{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var rr=class extends Vn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ly=` 	
\r=`.split(""),vT=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Ly.length;t+=1)n[Ly[t].charCodeAt(0)]=-2;for(let t=0;t<sd.length;t+=1)n[sd[t].charCodeAt(0)]=t;return n})();function jy(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(sd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(sd[r]),t.queuedBits-=6}}function Uy(n,t,e){let r=vT[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function jm(n){let t=[],e=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{bT(s,r,e)};for(let s=0;s<n.length;s+=1)Uy(n.charCodeAt(s),i,o);return t.join("")}function _T(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function yT(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}_T(r,t)}}function bT(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function By(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)Uy(n.charCodeAt(i),e,r);return new Uint8Array(t)}function $y(n){let t=[];return yT(n,e=>t.push(e)),new Uint8Array(t)}function Hy(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};return n.forEach(i=>jy(i,e,r)),jy(null,e,r),t.join("")}function zy(n){return Math.round(Date.now()/1e3)+n}function Gy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var on=()=>typeof window<"u"&&typeof document<"u",si={tested:!1,writable:!1},Cr=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(si.tested)return si.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),si.tested=!0,si.writable=!0}catch{si.tested=!0,si.writable=!1}return si.writable};function Wy(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var ad=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},qy=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Um=(n,t,e)=>y(null,null,function*(){yield n.setItem(t,JSON.stringify(e))}),ia=(n,t)=>y(null,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),oa=(n,t)=>y(null,null,function*(){yield n.removeItem(t)}),ra=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};ra.promiseConstructor=Promise;function ld(n){let t=n.split(".");if(t.length!==3)throw new rr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Py.test(t[r]))throw new rr("JWT not in base64url format");return{header:JSON.parse(jm(t[0])),payload:JSON.parse(jm(t[1])),signature:By(t[2]),raw:{header:t[0],payload:t[1]}}}function Yy(n){return y(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function Zy(n,t){return new Promise((r,i)=>{y(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function xT(n){return("0"+n.toString(16)).substr(-2)}function wT(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,xT).join("")}function CT(n){return y(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function ET(n){return y(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield CT(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ai(n,t,e=!1){return y(this,null,function*(){let r=wT(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield Um(n,`${t}-code-verifier`,i);let o=yield ET(r);return[o,r===o?"plain":"s256"]})}var ST=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qy(n){let t=n.headers.get(Xs);if(!t||!t.match(ST))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ky(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function Jy(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var MT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function li(n){if(!MT.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var IT=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},ci=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),DT=[502,503,504];function Xy(n){return y(this,null,function*(){var t;if(!qy(n))throw new go(ci(n),0);if(DT.includes(n.status))throw new go(ci(n),n.status);let e;try{e=yield n.json()}catch(o){throw new ho(ci(o),o)}let r,i=Qy(n);if(i&&i.getTime()>=Lm["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new na(ci(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new rn}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new na(ci(e),n.status,e.weak_password.reasons);throw new id(ci(e),n.status||500,r)})}var TT=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function ne(n,t,e,r){return y(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Xs]||(o[Xs]=Lm["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=yield kT(n,t,e+c,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}})}function kT(n,t,e,r,i,o){return y(this,null,function*(){let s=TT(t,r,i,o),c;try{c=yield n(e,Object.assign({},s))}catch(u){throw console.error(u),new go(ci(u),0)}if(c.ok||(yield Xy(c)),r?.noResolveJson)return c;try{return yield c.json()}catch(u){yield Xy(u)}})}function Ln(n){var t;let e=null;AT(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=zy(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function Bm(n){let t=Ln(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function jn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function eb(n){return{data:n,error:null}}function tb(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=IT(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},s);return{data:{properties:c,user:u},error:null}}function nb(n){return n}function AT(n){return n.access_token&&n.refresh_token&&n.expires_in}var cd=["global","local","others"];var OT=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},vo=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=ad(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return y(this,arguments,function*(t,e=cd[0]){if(cd.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cd.join(", ")}`);try{return yield ne(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return y(this,arguments,function*(t,e={}){try{return yield ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:jn})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return y(this,null,function*(){try{let{options:e}=t,r=OT(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:tb,redirectTo:e?.redirectTo})}catch(e){if(Z(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return y(this,null,function*(){try{return yield ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jn})}catch(e){if(Z(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return y(this,null,function*(){var e,r,i,o,s,c,u;try{let f={nextPage:null,lastPage:0,total:0},m=yield ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:nb});if(m.error)throw m.error;let v=yield m.json(),S=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return b.length>0&&(b.forEach(D=>{let R=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(D.split(";")[1].split("=")[1]);f[`${j}Page`]=R}),f.total=parseInt(S)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(Z(f))return{data:{users:[]},error:f};throw f}})}getUserById(t){return y(this,null,function*(){li(t);try{return yield ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jn})}catch(e){if(Z(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return y(this,null,function*(){li(t);try{return yield ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:jn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return y(this,null,function*(){li(t);try{return yield ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:jn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return y(this,null,function*(){li(t.userId);try{let{data:e,error:r}=yield ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return y(this,null,function*(){li(t.userId),li(t.id);try{return{data:yield ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}};var rb={getItem:n=>Cr()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{Cr()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{Cr()&&globalThis.localStorage.removeItem(n)}};function $m(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function ib(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var di={debug:!!(globalThis&&Cr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},sa=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},dd=class extends sa{};function Hm(n,t,e){return y(this,null,function*(){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>y(null,null,function*(){if(i){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield e()}finally{di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new dd(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(di.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}ib();var PT={url:ky,storageKey:Ay,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function ob(n,t,e){return y(this,null,function*(){return yield e()})}var zm=(()=>{class n{constructor(e){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&on()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},PT),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new vo({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ad(o.fetch),this.lock=o.lock||ob,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:on()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Hm:this.lock=ob,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Cr()?this.storage=rb:(this.memoryStorage={},this.storage=$m(this.memoryStorage)):(this.memoryStorage={},this.storage=$m(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>y(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${td}) ${new Date().toISOString()}`,...e),this}initialize(){return y(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=y(this,null,function*(){return yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return y(this,null,function*(){var e;try{let r=Wy(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),on()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Vy(s)){let f=(e=s.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),yield this._saveSession(c),setTimeout(()=>y(this,null,function*(){u==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",c):yield this._notifyAllSubscribers("SIGNED_IN",c)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new ho("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return y(this,null,function*(){var r,i,o;try{let s=yield ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ln}),{data:c,error:u}=s;if(u||!c)return{data:{user:null,session:null},error:u};let f=c.session,m=c.user;return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return y(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:v,password:S,options:b}=e,D=null,R=null;this.flowType==="pkce"&&([D,R]=yield ai(this.storage,this.storageKey)),s=yield ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:S,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:D,code_challenge_method:R},xform:Ln})}else if("phone"in e){let{phone:v,password:S,options:b}=e;s=yield ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:S,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ln})}else throw new ii("You must provide either an email or phone number and a password");let{data:c,error:u}=s;if(u||!c)return{data:{user:null,session:null},error:u};let f=c.session,m=c.user;return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return y(this,null,function*(){try{let r;if("email"in e){let{email:s,password:c,options:u}=e;r=yield ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Bm})}else if("phone"in e){let{phone:s,password:c,options:u}=e;r=yield ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Bm})}else throw new ii("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ri}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return y(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return y(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>y(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return y(this,null,function*(){let{chain:r}=e;if(r==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(e){return y(this,null,function*(){var r,i,o,s,c,u,f,m,v,S,b,D;let R,j;if("message"in e)R=e.message,j=e.signature;else{let{chain:z,wallet:_e,statement:Ae,options:W}=e,ge;if(on())if(typeof _e=="object")ge=_e;else{let Ne=window;if("solana"in Ne&&typeof Ne.solana=="object"&&("signIn"in Ne.solana&&typeof Ne.solana.signIn=="function"||"signMessage"in Ne.solana&&typeof Ne.solana.signMessage=="function"))ge=Ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _e!="object"||!W?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ge=_e}let an=new URL((r=W?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in ge&&ge.signIn){let Ne=yield ge.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},W?.signInWithSolana),{version:"1",domain:an.host,uri:an.href}),Ae?{statement:Ae}:null)),Ut;if(Array.isArray(Ne)&&Ne[0]&&typeof Ne[0]=="object")Ut=Ne[0];else if(Ne&&typeof Ne=="object"&&"signedMessage"in Ne&&"signature"in Ne)Ut=Ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ut&&"signature"in Ut&&(typeof Ut.signedMessage=="string"||Ut.signedMessage instanceof Uint8Array)&&Ut.signature instanceof Uint8Array)R=typeof Ut.signedMessage=="string"?Ut.signedMessage:new TextDecoder().decode(Ut.signedMessage),j=Ut.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ge)||typeof ge.signMessage!="function"||!("publicKey"in ge)||typeof ge!="object"||!ge.publicKey||!("toBase58"in ge.publicKey)||typeof ge.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${an.host} wants you to sign in with your Solana account:`,ge.publicKey.toBase58(),...Ae?["",Ae,""]:[""],"Version: 1",`URI: ${an.href}`,`Issued At: ${(o=(i=W?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=W?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${W.signInWithSolana.notBefore}`]:[],...!((c=W?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${W.signInWithSolana.expirationTime}`]:[],...!((u=W?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${W.signInWithSolana.chainId}`]:[],...!((f=W?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${W.signInWithSolana.nonce}`]:[],...!((m=W?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${W.signInWithSolana.requestId}`]:[],...!((S=(v=W?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||S===void 0)&&S.length?["Resources",...W.signInWithSolana.resources.map(Ut=>`- ${Ut}`)]:[]].join(`
`);let Ne=yield ge.signMessage(new TextEncoder().encode(R),"utf8");if(!Ne||!(Ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=Ne}}try{let{data:z,error:_e}=yield ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Hy(j)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(D=e.options)===null||D===void 0?void 0:D.captchaToken}}:null),xform:Ln});if(_e)throw _e;return!z||!z.session||!z.user?{data:{user:null,session:null},error:new ri}:(z.session&&(yield this._saveSession(z.session),yield this._notifyAllSubscribers("SIGNED_IN",z.session)),{data:Object.assign({},z),error:_e})}catch(z){if(Z(z))return{data:{user:null,session:null},error:z};throw z}})}_exchangeCodeForSession(e){return y(this,null,function*(){let r=yield ia(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:c}=yield ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ln});if(yield oa(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ri}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:c})}catch(s){if(Z(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return y(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:c}=e,u=yield ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ln}),{data:f,error:m}=u;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ri}:(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:m})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return y(this,null,function*(){var r,i,o,s,c;try{if("email"in e){let{email:u,options:f}=e,m=null,v=null;this.flowType==="pkce"&&([m,v]=yield ai(this.storage,this.storageKey));let{error:S}=yield ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:S}}if("phone"in e){let{phone:u,options:f}=e,{data:m,error:v}=yield ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new ii("You must provide either an email or phone number.")}catch(u){if(Z(u))return{data:{user:null,session:null},error:u};throw u}})}verifyOtp(e){return y(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:c,error:u}=yield ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Ln});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");let f=c.session,m=c.user;return f?.access_token&&(yield this._saveSession(f),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(e){return y(this,null,function*(){var r,i,o;try{let s=null,c=null;return this.flowType==="pkce"&&([s,c]=yield ai(this.storage,this.storageKey)),yield ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:eb})}catch(s){if(Z(s))return{data:null,error:s};throw s}})}reauthenticate(){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return y(this,null,function*(){try{return yield this._useSession(e=>y(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new rn;let{error:o}=yield ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return y(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:c}=yield ne(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:c,error:u}=yield ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new ii("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return this._useSession(r=>y(this,null,function*(){return r}))}))})}_acquireLock(e,r){return y(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=y(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(y(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>y(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(y(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return y(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return y(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield ia(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<rd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,m,v))})}return{data:{session:e},error:null}}let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return y(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return y(this,null,function*(){try{return e?yield ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jn}):yield this._useSession(r=>y(this,null,function*(){var i,o,s;let{data:c,error:u}=r;if(u)throw u;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rn}:yield ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:jn})}))}catch(r){if(Z(r))return Ry(r)&&(yield this._removeSession(),yield oa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return y(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return y(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>y(this,null,function*(){let{data:s,error:c}=o;if(c)throw c;if(!s.session)throw new rn;let u=s.session,f=null,m=null;this.flowType==="pkce"&&e.email!=null&&([f,m]=yield ai(this.storage,this.storageKey));let{data:v,error:S}=yield ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:m}),jwt:u.access_token,xform:jn});if(S)throw S;return u.user=v.user,yield this._saveSession(u),yield this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}}))}catch(o){if(Z(o))return{data:{user:null},error:o};throw o}})}setSession(e){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return y(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new rn;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:c}=ld(e.access_token);if(c.exp&&(i=c.exp,o=i<=r),o){let{session:u,error:f}=yield this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};s=u}else{let{data:u,error:f}=yield this._getUser(e.access_token);if(f)throw f;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Z(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;if(!e){let{data:c,error:u}=r;if(u)throw u;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new rn;let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return y(this,null,function*(){try{if(!on())throw new oi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new oi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ta("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ta("No code detected.");let{data:Ae,error:W}=yield this._exchangeCodeForSession(e.code);if(W)throw W;let ge=new URL(window.location.href);return ge.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ge.toString()),{data:{session:Ae.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:c,expires_in:u,expires_at:f,token_type:m}=e;if(!s||!u||!c||!m)throw new oi("No session defined in URL");let v=Math.round(Date.now()/1e3),S=parseInt(u),b=v+S;f&&(b=parseInt(f));let D=b-v;D*1e3<=ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${D}s, should have been closer to ${S}s`);let R=b-S;v-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,b,v):v-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,b,v);let{data:j,error:z}=yield this._getUser(s);if(z)throw z;let _e={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:S,expires_at:b,refresh_token:c,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_e,redirectType:e.type},error:null}}catch(i){if(Z(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return y(this,null,function*(){let r=yield ia(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return y(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return y(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){let{error:u}=yield this.admin.signOut(c,e);if(u&&!(Ny(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(yield this._removeSession(),yield oa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=Gy(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),y(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return y(this,null,function*(){return yield this._useSession(r=>y(this,null,function*(){var i,o;try{let{data:{session:s},error:c}=r;if(c)throw c;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return y(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield ai(this.storage,this.storageKey,!0));try{return yield ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(Z(c))return{data:null,error:c};throw c}})}getUserIdentities(){return y(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}linkIdentity(e){return y(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>y(this,null,function*(){var c,u,f,m,v;let{data:S,error:b}=s;if(b)throw b;let D=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return yield ne(this.fetch,"GET",D,{headers:this.headers,jwt:(v=(m=S.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})}));if(o)throw o;return on()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(Z(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i,o;let{data:s,error:c}=r;if(c)throw c;return yield ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(Z(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return y(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield Zy(o=>y(this,null,function*(){return o>0&&(yield Yy(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ln})}),(o,s)=>{let c=200*Math.pow(2,o);return s&&od(s)&&Date.now()+c-i<ni})}catch(i){if(this._debug(r,"error",i),Z(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return y(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),on()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return y(this,null,function*(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield ia(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<rd;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${rd}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),od(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return y(this,null,function*(){var r,i;if(!e)throw new rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ra;let{data:s,error:c}=yield this._refreshAccessToken(e);if(c)throw c;if(!s.session)throw new rn;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let u={session:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(o,"error",s),Z(s)){let c={session:null,error:s};return od(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return y(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],c=Array.from(this.stateChangeEmitters.values()).map(u=>y(this,null,function*(){try{yield u.callback(e,r)}catch(f){s.push(f)}}));if(yield Promise.all(c),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return y(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield Um(this.storage,this.storageKey,e)})}_removeSession(){return y(this,null,function*(){this._debug("#_removeSession()"),yield oa(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&on()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return y(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),ni);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>y(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return y(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return y(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>y(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>y(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ni}ms, refresh threshold is ${nd} ticks`),o<=nd&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof sa)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return y(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!on()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>y(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return y(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>y(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return y(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,c]=yield ai(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(Z(r))return{data:null,error:r};throw r}})}_enroll(e){return y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i,o;let{data:s,error:c}=r;if(c)return{data:null,error:c};let u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:m}=yield ne(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})}))}catch(r){if(Z(r))return{data:null,error:r};throw r}})}_verify(e){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:c,error:u}=yield ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})}))}catch(r){if(Z(r))return{data:null,error:r};throw r}}))})}_challenge(e){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){try{return yield this._useSession(r=>y(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(Z(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return y(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return y(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),s=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return y(this,null,function*(){return this._acquireLock(-1,()=>y(this,null,function*(){return yield this._useSession(e=>y(this,null,function*(){var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:c}=ld(o.access_token),u=null;c.aal&&(u=c.aal);let f=u;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(S=>S.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");let v=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:v},error:null}}))}))})}fetchJwk(i){return y(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(u=>u.kid===e);if(o||(o=this.jwks.keys.find(u=>u.kid===e),o&&this.jwks_cached_at+Fy>Date.now()))return o;let{data:s,error:c}=yield ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;if(!s.keys||s.keys.length===0)throw new rr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),o=s.keys.find(u=>u.kid===e),!o)throw new rr("No matching signing key found in JWKS");return o})}getClaims(i){return y(this,arguments,function*(e,r={keys:[]}){try{let o=e;if(!o){let{data:R,error:j}=yield this.getSession();if(j||!R.session)return{data:null,error:j};o=R.session.access_token}let{header:s,payload:c,signature:u,raw:{header:f,payload:m}}=ld(o);if(Ky(c.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:R}=yield this.getUser(o);if(R)throw R;return{data:{claims:c,header:s,signature:u},error:null}}let v=Jy(s.alg),S=yield this.fetchJwk(s.kid,r),b=yield crypto.subtle.importKey("jwk",S,v,!0,["verify"]);if(!(yield crypto.subtle.verify(v,b,u,$y(`${f}.${m}`))))throw new rr("Invalid JWT signature");return{data:{claims:c,header:s,signature:u},error:null}}catch(o){if(Z(o))return{data:null,error:o};throw o}})}}return n.nextInstanceID=0,n})();var FT=zm,Gm=FT;var ud=class extends Gm{constructor(t){super(t)}};var NT=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(m){try{f(r.next(m))}catch(v){s(v)}}function u(m){try{f(r.throw(m))}catch(v){s(v)}}function f(m){m.done?o(m.value):i(m.value).then(c,u)}f((r=r.apply(n,t||[])).next())})},pd=class{constructor(t,e,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let c=Dy(t),u=new URL(c);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);let f=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:Ey,realtime:My,auth:Object.assign(Object.assign({},Sy),{storageKey:f}),global:Cy},v=Ty(r??{},m);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(S,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=v.auth)!==null&&s!==void 0?s:{},this.headers,v.global.fetch),this.fetch=Iy(e,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new ay(new URL("rest/v1",u).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new js(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ks(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return NT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:c,debug:u},f,m){let v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ud({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),f),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:c,debug:u,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Zs(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var sb=(n,t,e)=>new pd(n,t,e);var Wm={production:!1,supabaseUrl:"https://zmucgxqnyzpzeawxoyxy.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InptdWNneHFueXpwemVhd3hveXh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIyNDUwODYsImV4cCI6MjA2NzgyMTA4Nn0.GPhhRuJPijeemNiy_UsTBKm-toCeU5_cXWyENOLB0Iw",socialProviders:{google:!0,facebook:!0}};var We=class n{supabase;currentUserSubject=new Oe(null);currentUser$=this.currentUserSubject.asObservable();constructor(){this.supabase=sb(Wm.supabaseUrl,Wm.supabaseKey),this.supabase.auth.onAuthStateChange((t,e)=>{this.currentUserSubject.next(e?.user??null)}),this.getCurrentUser()}signUp(t,e,r){return y(this,null,function*(){return yield this.supabase.auth.signUp({email:t,password:e,options:{data:r}})})}signIn(t,e){return y(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:t,password:e})})}signInWithGoogle(){return y(this,null,function*(){let{data:t,error:e}=yield this.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});return{data:t,error:e}})}signInWithFacebook(){return y(this,null,function*(){let{data:t,error:e}=yield this.supabase.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:`${window.location.origin}/dashboard`}});return{data:t,error:e}})}signOut(){return y(this,null,function*(){let{error:t}=yield this.supabase.auth.signOut();return this.currentUserSubject.next(null),{error:t}})}getCurrentUser(){return y(this,null,function*(){try{let{data:{user:t},error:e}=yield this.supabase.auth.getUser();if(e)throw e;return this.currentUserSubject.next(t),t}catch(t){return console.error("Error obteniendo usuario actual:",t),null}})}resetPassword(t){return y(this,null,function*(){let{error:e}=yield this.supabase.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});return{error:e}})}updatePassword(t){return y(this,null,function*(){let{error:e}=yield this.supabase.auth.updateUser({password:t});return{error:e}})}getProfile(t){return y(this,null,function*(){try{let e=t||this.currentUserSubject.value?.id;if(!e)throw new Error("No user ID provided");let{data:r,error:i}=yield this.supabase.from("profiles").select("*").eq("id",e).single();if(i)throw i;return r}catch(e){return console.error("Error obteniendo perfil:",e),null}})}updateProfile(t){return y(this,null,function*(){try{let e=this.currentUserSubject.value?.id;if(!e)throw new Error("No authenticated user");let{data:r,error:i}=yield this.supabase.from("profiles").update(G(P({},t),{updated_at:new Date().toISOString()})).eq("id",e).select().single();if(i)throw i;return r}catch(e){throw console.error("Error actualizando perfil:",e),e}})}uploadAvatar(t){return y(this,null,function*(){try{let e=this.currentUserSubject.value?.id;if(!e)throw new Error("No authenticated user");let r=t.name.split(".").pop(),o=`avatars/${`${e}-${Math.random()}.${r}`}`,{error:s}=yield this.supabase.storage.from("avatars").upload(o,t);if(s)throw s;let{data:c}=this.supabase.storage.from("avatars").getPublicUrl(o);return c.publicUrl}catch(e){return console.error("Error subiendo avatar:",e),null}})}getData(t){return y(this,null,function*(){try{let{data:e,error:r}=yield this.supabase.from(t).select("*").order("id",{ascending:!1});if(r)throw r;return e}catch(e){throw console.error("Error en getData:",e),e}})}insertData(t,e){return y(this,null,function*(){try{let{data:r,error:i}=yield this.supabase.from(t).insert(e).select();if(i)throw i;return r}catch(r){throw console.error("Error en insertData:",r),r}})}deleteData(t,e){return y(this,null,function*(){try{let{error:r}=yield this.supabase.from(t).delete().eq("id",e);if(r)throw r;return!0}catch(r){throw console.error("Error en deleteData:",r),r}})}updateData(t,e,r){return y(this,null,function*(){try{let{data:i,error:o}=yield this.supabase.from(t).update(r).eq("id",e).select();if(o)throw o;return i}catch(i){throw console.error("Error en updateData:",i),i}})}get client(){return this.supabase}isAuthenticated(){return this.currentUserSubject.value!==null}getCurrentUser$(){return this.currentUser$}static \u0275fac=function(e){return new(e||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var de=class n{constructor(t,e){this.supabaseService=t;this.router=e;this.loadUserFromStorage()}currentUser=null;loadUserFromStorage(){let t=localStorage.getItem("currentUser");if(t)try{this.currentUser=JSON.parse(t)}catch(e){console.error("Error parsing stored user:",e),localStorage.removeItem("currentUser")}}login(t){return y(this,null,function*(){try{console.log("Intentando login con:",t.username);let{data:e,error:r}=yield this.supabaseService.client.from("profiles").select("*").eq("username",t.username).eq("status",1);if(console.log("Respuesta de Supabase:",{users:e,error:r}),r)return console.error("Error de Supabase:",r),{success:!1,message:"Error al conectar con la base de datos"};if(!e||e.length===0)return{success:!1,message:"Usuario no encontrado o inactivo"};let i=e[0];if(i.password!==t.password)return{success:!1,message:"Contrase\xF1a incorrecta"};let o={id:i.id,username:i.username,full_name:i.full_name,password:i.password,status:i.status,id_perfil:i.id_perfil,created_at:i.created_at};return this.currentUser=o,localStorage.setItem("currentUser",JSON.stringify(o)),console.log("Login exitoso para:",o.username),{success:!0,message:"Login exitoso",user:o}}catch(e){return console.error("Error en login:",e),{success:!1,message:"Error inesperado del servidor"}}})}register(t){return y(this,null,function*(){try{console.log("Intentando registrar usuario:",t.username);let{data:e,error:r}=yield this.supabaseService.client.from("profiles").select("username").eq("username",t.username);if(console.log("Verificaci\xF3n de usuario existente:",{existingUser:e,checkError:r}),r)return console.error("Error verificando usuario:",r),{success:!1,message:"Error al verificar usuario existente"};if(e&&e.length>0)return{success:!1,message:"El nombre de usuario ya existe"};let i={username:t.username,full_name:t.full_name,password:t.password,status:1,id_perfil:t.id_perfil||2};console.log("Datos a insertar:",i);let{data:o,error:s}=yield this.supabaseService.client.from("profiles").insert(i).select();return console.log("Resultado de inserci\xF3n:",{newUser:o,insertError:s}),s?(console.error("Error insertando usuario:",s),{success:!1,message:"Error al crear usuario: "+s.message}):o&&o.length>0?(console.log("Usuario creado exitosamente:",o[0]),{success:!0,message:"Usuario creado exitosamente",user:{id:o[0].id,username:o[0].username,full_name:o[0].full_name,password:o[0].password,status:o[0].status,id_perfil:o[0].id_perfil,created_at:o[0].created_at}}):{success:!1,message:"Error al crear usuario - no se recibieron datos"}}catch(e){return console.error("Error en registro:",e),{success:!1,message:"Error inesperado del servidor"}}})}logout(){console.log("Cerrando sesi\xF3n"),this.currentUser=null,localStorage.removeItem("currentUser"),this.router.navigate(["/langing"])}getCurrentUser(){return this.currentUser}isAuthenticated(){return this.getCurrentUser()!==null}getCurrentUserProfile(){return this.getCurrentUser()?.id_perfil||null}hasProfile(t){return this.getCurrentUserProfile()===t}isAdmin(){return this.hasProfile(1)}static \u0275fac=function(e){return new(e||n)(U(We),U(ce))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var or=class n{constructor(t,e){this.supabaseService=t;this.authService=e}userMenuSubject=new Oe([]);userMenu$=this.userMenuSubject.asObservable();userPermissionsSubject=new Oe([]);userPermissions$=this.userPermissionsSubject.asObservable();loadUserMenu(){return y(this,null,function*(){let t=this.authService.getCurrentUser();if(!t?.id)return this.userMenuSubject.next([]),[];try{let{data:e,error:r}=yield this.supabaseService.client.rpc("get_user_menu",{p_user_id:t.id});if(r)return console.error("Error obteniendo men\xFA del usuario:",r),this.userMenuSubject.next([]),[];let i=this.buildMenuTree(e||[]);return this.userMenuSubject.next(i),i}catch(e){return console.error("Error en loadUserMenu:",e),this.userMenuSubject.next([]),[]}})}loadUserPermissions(){return y(this,null,function*(){let t=this.authService.getCurrentUser();if(!t?.id)return this.userPermissionsSubject.next([]),[];try{let{data:e,error:r}=yield this.supabaseService.client.from("v_permisos_usuario").select("*").eq("user_id",t.id).eq("granted",!0);if(r)return console.error("Error obteniendo permisos del usuario:",r),this.userPermissionsSubject.next([]),[];let i=e||[];return this.userPermissionsSubject.next(i),i}catch(e){return console.error("Error en loadUserPermissions:",e),this.userPermissionsSubject.next([]),[]}})}getCurrentUserMenu(){return y(this,null,function*(){return yield this.loadUserMenu()})}hasPermission(t,e){return y(this,null,function*(){let r=this.authService.getCurrentUser();if(!r?.id)return!1;try{let{data:i,error:o}=yield this.supabaseService.client.rpc("user_has_permission",{p_user_id:r.id,p_route:t,p_permission_code:e});return o?(console.error("Error verificando permiso:",o),!1):i===!0}catch(i){return console.error("Error en hasPermission:",i),!1}})}canAccessRoute(t){return y(this,null,function*(){return yield this.hasPermission(t,"view")})}hasAnyPermission(t,e){return y(this,null,function*(){for(let r of e)if(yield this.hasPermission(t,r))return!0;return!1})}getUserPermissions(){return y(this,null,function*(){return yield this.loadUserPermissions()})}buildMenuTree(t){let e=new Map,r=[];return t.forEach(i=>{let o={id_modulo:i.modulo_id||i.id_modulo,nombre:i.nombre,descripcion:i.descripcion,icono:i.icono,ruta:i.ruta,orden:i.orden,es_padre:i.es_padre,modulo_padre_id:i.modulo_padre_id,permisos:i.permisos||[],children:[],expanded:!1};e.set(o.id_modulo,o)}),e.forEach(i=>{if(i.modulo_padre_id===null)r.push(i);else{let o=e.get(i.modulo_padre_id);o&&(o.children||(o.children=[]),o.children.push(i))}}),this.sortMenuItems(r),r}sortMenuItems(t){t.sort((e,r)=>e.orden-r.orden),t.forEach(e=>{e.children&&e.children.length>0&&this.sortMenuItems(e.children)})}canView(t){return y(this,null,function*(){return yield this.hasPermission(t,"view")})}canCreate(t){return y(this,null,function*(){return yield this.hasPermission(t,"create")})}canEdit(t){return y(this,null,function*(){return yield this.hasPermission(t,"edit")})}canDelete(t){return y(this,null,function*(){return yield this.hasPermission(t,"delete")})}canExport(t){return y(this,null,function*(){return yield this.hasPermission(t,"export")})}canAdmin(t){return y(this,null,function*(){return yield this.hasPermission(t,"admin")})}clearUserData(){this.userMenuSubject.next([]),this.userPermissionsSubject.next([])}refreshUserData(){return y(this,null,function*(){yield Promise.all([this.loadUserMenu(),this.loadUserPermissions()])})}getUserMenu(){return this.userMenu$}getUserPermissionsObservable(){return this.userPermissions$}createDefaultMenu(){let t=[{id_modulo:1,nombre:"Dashboard",descripcion:"Panel principal",icono:"fas fa-tachometer-alt",ruta:"/dashboard",orden:1,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:2,nombre:"Usuarios",descripcion:"Gesti\xF3n de usuarios",icono:"fas fa-users",ruta:"/usuarios",orden:2,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:3,nombre:"Reportes",descripcion:"Sistema de reportes",icono:"fas fa-chart-bar",ruta:"/reportes",orden:3,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:4,nombre:"Configuraci\xF3n",descripcion:"Configuraci\xF3n del sistema",icono:"fas fa-cog",ruta:"/configuracion",orden:4,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1}];return this.userMenuSubject.next(t),t}static \u0275fac=function(e){return new(e||n)(U(We),U(de))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var xt=class n{constructor(t,e,r){this.authService=t;this.permissionsService=e;this.router=r}canActivate(t,e){return y(this,null,function*(){if(!this.authService.isAuthenticated())return console.log("Usuario no autenticado, redirigiendo a login"),this.router.navigate(["/login"]),!1;if(!this.authService.getCurrentUser())return console.log("No se pudo obtener el usuario actual"),this.router.navigate(["/login"]),!1;let i=e.url;if(console.log("Verificando acceso a ruta:",i),["/dashboard","/login","/register"].includes(i))return console.log("Ruta p\xFAblica, acceso permitido"),!0;try{return(yield this.permissionsService.canAccessRoute(i))?(console.log("Acceso autorizado a:",i),!0):(console.log("Usuario sin permisos para acceder a:",i),this.router.navigate(["/dashboard"],{queryParams:{error:"no_permissions",attempted_route:i}}),!1)}catch(s){return console.error("Error verificando permisos:",s),!0}})}static \u0275fac=function(e){return new(e||n)(U(de),U(or),U(ce))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})},aa=class n{constructor(t,e,r){this.authService=t;this.permissionsService=e;this.router=r}canActivate(t,e){return y(this,null,function*(){if(!this.authService.isAuthenticated())return this.router.navigate(["/login"]),!1;let r=t.data.permissions,i=e.url;if(!r||r.length===0)return yield this.permissionsService.canAccessRoute(i);try{return(yield this.permissionsService.hasAnyPermission(i,r))?!0:(console.log("Permisos insuficientes para:",i,"Requeridos:",r),this.router.navigate(["/dashboard"],{queryParams:{error:"insufficient_permissions",required:r.join(","),attempted_route:i}}),!1)}catch(o){return console.error("Error en PermissionGuard:",o),!1}})}static \u0275fac=function(e){return new(e||n)(U(de),U(or),U(ce))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})},sr=class n{constructor(t,e){this.authService=t;this.router=e}canActivate(t,e){if(!this.authService.isAuthenticated())return this.router.navigate(["/login"]),!1;let r=this.authService.getCurrentUser(),i=t.data.profiles;if(!i||i.length===0)return!0;let o=r?.id_perfil;return o?i.includes(o)?!0:(console.log("Perfil insuficiente:",o,"Requeridos:",i),this.router.navigate(["/dashboard"],{queryParams:{error:"insufficient_role",required:i.join(",")}}),!1):(console.log("Usuario sin perfil asignado"),this.router.navigate(["/dashboard"],{queryParams:{error:"no_profile"}}),!1)}static \u0275fac=function(e){return new(e||n)(U(de),U(ce))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var gb=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(F(fn),F(_t))};static \u0275dir=he({type:n})}return n})(),ma=(()=>{class n extends gb{static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=he({type:n,features:[ut]})}return n})(),xo=new H(""),RT={provide:xo,useExisting:At(()=>ha),multi:!0},ha=(()=>{class n extends ma{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[en([RT]),ut]})}return n})(),VT={provide:xo,useExisting:At(()=>Ee),multi:!0};function LT(){let n=Wt()?Wt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var jT=new H(""),Ee=(()=>{class n extends gb{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!LT())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(F(fn),F(_t),F(jT,8))};static \u0275dir=he({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&E("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[en([VT]),ut]})}return n})();function UT(n){return n==null||vb(n)===0}function vb(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var wo=new H(""),_b=new H("");function BT(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function $T(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function HT(n){return UT(n.value)?{required:!0}:null}function zT(n){return t=>{let e=t.value?.length??vb(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function ab(n){return null}function yb(n){return n!=null}function bb(n){return zr(n)?oe(n):n}function xb(n){let t={};return n.forEach(e=>{t=e!=null?P(P({},t),e):t}),Object.keys(t).length===0?null:t}function wb(n,t){return t.map(e=>e(n))}function GT(n){return!n.validate}function Cb(n){return n.map(t=>GT(t)?t:e=>t.validate(e))}function WT(n){if(!n)return null;let t=n.filter(yb);return t.length==0?null:function(e){return xb(wb(e,t))}}function Km(n){return n!=null?WT(Cb(n)):null}function qT(n){if(!n)return null;let t=n.filter(yb);return t.length==0?null:function(e){let r=wb(e,t).map(bb);return fu(r).pipe(se(xb))}}function Jm(n){return n!=null?qT(Cb(n)):null}function lb(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function YT(n){return n._rawValidators}function ZT(n){return n._rawAsyncValidators}function Ym(n){return n?Array.isArray(n)?n:[n]:[]}function md(n,t){return Array.isArray(n)?n.includes(t):n===t}function cb(n,t){let e=Ym(t);return Ym(n).forEach(i=>{md(e,i)||e.push(i)}),e}function db(n,t){return Ym(t).filter(e=>!md(n,e))}var hd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Km(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Jm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},bo=class extends hd{name;get formDirective(){return null}get path(){return null}},fa=class extends hd{_parent=null;name=null;valueAccessor=null},gd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},QT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},VB=G(P({},QT),{"[class.ng-submitted]":"isSubmitted"}),ke=(()=>{class n extends gd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(F(fa,2))};static \u0275dir=he({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ft("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ut]})}return n})(),qe=(()=>{class n extends gd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(F(bo,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ft("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ut]})}return n})();var la="VALID",fd="INVALID",_o="PENDING",ca="DISABLED",Er=class{},vd=class extends Er{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ua=class extends Er{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},pa=class extends Er{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},yo=class extends Er{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Zm=class extends Er{source;constructor(t){super(),this.source=t}},Qm=class extends Er{source;constructor(t){super(),this.source=t}};function Eb(n){return(bd(n)?n.validators:n)||null}function KT(n){return Array.isArray(n)?Km(n):n||null}function Sb(n,t){return(bd(t)?t.asyncValidators:n)||null}function JT(n){return Array.isArray(n)?Jm(n):n||null}function bd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function XT(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new $(1e3,"");if(!r[e])throw new $(1001,"")}function e3(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new $(1002,"")})}var _d=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Xn(this.statusReactive)}set status(t){Xn(()=>this.statusReactive.set(t))}_status=is(()=>this.statusReactive());statusReactive=Zo(void 0);get valid(){return this.status===la}get invalid(){return this.status===fd}get pending(){return this.status==_o}get disabled(){return this.status===ca}get enabled(){return this.status!==ca}errors;get pristine(){return Xn(this.pristineReactive)}set pristine(t){Xn(()=>this.pristineReactive.set(t))}_pristine=is(()=>this.pristineReactive());pristineReactive=Zo(!0);get dirty(){return!this.pristine}get touched(){return Xn(this.touchedReactive)}set touched(t){Xn(()=>this.touchedReactive.set(t))}_touched=is(()=>this.touchedReactive());touchedReactive=Zo(!1);get untouched(){return!this.touched}_events=new Re;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(cb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(cb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(db(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(db(t,this._rawAsyncValidators))}hasValidator(t){return md(this._rawValidators,t)}hasAsyncValidator(t){return md(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(G(P({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new pa(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new pa(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(G(P({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new ua(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new ua(!0,r))}markAsPending(t={}){this.status=_o;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(G(P({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ca,this.errors=null,this._forEachChild(i=>{i.disable(G(P({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vd(this.value,r)),this._events.next(new yo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(P({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=la,this._forEachChild(r=>{r.enable(G(P({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(G(P({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===_o)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vd(this.value,e)),this._events.next(new yo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(G(P({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ca:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=_o,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=bb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new yo(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?ca:this.errors?fd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_o)?_o:this._anyControlsHaveStatus(fd)?fd:la}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new ua(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new pa(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=KT(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=JT(this._rawAsyncValidators)}},yd=class extends _d{constructor(t,e,r){super(Eb(e),Sb(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){e3(this,!0,t),Object.keys(t).forEach(r=>{XT(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var xd=new H("",{providedIn:"root",factory:()=>wd}),wd="always";function t3(n,t){return[...t.path,n]}function Mb(n,t,e=wd){Ib(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),r3(n,t),o3(n,t),i3(n,t),n3(n,t)}function ub(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function n3(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Ib(n,t){let e=YT(n);t.validator!==null?n.setValidators(lb(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=ZT(n);t.asyncValidator!==null?n.setAsyncValidators(lb(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();ub(t._rawValidators,i),ub(t._rawAsyncValidators,i)}function r3(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Db(n,t)})}function i3(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Db(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Db(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function o3(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function s3(n,t){n==null,Ib(n,t)}function a3(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function l3(n){return Object.getPrototypeOf(n.constructor)===ma}function c3(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function d3(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===Ee?e=o:l3(o)?r=o:i=o}),i||r||e||null}var u3={provide:bo,useExisting:At(()=>je)},da=Promise.resolve(),je=(()=>{class n extends bo{callSetDisabledState;get submitted(){return Xn(this.submittedReactive)}_submitted=is(()=>this.submittedReactive());submittedReactive=Zo(!1);_directives=new Set;form;ngSubmit=new $e;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new yd({},Km(e),Jm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){da.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Mb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){da.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){da.then(()=>{let r=this._findContainer(e.path),i=new yd({});s3(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){da.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){da.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),c3(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Zm(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new Qm(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||n)(F(wo,10),F(_b,10),F(xd,8))};static \u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&E("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[en([u3]),ut]})}return n})();function pb(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function fb(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var p3=class extends _d{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(Eb(e),Sb(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(fb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){pb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){pb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){fb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var f3={provide:fa,useExisting:At(()=>De)},mb=Promise.resolve(),De=(()=>{class n extends fa{_changeDetectorRef;callSetDisabledState;control=new p3;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new $e;constructor(e,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=d3(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),a3(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Mb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){mb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&gr(r);mb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?t3(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(F(bo,9),F(wo,10),F(_b,10),F(xo,10),F(hr,8),F(xd,8))};static \u0275dir=he({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[en([f3]),ut,Kn]})}return n})();var Ye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),m3={provide:xo,useExisting:At(()=>ui),multi:!0},ui=(()=>{class n extends ma{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&E("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[en([m3]),ut]})}return n})();var h3=new H("");var g3={provide:xo,useExisting:At(()=>Ze),multi:!0};function Tb(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function v3(n){return n.split(":")[0]}var Ze=(()=>{class n extends ma{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=Tb(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=v3(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[en([g3]),ut]})}return n})(),Xe=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Tb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(F(_t),F(fn),F(Ze,9))};static \u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),_3={provide:xo,useExisting:At(()=>kb),multi:!0};function hb(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function y3(n){return n.split(":")[0]}var kb=(()=>{class n extends ma{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],f=this._getOptionValue(u.value);i.push(f)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let f=this._getOptionValue(u.value);i.push(f)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=y3(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[en([_3]),ut]})}return n})(),et=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(hb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(hb(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(F(_t),F(fn),F(kb,9))};static \u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function b3(n){return typeof n=="number"?n:parseInt(n,10)}function Ab(n){return typeof n=="number"?n:parseFloat(n)}var Cd=(()=>{class n{_validator=ab;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ab,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,features:[Kn]})}return n})(),x3={provide:wo,useExisting:At(()=>ga),multi:!0},ga=(()=>{class n extends Cd{max;inputName="max";normalizeInput=e=>Ab(e);createValidator=e=>$T(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&mn("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[en([x3]),ut]})}return n})(),w3={provide:wo,useExisting:At(()=>pi),multi:!0},pi=(()=>{class n extends Cd{min;inputName="min";normalizeInput=e=>Ab(e);createValidator=e=>BT(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&mn("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[en([w3]),ut]})}return n})(),C3={provide:wo,useExisting:At(()=>Ue),multi:!0};var Ue=(()=>{class n extends Cd{required;inputName="required";normalizeInput=gr;createValidator=e=>HT;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&mn("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[en([C3]),ut]})}return n})();var E3={provide:wo,useExisting:At(()=>Xm),multi:!0},Xm=(()=>{class n extends Cd{maxlength;inputName="maxlength";normalizeInput=e=>b3(e);createValidator=e=>zT(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=zt(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&mn("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[en([E3]),ut]})}return n})();var Ob=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=dt({type:n});static \u0275inj=ct({})}return n})();var Pb=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:xd,useValue:e.callSetDisabledState??wd}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=dt({type:n});static \u0275inj=ct({imports:[Ob]})}return n})(),Fb=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:h3,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:xd,useValue:e.callSetDisabledState??wd}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=dt({type:n});static \u0275inj=ct({imports:[Ob]})}return n})();function S3(n,t){n&1&&(T(),a(0,"svg",14),_(1,"path",25)(2,"path",26),l())}function M3(n,t){n&1&&(T(),a(0,"svg",14),_(1,"path",27),l())}function I3(n,t){if(n&1&&(a(0,"div",28)(1,"div",29),T(),a(2,"svg",30),_(3,"path",31),l(),V(),a(4,"div",32)(5,"p",33),d(6),l()()()()),n&2){let e=g();p(6),M(e.errorMessage)}}function D3(n,t){n&1&&(a(0,"span",34),T(),a(1,"svg",35),_(2,"path",36),l()())}var Ed=class n{constructor(t,e){this.authService=t;this.router=e;console.log("LoginComponent inicializado")}credentials={username:"",password:""};loading=!1;errorMessage="";showPassword=!1;onLogin(){return y(this,null,function*(){if(console.log("onLogin ejecutado"),!this.credentials.username||!this.credentials.password){this.errorMessage="Por favor complete todos los campos",console.log("Error: Campos vac\xEDos");return}this.loading=!0,this.errorMessage="";try{console.log("Intentando login con:",this.credentials.username);let t=yield this.authService.login(this.credentials);t.success?(console.log("Login exitoso, navegando a dashboard"),this.router.navigate(["/dashboard"])):(console.log("Login fall\xF3:",t.message),this.errorMessage=t.message)}catch(t){console.error("Error inesperado en login:",t),this.errorMessage="Error inesperado. Intente nuevamente."}finally{this.loading=!1}})}togglePasswordVisibility(){this.showPassword=!this.showPassword,console.log("Password visibility toggled:",this.showPassword)}goToRegister(){console.log("goToRegister ejecutado - navegando a /register");try{this.router.navigate(["/register"]),console.log("Navegaci\xF3n a /register iniciada")}catch(t){console.error("Error al navegar a register:",t)}}testNavigation(){console.log("Test navigation button clicked!"),alert("\xA1El bot\xF3n funciona! Navegando a register..."),this.goToRegister()}static \u0275fac=function(e){return new(e||n)(F(de),F(ce))};static \u0275cmp=le({type:n,selectors:[["app-login"]],standalone:!1,decls:38,vars:9,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","to-indigo-100","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"mx-auto","h-12","w-12","bg-indigo-600","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"mt-6","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"bg-white","rounded-lg","shadow-xl","p-8"],[1,"space-y-6",3,"ngSubmit"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","relative"],["id","username","name","username","type","text","autocomplete","username","required","","placeholder","Ingresa tu usuario",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","name","password","autocomplete","current-password","required","","placeholder","Ingresa tu contrase\xF1a",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm","pr-10",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center",3,"click"],["class","h-5 w-5 text-gray-400","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"disabled"],["class","absolute left-0 inset-y-0 flex items-center pl-3",4,"ngIf"],[1,"text-center","mt-6"],[1,"text-sm","text-gray-600"],["type","button",1,"font-medium","text-indigo-600","hover:text-indigo-500","transition-colors","duration-200","ml-1",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-indigo-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),T(),a(4,"svg",4),_(5,"path",5),l()(),V(),a(6,"h2",6),d(7," Iniciar Sesi\xF3n "),l(),a(8,"p",7),d(9," Ingresa a tu cuenta "),l()(),a(10,"div",8)(11,"form",9),E("ngSubmit",function(){return r.onLogin()}),a(12,"div")(13,"label",10),d(14," Nombre de Usuario "),l(),a(15,"div",11)(16,"input",12),A("ngModelChange",function(o){return O(r.credentials.username,o)||(r.credentials.username=o),o}),l(),a(17,"div",13),T(),a(18,"svg",14),_(19,"path",5),l()()()(),V(),a(20,"div")(21,"label",15),d(22," Contrase\xF1a "),l(),a(23,"div",11)(24,"input",16),A("ngModelChange",function(o){return O(r.credentials.password,o)||(r.credentials.password=o),o}),l(),a(25,"button",17),E("click",function(){return r.togglePasswordVisibility()}),C(26,S3,3,0,"svg",18)(27,M3,2,0,"svg",18),l()()(),C(28,I3,7,1,"div",19),a(29,"div")(30,"button",20),C(31,D3,3,0,"span",21),d(32),l()()(),a(33,"div",22)(34,"p",23),d(35," \xBFNo tienes cuenta? "),a(36,"button",24),E("click",function(){return r.goToRegister()}),d(37," Reg\xEDstrate aqu\xED "),l()()()()()()),e&2&&(p(16),k("ngModel",r.credentials.username),p(8),h("type",r.showPassword?"text":"password"),k("ngModel",r.credentials.password),p(2),h("ngIf",!r.showPassword),p(),h("ngIf",r.showPassword),p(),h("ngIf",r.errorMessage),p(2),h("disabled",r.loading),p(),h("ngIf",r.loading),p(),I(" ",r.loading?"Iniciando sesi\xF3n...":"Iniciar Sesi\xF3n"," "))},dependencies:[pe,Ye,Ee,ke,qe,Ue,De,je],encapsulation:2})};function T3(n,t){n&1&&(T(),a(0,"svg",30),_(1,"path",31)(2,"path",32),l())}function k3(n,t){n&1&&(T(),a(0,"svg",30),_(1,"path",33),l())}function A3(n,t){n&1&&(T(),a(0,"svg",30),_(1,"path",31)(2,"path",32),l())}function O3(n,t){n&1&&(T(),a(0,"svg",30),_(1,"path",33),l())}function P3(n,t){if(n&1&&(a(0,"div",34)(1,"div",35),T(),a(2,"svg",36),_(3,"path",37),l(),V(),a(4,"div",38)(5,"p",39),d(6),l()()()()),n&2){let e=g();p(6),M(e.errorMessage)}}function F3(n,t){if(n&1&&(a(0,"div",40)(1,"div",35),T(),a(2,"svg",41),_(3,"path",42),l(),V(),a(4,"div",38)(5,"p",43),d(6),l()()()()),n&2){let e=g();p(6),M(e.successMessage)}}function N3(n,t){n&1&&(a(0,"span",44),T(),a(1,"svg",45),_(2,"path",46),l()())}var Sd=class n{constructor(t,e){this.authService=t;this.router=e;console.log("RegisterComponent inicializado")}user={username:"",full_name:"",password:"",status:1,id_perfil:2};confirmPassword="";loading=!1;errorMessage="";successMessage="";showPassword=!1;showConfirmPassword=!1;onRegister(){return y(this,null,function*(){if(console.log("onRegister llamado"),console.log("Datos del formulario:",this.user),this.errorMessage="",this.successMessage="",!this.user.username||!this.user.full_name||!this.user.password||!this.confirmPassword){this.errorMessage="Por favor complete todos los campos",console.log("Error: Campos vac\xEDos");return}if(this.user.password!==this.confirmPassword){this.errorMessage="Las contrase\xF1as no coinciden",console.log("Error: Contrase\xF1as no coinciden");return}if(this.user.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres",console.log("Error: Contrase\xF1a muy corta");return}if(this.user.username.length<3){this.errorMessage="El nombre de usuario debe tener al menos 3 caracteres",console.log("Error: Username muy corto");return}if(this.user.username.includes(" ")){this.errorMessage="El nombre de usuario no puede contener espacios",console.log("Error: Username con espacios");return}if(!/^[a-zA-Z0-9_.-]+$/.test(this.user.username)){this.errorMessage="El nombre de usuario solo puede contener letras, n\xFAmeros, guiones, puntos y guiones bajos",console.log("Error: Username con caracteres inv\xE1lidos");return}this.loading=!0,console.log("Iniciando proceso de registro...");try{let e=yield this.authService.register(this.user);console.log("Resultado del registro:",e),e.success?(this.successMessage="Usuario creado exitosamente. Redirigiendo al login...",console.log("Registro exitoso, redirigiendo..."),this.user={username:"",full_name:"",password:"",status:1,id_perfil:2},this.confirmPassword="",setTimeout(()=>{this.router.navigate(["/login"])},2e3)):(this.errorMessage=e.message,console.log("Error en registro:",e.message))}catch(e){console.error("Error inesperado:",e),this.errorMessage="Error inesperado. Intente nuevamente."}finally{this.loading=!1}})}togglePasswordVisibility(){this.showPassword=!this.showPassword,console.log("Password visibility toggled:",this.showPassword)}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword,console.log("Confirm password visibility toggled:",this.showConfirmPassword)}goToLogin(){console.log("Navegando a login"),this.router.navigate(["/login"])}testButton(){console.log("Test button clicked!"),console.log("Current user data:",this.user),console.log("Confirm password:",this.confirmPassword)}static \u0275fac=function(e){return new(e||n)(F(de),F(ce))};static \u0275cmp=le({type:n,selectors:[["app-register"]],standalone:!1,decls:53,vars:15,consts:[["registerForm","ngForm"],[1,"min-h-screen","bg-gradient-to-br","from-green-50","to-teal-100","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"mx-auto","h-12","w-12","bg-green-600","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"],[1,"mt-6","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"bg-white","rounded-lg","shadow-xl","p-8"],[1,"space-y-6",3,"ngSubmit"],["for","fullName",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","relative"],["id","fullName","name","fullName","type","text","autocomplete","name","required","","placeholder","Ingresa tu nombre completo",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-green-500","focus:border-green-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],["id","username","name","username","type","text","autocomplete","username","required","","placeholder","Elige un nombre de usuario",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-green-500","focus:border-green-500","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","name","password","autocomplete","new-password","required","","placeholder","Crea una contrase\xF1a",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-green-500","focus:border-green-500","focus:z-10","sm:text-sm","pr-10",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center",3,"click"],["class","h-5 w-5 text-gray-400","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","name","confirmPassword","autocomplete","new-password","required","","placeholder","Confirma tu contrase\xF1a",1,"appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-green-500","focus:border-green-500","focus:z-10","sm:text-sm","pr-10",3,"ngModelChange","type","ngModel"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],["class","bg-green-50 border border-green-200 rounded-md p-4",4,"ngIf"],[1,"flex","space-x-2"],["type","button",1,"flex-1","bg-yellow-500","text-white","py-2","px-4","rounded","text-sm",3,"click"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-green-600","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"disabled"],["class","absolute left-0 inset-y-0 flex items-center pl-3",4,"ngIf"],[1,"text-sm","text-gray-600"],["type","button",1,"font-medium","text-green-600","hover:text-green-500","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"bg-green-50","border","border-green-200","rounded-md","p-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","text-green-700"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-green-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"]],template:function(e,r){if(e&1){let i=N();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),T(),a(4,"svg",5),_(5,"path",6),l()(),V(),a(6,"h2",7),d(7," Crear Cuenta "),l(),a(8,"p",8),d(9," Reg\xEDstrate para comenzar "),l()(),a(10,"div",9)(11,"form",10,0),E("ngSubmit",function(){return x(i),w(r.onRegister())}),a(13,"div")(14,"label",11),d(15," Nombre Completo "),l(),a(16,"div",12)(17,"input",13),A("ngModelChange",function(s){return x(i),O(r.user.full_name,s)||(r.user.full_name=s),w(s)}),l()()(),a(18,"div")(19,"label",14),d(20," Nombre de Usuario "),l(),a(21,"div",12)(22,"input",15),A("ngModelChange",function(s){return x(i),O(r.user.username,s)||(r.user.username=s),w(s)}),l()()(),a(23,"div")(24,"label",16),d(25," Contrase\xF1a "),l(),a(26,"div",12)(27,"input",17),A("ngModelChange",function(s){return x(i),O(r.user.password,s)||(r.user.password=s),w(s)}),l(),a(28,"button",18),E("click",function(){return x(i),w(r.togglePasswordVisibility())}),C(29,T3,3,0,"svg",19)(30,k3,2,0,"svg",19),l()()(),a(31,"div")(32,"label",20),d(33," Confirmar Contrase\xF1a "),l(),a(34,"div",12)(35,"input",21),A("ngModelChange",function(s){return x(i),O(r.confirmPassword,s)||(r.confirmPassword=s),w(s)}),l(),a(36,"button",18),E("click",function(){return x(i),w(r.toggleConfirmPasswordVisibility())}),C(37,A3,3,0,"svg",19)(38,O3,2,0,"svg",19),l()()(),C(39,P3,7,1,"div",22)(40,F3,7,1,"div",23),a(41,"div",24)(42,"button",25),E("click",function(){return x(i),w(r.onRegister())}),d(43," Test onRegister() "),l()(),a(44,"div")(45,"button",26),C(46,N3,3,0,"span",27),d(47),l()(),a(48,"div",3)(49,"p",28),d(50," \xBFYa tienes cuenta? "),a(51,"button",29),E("click",function(){return x(i),w(r.goToLogin())}),d(52," Inicia sesi\xF3n aqu\xED "),l()()()()()()()}e&2&&(p(17),k("ngModel",r.user.full_name),p(5),k("ngModel",r.user.username),p(5),h("type",r.showPassword?"text":"password"),k("ngModel",r.user.password),p(2),h("ngIf",!r.showPassword),p(),h("ngIf",r.showPassword),p(5),h("type",r.showConfirmPassword?"text":"password"),k("ngModel",r.confirmPassword),p(2),h("ngIf",!r.showConfirmPassword),p(),h("ngIf",r.showConfirmPassword),p(),h("ngIf",r.errorMessage),p(),h("ngIf",r.successMessage),p(5),h("disabled",r.loading),p(),h("ngIf",r.loading),p(),I(" ",r.loading?"Creando cuenta...":"Crear Cuenta"," "))},dependencies:[pe,Ye,Ee,ke,qe,Ue,De,je],encapsulation:2})};function R3(n,t){n&1&&(a(0,"div",6),_(1,"div",7),l())}function V3(n,t){if(n&1&&(a(0,"div")(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),T(),a(5,"svg",12),_(6,"path",13),l()(),V(),a(7,"div",14)(8,"h2",15),d(9),l(),a(10,"p",16),d(11,"Has iniciado sesi\xF3n exitosamente en el sistema Simplifika"),l()()()()(),a(12,"div",17)(13,"div",18)(14,"div",19)(15,"div",10)(16,"div",11),T(),a(17,"svg",20),_(18,"path",21),l()(),V(),a(19,"div",22)(20,"dl")(21,"dt",23),d(22,"Usuarios Totales"),l(),a(23,"dd",24),d(24,"1,247"),l()()()()()(),a(25,"div",18)(26,"div",19)(27,"div",10)(28,"div",11),T(),a(29,"svg",25),_(30,"path",26),l()(),V(),a(31,"div",22)(32,"dl")(33,"dt",23),d(34,"Proyectos Activos"),l(),a(35,"dd",24),d(36,"23"),l()()()()()(),a(37,"div",18)(38,"div",19)(39,"div",10)(40,"div",11),T(),a(41,"svg",27),_(42,"path",28),l()(),V(),a(43,"div",22)(44,"dl")(45,"dt",23),d(46,"Tareas Pendientes"),l(),a(47,"dd",24),d(48,"47"),l()()()()()(),a(49,"div",18)(50,"div",19)(51,"div",10)(52,"div",11),T(),a(53,"svg",29),_(54,"path",30),l()(),V(),a(55,"div",22)(56,"dl")(57,"dt",23),d(58,"Reportes"),l(),a(59,"dd",24),d(60,"156"),l()()()()()()(),a(61,"div",31)(62,"div",32)(63,"h3",33),d(64," Informaci\xF3n del Usuario "),l(),a(65,"dl",34)(66,"div")(67,"dt",35),d(68,"Nombre Completo"),l(),a(69,"dd",36),d(70),l()(),a(71,"div")(72,"dt",35),d(73,"Nombre de Usuario"),l(),a(74,"dd",36),d(75),l()(),a(76,"div")(77,"dt",35),d(78,"ID de Usuario"),l(),a(79,"dd",36),d(80),l()(),a(81,"div")(82,"dt",35),d(83,"Estado"),l(),a(84,"dd",37)(85,"span",38),T(),a(86,"svg",39),_(87,"circle",40),l(),d(88," Activo "),l()()(),V(),a(89,"div")(90,"dt",35),d(91,"Fecha de Registro"),l(),a(92,"dd",36),d(93),Le(94,"date"),l()(),a(95,"div")(96,"dt",35),d(97,"Perfil"),l(),a(98,"dd",36),d(99),l()()()()()()),n&2){let e=g();p(9),I("\xA1Bienvenido, ",e.currentUser==null?null:e.currentUser.full_name,"!"),p(61),M(e.currentUser==null?null:e.currentUser.full_name),p(5),M(e.currentUser==null?null:e.currentUser.username),p(5),M(e.currentUser==null?null:e.currentUser.id),p(13),I(" ",ot(94,6,e.currentUser==null?null:e.currentUser.created_at,"dd/MM/yyyy HH:mm")," "),p(6),I(" ID Perfil: ",(e.currentUser==null?null:e.currentUser.id_perfil)||"No asignado"," ")}}var Md=class n{constructor(t,e,r){this.authService=t;this.permissionsService=e;this.router=r}currentUser=null;menuItems=[];isSidebarCollapsed=!1;loading=!0;error="";currentRoute="";expandedModules=new Set;stats={totalUsers:0,activeProjects:0,pendingTasks:0,totalReports:0};subscriptions=new Te;ngOnInit(){return y(this,null,function*(){console.log("Dashboard inicializado");try{if(this.currentUser=this.authService.getCurrentUser(),console.log("Usuario actual:",this.currentUser),!this.currentUser){console.log("No hay usuario autenticado, redirigiendo a login"),this.router.navigate(["/login"]);return}yield this.loadUserMenu(),yield this.loadDashboardStats(),this.subscriptions.add(this.router.events.pipe(nt(t=>t instanceof st)).subscribe(t=>{this.currentRoute=t.urlAfterRedirects,console.log("Ruta actual:",this.currentRoute)})),this.currentRoute=this.router.url}catch(t){console.error("Error inicializando dashboard:",t),this.error="Error cargando el dashboard"}finally{this.loading=!1}})}ngOnDestroy(){this.subscriptions.unsubscribe()}loadUserMenu(){return y(this,null,function*(){try{console.log("Cargando men\xFA del usuario..."),this.menuItems=yield this.permissionsService.loadUserMenu(),(!this.menuItems||this.menuItems.length===0)&&(console.log("No se obtuvo men\xFA de la BD, usando men\xFA por defecto"),this.menuItems=this.createDefaultMenu()),this.updateExpandedModules(),console.log("Men\xFA cargado:",this.menuItems)}catch(t){console.error("Error cargando men\xFA:",t),this.menuItems=this.createDefaultMenu(),this.updateExpandedModules()}})}createDefaultMenu(){return[{id_modulo:1,nombre:"Dashboard",descripcion:"Panel principal",icono:"fas fa-tachometer-alt",ruta:"/dashboard",orden:1,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:2,nombre:"Usuarios",descripcion:"Gesti\xF3n de usuarios",icono:"fas fa-users",ruta:"/usuarios",orden:2,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:3,nombre:"Reportes",descripcion:"Sistema de reportes",icono:"fas fa-chart-bar",ruta:"/reportes",orden:3,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:4,nombre:"Configuraci\xF3n",descripcion:"Configuraci\xF3n del sistema",icono:"fas fa-cog",ruta:"/configuracion",orden:4,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1}]}updateExpandedModules(){this.menuItems.forEach(t=>{t.expanded===void 0&&(t.expanded=!1),t.children&&t.children.forEach(e=>{e.expanded===void 0&&(e.expanded=!1)})})}loadDashboardStats(){return y(this,null,function*(){try{this.stats={totalUsers:1247,activeProjects:23,pendingTasks:47,totalReports:156}}catch(t){console.error("Error cargando estad\xEDsticas:",t)}})}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed,console.log("Sidebar colapsado:",this.isSidebarCollapsed)}toggleModule(t){this.expandedModules.has(t)?this.expandedModules.delete(t):this.expandedModules.add(t);let e=this.menuItems.find(r=>r.id_modulo===t);e&&(e.expanded=this.expandedModules.has(t),console.log(`M\xF3dulo ${e.nombre} ${e.expanded?"expandido":"colapsado"}`))}isModuleExpanded(t){return this.expandedModules.has(t)}logout(){console.log("Cerrando sesi\xF3n desde dashboard"),this.permissionsService.clearUserData(),this.currentUser=null,this.menuItems=[],this.authService.logout()}getFilteredMenuItems(){return this.menuItems.filter(t=>!t.modulo_padre_id)}getFilteredChildren(t){return t.children?t.children:this.menuItems.filter(e=>e.modulo_padre_id===t.id_modulo)}isRouteActive(t){return!t||t==="#"?!1:this.currentRoute===t||this.currentRoute.startsWith(t+"/")}navigateTo(t){t&&t!=="#"&&(console.log("Navegando a:",t),this.router.navigate([t]))}getUserInitials(){if(!this.currentUser?.full_name)return"U";let t=this.currentUser.full_name.split(" ");return t.length>=2?(t[0].charAt(0)+t[1].charAt(0)).toUpperCase():this.currentUser.full_name.charAt(0).toUpperCase()}getUserRole(){switch(this.currentUser?.id_perfil){case 1:return"Administrador";case 2:return"Usuario";case 3:return"Supervisor";case 4:return"Invitado";default:return"Usuario"}}getPageTitle(){switch(this.currentRoute){case"/dashboard":return"Dashboard";case"/usuarios":return"Gesti\xF3n de Usuarios";case"/reportes":return"Reportes";case"/configuracion":return"Configuraci\xF3n";default:return"Dashboard"}}isDashboardHome(){return this.currentRoute==="/dashboard"}isUsersPage(){return this.currentRoute==="/usuarios"}formatDate(t){return t?new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A"}getCurrentTime(){return new Date().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}refreshDashboard(){return y(this,null,function*(){this.loading=!0;try{yield this.loadUserMenu(),yield this.loadDashboardStats(),yield this.permissionsService.loadUserPermissions()}catch(t){console.error("Error refrescando dashboard:",t)}finally{this.loading=!1}})}static \u0275fac=function(e){return new(e||n)(F(de),F(or),F(ce))};static \u0275cmp=le({type:n,selectors:[["app-dashboard"]],standalone:!1,decls:6,vars:2,consts:[[1,"min-h-screen","bg-gray-50","flex"],[1,"flex-1","flex","flex-col","overflow-hidden"],[1,"flex-1","overflow-auto"],[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],["class","flex justify-center items-center h-64",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600"],[1,"mb-8"],[1,"bg-gradient-to-r","from-indigo-500","to-purple-600","rounded-lg","shadow-lg","p-6","text-white"],[1,"flex","items-center"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-12","w-12","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"],[1,"ml-4"],[1,"text-2xl","font-bold"],[1,"text-indigo-100"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","overflow-hidden","shadow","rounded-lg"],[1,"p-5"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m3 5.197H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-5","w-0","flex-1"],[1,"text-sm","font-medium","text-gray-500","truncate"],[1,"text-lg","font-medium","text-gray-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"bg-white","shadow","rounded-lg"],[1,"px-4","py-5","sm:p-6"],[1,"text-lg","leading-6","font-medium","text-gray-900","mb-4"],[1,"grid","grid-cols-1","gap-x-4","gap-y-6","sm:grid-cols-2"],[1,"text-sm","font-medium","text-gray-500"],[1,"mt-1","text-sm","text-gray-900"],[1,"mt-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"main",2)(3,"div",3),C(4,R3,2,0,"div",4)(5,V3,100,9,"div",5),l()()()()),e&2&&(p(4),h("ngIf",r.loading),p(),h("ngIf",!r.loading))},dependencies:[pe,tr],encapsulation:2})};var L3=(n,t,e,r)=>({"bg-purple-100 text-purple-800":n,"bg-blue-100 text-blue-800":t,"bg-yellow-100 text-yellow-800":e,"bg-gray-100 text-gray-800":r}),j3=(n,t)=>({"bg-green-100 text-green-800":n,"bg-red-100 text-red-800":t});function U3(n,t){if(n&1){let e=N();a(0,"div",38)(1,"div",39),T(),a(2,"svg",40),_(3,"path",41),l(),V(),a(4,"div",42)(5,"p",43),d(6),l()(),a(7,"div",44)(8,"button",45),E("click",function(){x(e);let i=g();return w(i.error="")}),T(),a(9,"svg",46),_(10,"path",47),l()()()()()}if(n&2){let e=g();p(6),M(e.error)}}function B3(n,t){n&1&&(a(0,"div",48)(1,"div",49),_(2,"div",50),a(3,"p",51),d(4,"Cargando usuarios..."),l()()())}function $3(n,t){if(n&1){let e=N();a(0,"button",83),E("click",function(){x(e);let i=g().$implicit,o=g(2);return w(o.deactivateUser(i))}),T(),a(1,"svg",79),_(2,"path",84),l()()}}function H3(n,t){if(n&1){let e=N();a(0,"button",85),E("click",function(){x(e);let i=g().$implicit,o=g(2);return w(o.reactivateUser(i))}),T(),a(1,"svg",79),_(2,"path",86),l()()}}function z3(n,t){if(n&1){let e=N();a(0,"tr",64)(1,"td",65)(2,"div",66)(3,"div",67)(4,"div")(5,"span",68),d(6),l()()(),a(7,"div",69)(8,"div",70),d(9),l(),a(10,"div",56),d(11),l()()()(),a(12,"td",65)(13,"div",71),d(14),l()(),a(15,"td",65)(16,"span",72),d(17),l()(),a(18,"td",65)(19,"span",72),T(),a(20,"svg",73),_(21,"circle",74),l(),d(22),l()(),V(),a(23,"td",75),d(24),l(),a(25,"td",76)(26,"div",77)(27,"button",78),E("click",function(){let i=x(e).$implicit,o=g(2);return w(o.openEditModal(i))}),T(),a(28,"svg",79),_(29,"path",80),l()(),C(30,$3,3,0,"button",81)(31,H3,3,0,"button",82),l()()()}if(n&2){let e=t.$implicit,r=g(2);p(4),be("h-10 w-10 rounded-full flex items-center justify-center "+r.getAvatarColor(e)),p(2),I(" ",r.getUserInitials(e)," "),p(3),M(e.username),p(2),I("ID: ",e.id,""),p(3),M(e.full_name),p(2),h("ngClass",Wl(13,L3,e.id_perfil===1,e.id_perfil===2,e.id_perfil===3,e.id_perfil===4)),p(),I(" ",r.getPerfilName(e.id_perfil)," "),p(2),h("ngClass",Zi(18,j3,e.status===1,e.status===0)),p(3),I(" ",r.getStatusText(e.status)," "),p(2),I(" ",r.formatDate(e.created_at)," "),p(6),h("ngIf",e.status===1),p(),h("ngIf",e.status===0)}}function G3(n,t){if(n&1){let e=N();a(0,"button",95),E("click",function(){x(e);let i=g(3);return w(i.openCreateModal())}),d(1," Crear primer usuario "),l()}}function W3(n,t){if(n&1){let e=N();a(0,"button",96),E("click",function(){x(e);let i=g(3);return w(i.clearFilters())}),d(1," Limpiar filtros "),l()}}function q3(n,t){if(n&1&&(a(0,"div",87),T(),a(1,"svg",88),_(2,"path",89),l(),V(),a(3,"h3",90),d(4,"No hay usuarios"),l(),a(5,"p",91),d(6),l(),a(7,"div",92),C(8,G3,2,0,"button",93)(9,W3,2,0,"button",94),l()()),n&2){let e=g(2);p(6),I(" ",e.usuarios.length===0?"No se encontraron usuarios en la base de datos.":"No se encontraron usuarios con los filtros aplicados."," "),p(2),h("ngIf",e.usuarios.length===0),p(),h("ngIf",e.usuarios.length>0)}}function Y3(n,t){if(n&1&&(a(0,"div",52)(1,"div",53)(2,"div",54)(3,"h3",55),d(4),l(),a(5,"span",56),d(6),l()()(),a(7,"div",57)(8,"table",58)(9,"thead",59)(10,"tr")(11,"th",60),d(12," Usuario "),l(),a(13,"th",60),d(14," Nombre Completo "),l(),a(15,"th",60),d(16," Perfil "),l(),a(17,"th",60),d(18," Estado "),l(),a(19,"th",60),d(20," Fecha Creaci\xF3n "),l(),a(21,"th",60),d(22," Acciones "),l()()(),a(23,"tbody",61),C(24,z3,32,21,"tr",62),l()(),C(25,q3,10,3,"div",63),l()()),n&2){let e=g();p(4),Me(" Lista de Usuarios (",e.filteredUsuarios.length," de ",e.usuarios.length,") "),p(2),Me(" Mostrando ",e.filteredUsuarios.length," resultado",e.filteredUsuarios.length!==1?"s":""," "),p(18),h("ngForOf",e.filteredUsuarios)("ngForTrackBy",e.trackByUserId),p(),h("ngIf",e.filteredUsuarios.length===0&&!e.loading)}}function Z3(n,t){n&1&&(a(0,"span",112),d(1,"*"),l())}function Q3(n,t){if(n&1&&(a(0,"div",130)(1,"div",39),T(),a(2,"svg",40),_(3,"path",41),l(),V(),a(4,"div",42)(5,"p",43),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.error)}}function K3(n,t){n&1&&(T(),a(0,"svg",131),_(1,"path",8),l())}function J3(n,t){if(n&1){let e=N();a(0,"div",97)(1,"div",98)(2,"div",99),E("click",function(){x(e);let i=g();return w(i.closeModal())}),l(),a(3,"span",100),d(4,"\u200B"),l(),a(5,"div",101)(6,"div",102)(7,"div",103)(8,"div",104),T(),a(9,"svg",105),_(10,"path",106),l()(),V(),a(11,"div",107)(12,"h3",55),d(13),l(),a(14,"div",108)(15,"p",56),d(16),l()()()()(),a(17,"div",109)(18,"form",110)(19,"div")(20,"label",111),d(21," Nombre de Usuario "),a(22,"span",112),d(23,"*"),l()(),a(24,"input",113),A("ngModelChange",function(i){x(e);let o=g();return O(o.userForm.username,i)||(o.userForm.username=i),w(i)}),l(),a(25,"p",114),d(26," Solo letras, n\xFAmeros, puntos, guiones y guiones bajos "),l()(),a(27,"div")(28,"label",115),d(29," Nombre Completo "),a(30,"span",112),d(31,"*"),l()(),a(32,"input",116),A("ngModelChange",function(i){x(e);let o=g();return O(o.userForm.full_name,i)||(o.userForm.full_name=i),w(i)}),l()(),a(33,"div")(34,"label",117),d(35),C(36,Z3,2,0,"span",118),l(),a(37,"input",119),A("ngModelChange",function(i){x(e);let o=g();return O(o.userForm.password,i)||(o.userForm.password=i),w(i)}),l(),a(38,"p",114),d(39),l()(),a(40,"div")(41,"label",120),d(42," Perfil de Usuario "),l(),a(43,"select",121),A("ngModelChange",function(i){x(e);let o=g();return O(o.userForm.id_perfil,i)||(o.userForm.id_perfil=i),w(i)}),a(44,"option",28),d(45,"Administrador"),l(),a(46,"option",29),d(47,"Usuario"),l(),a(48,"option",30),d(49,"Supervisor"),l(),a(50,"option",31),d(51,"Invitado"),l()()(),a(52,"div")(53,"label",122),d(54," Estado "),l(),a(55,"select",123),A("ngModelChange",function(i){x(e);let o=g();return O(o.userForm.status,i)||(o.userForm.status=i),w(i)}),a(56,"option",28),d(57,"Activo"),l(),a(58,"option",124),d(59,"Inactivo"),l()()()(),C(60,Q3,7,1,"div",125),l(),a(61,"div",126)(62,"button",127),E("click",function(){x(e);let i=g();return w(i.saveUser())}),C(63,K3,2,0,"svg",128),d(64),l(),a(65,"button",129),E("click",function(){x(e);let i=g();return w(i.closeModal())}),d(66," Cancelar "),l()()()()()}if(n&2){let e=g();p(13),I(" ",e.modalMode==="create"?"Crear Nuevo Usuario":"Editar Usuario"," "),p(3),I(" ",e.modalMode==="create"?"Complete los datos para crear un nuevo usuario.":"Modifique los datos del usuario seleccionado."," "),p(8),k("ngModel",e.userForm.username),p(8),k("ngModel",e.userForm.full_name),p(3),I(" ",e.modalMode==="create"?"Contrase\xF1a":"Nueva Contrase\xF1a (opcional)"," "),p(),h("ngIf",e.modalMode==="create"),p(),k("ngModel",e.userForm.password),h("placeholder",e.modalMode==="create"?"M\xEDnimo 6 caracteres":"Dejar vac\xEDo para no cambiar"),p(2),I(" ",e.modalMode==="create"?"M\xEDnimo 6 caracteres":"Dejar vac\xEDo si no desea cambiar la contrase\xF1a"," "),p(4),k("ngModel",e.userForm.id_perfil),p(12),k("ngModel",e.userForm.status),p(5),h("ngIf",e.error),p(2),h("disabled",!e.userForm.username||!e.userForm.full_name||e.modalMode==="create"&&!e.userForm.password),p(),h("ngIf",e.loading),p(),I(" ",e.modalMode==="create"?"Crear Usuario":"Guardar Cambios"," ")}}var Id=class n{constructor(t,e){this.supabaseService=t;this.authService=e}usuarios=[];filteredUsuarios=[];loading=!0;error="";searchTerm="";showModal=!1;modalMode="create";selectedUser=null;userForm={username:"",full_name:"",password:"",status:1,id_perfil:2};statusFilter="all";perfilFilter="all";ngOnInit(){return y(this,null,function*(){console.log("UsuariosComponent inicializado"),yield this.loadUsuarios()})}loadUsuarios(){return y(this,null,function*(){this.loading=!0,this.error="";try{console.log("Cargando usuarios desde la base de datos...");let t=yield this.supabaseService.getData("profiles");console.log("Datos recibidos:",t),this.usuarios=t||[],this.filteredUsuarios=[...this.usuarios],this.applyFilters(),console.log("Usuarios cargados exitosamente:",this.usuarios.length)}catch(t){console.error("Error cargando usuarios:",t),this.error="Error al cargar los usuarios. Verifique la conexi\xF3n a la base de datos."}finally{this.loading=!1}})}applyFilters(){let t=[...this.usuarios];if(this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(r=>r.username?.toLowerCase().includes(e)||r.full_name?.toLowerCase().includes(e))}this.statusFilter==="active"?t=t.filter(e=>e.status===1):this.statusFilter==="inactive"&&(t=t.filter(e=>e.status===0)),this.perfilFilter!=="all"&&(t=t.filter(e=>e.id_perfil===parseInt(this.perfilFilter))),this.filteredUsuarios=t,console.log("Usuarios filtrados:",this.filteredUsuarios.length)}onSearch(){this.applyFilters()}onFilterChange(){this.applyFilters()}openCreateModal(){console.log("Abriendo modal para crear usuario"),this.modalMode="create",this.userForm={username:"",full_name:"",password:"",status:1,id_perfil:2},this.error="",this.showModal=!0}openEditModal(t){console.log("Abriendo modal para editar usuario:",t.username),this.modalMode="edit",this.selectedUser=t,this.userForm=G(P({},t),{password:""}),this.error="",this.showModal=!0}closeModal(){console.log("Cerrando modal"),this.showModal=!1,this.selectedUser=null,this.error=""}saveUser(){return y(this,null,function*(){try{if(console.log("Guardando usuario:",this.userForm),this.error="",!this.userForm.username||!this.userForm.full_name){this.error="Nombre de usuario y nombre completo son requeridos";return}if(this.userForm.username.length<3){this.error="El nombre de usuario debe tener al menos 3 caracteres";return}if(!/^[a-zA-Z0-9_.-]+$/.test(this.userForm.username)){this.error="El nombre de usuario solo puede contener letras, n\xFAmeros, guiones, puntos y guiones bajos";return}if(this.modalMode==="create"){if(!this.userForm.password){this.error="La contrase\xF1a es requerida para crear un usuario";return}if(this.userForm.password.length<6){this.error="La contrase\xF1a debe tener al menos 6 caracteres";return}console.log("Verificando si el username existe...");let e=yield this.supabaseService.client.from("profiles").select("username").eq("username",this.userForm.username);if(e.data&&e.data.length>0){this.error="El nombre de usuario ya existe";return}let r={username:this.userForm.username,full_name:this.userForm.full_name,password:this.userForm.password,status:this.userForm.status,id_perfil:this.userForm.id_perfil};console.log("Creando usuario:",r),yield this.supabaseService.insertData("profiles",r),console.log("Usuario creado exitosamente")}else{let e={username:this.userForm.username,full_name:this.userForm.full_name,status:this.userForm.status,id_perfil:this.userForm.id_perfil};if(this.userForm.password&&this.userForm.password.length>0){if(this.userForm.password.length<6){this.error="La nueva contrase\xF1a debe tener al menos 6 caracteres";return}e.password=this.userForm.password}console.log("Actualizando usuario:",e),yield this.supabaseService.updateData("profiles",this.selectedUser.id.toString(),e),console.log("Usuario actualizado exitosamente")}yield this.loadUsuarios(),this.closeModal()}catch(t){console.error("Error guardando usuario:",t),this.error="Error al guardar el usuario. Intente nuevamente."}})}deactivateUser(t){return y(this,null,function*(){let e=`\xBFEst\xE1 seguro de desactivar al usuario "${t.username}"?`;if(confirm(e))try{console.log("Desactivando usuario:",t.username),yield this.supabaseService.updateData("profiles",t.id.toString(),{status:0}),yield this.loadUsuarios(),console.log("Usuario desactivado exitosamente")}catch(r){console.error("Error desactivando usuario:",r),this.error="Error al desactivar el usuario",setTimeout(()=>this.error="",5e3)}})}reactivateUser(t){return y(this,null,function*(){let e=`\xBFEst\xE1 seguro de reactivar al usuario "${t.username}"?`;if(confirm(e))try{console.log("Reactivando usuario:",t.username),yield this.supabaseService.updateData("profiles",t.id.toString(),{status:1}),yield this.loadUsuarios(),console.log("Usuario reactivado exitosamente")}catch(r){console.error("Error reactivando usuario:",r),this.error="Error al reactivar el usuario",setTimeout(()=>this.error="",5e3)}})}getPerfilName(t){switch(t){case 1:return"Administrador";case 2:return"Usuario";case 3:return"Supervisor";case 4:return"Invitado";default:return"Sin asignar"}}getStatusText(t){return t===1?"Activo":"Inactivo"}getStatusColor(t){return t===1?"green":"red"}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formateando fecha:",e),"Fecha inv\xE1lida"}}getUserInitials(t){if(!t.full_name)return"U";let e=t.full_name.split(" ");return e.length>=2?(e[0].charAt(0)+e[1].charAt(0)).toUpperCase():t.full_name.charAt(0).toUpperCase()}getAvatarColor(t){let e=["bg-indigo-600","bg-green-600","bg-yellow-600","bg-red-600","bg-purple-600","bg-pink-600","bg-blue-600"];if(!t.full_name)return"bg-gray-600";let r=t.full_name.charCodeAt(0);return e[r%e.length]}refreshUsers(){return y(this,null,function*(){console.log("Refrescando lista de usuarios"),yield this.loadUsuarios()})}clearFilters(){console.log("Limpiando filtros"),this.searchTerm="",this.statusFilter="all",this.perfilFilter="all",this.applyFilters()}trackByUserId(t,e){return e.id||t}static \u0275fac=function(e){return new(e||n)(F(We),F(de))};static \u0275cmp=le({type:n,selectors:[["app-usuarios"]],standalone:!1,decls:58,vars:8,consts:[[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"flex","space-x-2"],["title","Refrescar lista",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"bg-white","rounded-lg","shadow","mb-6","p-6"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"md:col-span-2"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","search","type","text","placeholder","Buscar por nombre o usuario...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["for","statusFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","statusFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],["value","all"],["value","active"],["value","inactive"],["for","perfilFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","perfilFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"mt-4","flex","justify-end"],[1,"text-sm","text-indigo-600","hover:text-indigo-800",3,"click"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-6",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-white shadow overflow-hidden sm:rounded-md",4,"ngIf"],["class","fixed inset-0 z-50 overflow-y-auto",4,"ngIf"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-6"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"ml-auto","pl-3"],[1,"text-red-400","hover:text-red-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"bg-white","shadow","overflow-hidden","sm:rounded-md"],[1,"px-4","py-5","sm:px-6","border-b","border-gray-200"],[1,"flex","justify-between","items-center"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors duration-150",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-12",4,"ngIf"],[1,"hover:bg-gray-50","transition-colors","duration-150"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"h-10","w-10","flex-shrink-0"],[1,"text-sm","font-medium","text-white"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-900"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","justify-end","space-x-2"],["title","Editar usuario",1,"text-indigo-600","hover:text-indigo-900","p-1","rounded","hover:bg-indigo-50","transition-colors","duration-150",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["class","text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors duration-150","title","Desactivar usuario",3,"click",4,"ngIf"],["class","text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors duration-150","title","Reactivar usuario",3,"click",4,"ngIf"],["title","Desactivar usuario",1,"text-red-600","hover:text-red-900","p-1","rounded","hover:bg-red-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636"],["title","Reactivar usuario",1,"text-green-600","hover:text-green-900","p-1","rounded","hover:bg-green-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6"],["class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-sm","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mx-auto","flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-indigo-100","sm:mx-0","sm:h-10","sm:w-10"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","w-full"],[1,"mt-2"],[1,"bg-white","px-4","pb-4","sm:px-6"],[1,"space-y-4"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["id","username","type","text","name","username","required","","placeholder","Ej: juan.perez",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mt-1","text-xs","text-gray-500"],["for","fullName",1,"block","text-sm","font-medium","text-gray-700"],["id","fullName","type","text","name","fullName","required","","placeholder","Ej: Juan P\xE9rez Garc\xEDa",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["class","text-red-500",4,"ngIf"],["id","password","type","password","name","password",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["for","perfil",1,"block","text-sm","font-medium","text-gray-700"],["id","perfil","name","perfil",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","status",1,"block","text-sm","font-medium","text-gray-700"],["id","status","name","status",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","0"],["class","mt-4 bg-red-50 border border-red-200 rounded-md p-3",4,"ngIf"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-indigo-600","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:ml-3","sm:w-auto","sm:text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],[1,"mt-4","bg-red-50","border","border-red-200","rounded-md","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),d(5,"Gesti\xF3n de Usuarios"),l(),a(6,"p",4),d(7),l()(),a(8,"div",5)(9,"button",6),E("click",function(){return r.refreshUsers()}),T(),a(10,"svg",7),_(11,"path",8),l(),d(12," Refrescar "),l(),V(),a(13,"button",9),E("click",function(){return r.openCreateModal()}),T(),a(14,"svg",10),_(15,"path",11),l(),d(16," Nuevo Usuario "),l()()()(),V(),a(17,"div",12)(18,"div",13)(19,"div",14)(20,"label",15),d(21," Buscar "),l(),a(22,"div",16)(23,"input",17),A("ngModelChange",function(o){return O(r.searchTerm,o)||(r.searchTerm=o),o}),E("input",function(){return r.onSearch()}),l(),a(24,"div",18),T(),a(25,"svg",19),_(26,"path",20),l()()()(),V(),a(27,"div")(28,"label",21),d(29," Estado "),l(),a(30,"select",22),A("ngModelChange",function(o){return O(r.statusFilter,o)||(r.statusFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(31,"option",23),d(32,"Todos"),l(),a(33,"option",24),d(34,"Activos"),l(),a(35,"option",25),d(36,"Inactivos"),l()()(),a(37,"div")(38,"label",26),d(39," Perfil "),l(),a(40,"select",27),A("ngModelChange",function(o){return O(r.perfilFilter,o)||(r.perfilFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(41,"option",23),d(42,"Todos"),l(),a(43,"option",28),d(44,"Administrador"),l(),a(45,"option",29),d(46,"Usuario"),l(),a(47,"option",30),d(48,"Supervisor"),l(),a(49,"option",31),d(50,"Invitado"),l()()()(),a(51,"div",32)(52,"button",33),E("click",function(){return r.clearFilters()}),d(53," Limpiar filtros "),l()()(),C(54,U3,11,1,"div",34)(55,B3,5,0,"div",35)(56,Y3,26,7,"div",36),l(),C(57,J3,67,15,"div",37)),e&2&&(p(7),I(" Administra los usuarios del sistema - Total: ",r.usuarios.length," "),p(16),k("ngModel",r.searchTerm),p(7),k("ngModel",r.statusFilter),p(10),k("ngModel",r.perfilFilter),p(14),h("ngIf",r.error),p(),h("ngIf",r.loading),p(),h("ngIf",!r.loading),p(),h("ngIf",r.showModal))},dependencies:[yt,Ce,pe,Ye,Xe,et,Ee,Ze,ke,qe,Ue,De,je],encapsulation:2})};var X3=()=>[];function ek(n,t){if(n&1){let e=N();a(0,"div",148)(1,"div",149)(2,"a",150),E("click",function(){x(e);let i=g();return i.scrollToSection("inicio"),w(i.toggleMobileMenu())}),d(3,"Inicio"),l(),a(4,"a",150),E("click",function(){x(e);let i=g();return i.scrollToSection("servicios"),w(i.toggleMobileMenu())}),d(5,"Servicios"),l(),a(6,"a",150),E("click",function(){x(e);let i=g();return i.scrollToSection("nosotros"),w(i.toggleMobileMenu())}),d(7,"Nosotros"),l(),a(8,"a",150),E("click",function(){x(e);let i=g();return i.scrollToSection("planes"),w(i.toggleMobileMenu())}),d(9,"Planes"),l(),a(10,"a",150),E("click",function(){x(e);let i=g();return i.scrollToSection("contacto"),w(i.toggleMobileMenu())}),d(11,"Contacto"),l()()()}}function tk(n,t){if(n&1&&(a(0,"li"),_(1,"i",157),d(2),l()),n&2){let e=t.$implicit;p(2),I("",e," ")}}function nk(n,t){if(n&1){let e=N();a(0,"div",151)(1,"div",152)(2,"div",153),_(3,"i"),l(),a(4,"h3",154),d(5),l(),a(6,"p",45),d(7),l(),a(8,"ul",155),C(9,tk,3,1,"li",135),l(),a(10,"button",156),E("click",function(){let i=x(e).$implicit,o=g();return o.showMoreInfo(i),w(o.trackEvent("service_info","services",i.title))}),d(11," M\xE1s informaci\xF3n \u2192 "),l()()()}if(n&2){let e=t.$implicit,r=t.index;Yi("animation-delay",r*200,"ms"),p(3),be(e.icon+" text-white text-2xl"),p(2),M(e.title),p(2),M(e.description),p(2),h("ngForOf",e.features)}}function rk(n,t){if(n&1&&(a(0,"div",158)(1,"div",152),_(2,"img",159),a(3,"h4",160),d(4),l(),a(5,"p",161),d(6),l(),a(7,"p",162),d(8),l(),a(9,"p",163),d(10),l()()()),n&2){let e=t.$implicit,r=t.index;Yi("animation-delay",(r+1)*300,"ms"),p(2),h("src",e.image,Ot)("alt",e.name),p(2),M(e.name),p(2),M(e.role),p(2),M(e.specialization),p(2),I(" ",e.experience," ")}}function ik(n,t){if(n&1&&(a(0,"div",164),_(1,"img",165),a(2,"p",166),d(3),l(),a(4,"p",167),d(5),l()()),n&2){let e=t.$implicit;p(),h("src",e.image,Ot)("alt",e.name),p(2),M(e.name),p(2),M(e.description)}}function ok(n,t){n&1&&(a(0,"div",177)(1,"span",178),d(2," M\xE1s Popular "),l()())}function sk(n,t){if(n&1&&(a(0,"li",51),_(1,"i",179),a(2,"span",180),d(3),l()()),n&2){let e=t.$implicit;p(3),M(e)}}function ak(n,t){if(n&1){let e=N();a(0,"div"),C(1,ok,3,0,"div",168),a(2,"div",169)(3,"div",152)(4,"h3",170),d(5),l(),a(6,"div",171)(7,"span",172),d(8),l(),a(9,"span",173),d(10),l()(),a(11,"ul",174),C(12,sk,4,1,"li",175),l(),a(13,"button",176),E("click",function(){let i=x(e).$implicit,o=g();return o.selectPlan(i),w(o.trackEvent("plan_selection","pricing",i.name))}),d(14),l()()()()}if(n&2){let e=t.$implicit,r=t.index;be("relative bg-white rounded-2xl shadow-lg border pricing-card card-hover-effect "+(e.popular?"border-blue-500 ring-2 ring-blue-500":"border-gray-200")),Yi("animation-delay",r*200,"ms"),p(),h("ngIf",e.popular),p(4),M(e.name),p(3),M(e.price),p(2),M(e.period),p(2),h("ngForOf",e.features),p(),be("w-full py-3 px-6 rounded-lg font-medium transition-colors "+(e.popular?"bg-blue-600 text-white hover:bg-blue-700 btn-primary":"bg-gray-100 text-gray-900 hover:bg-gray-200")),p(),I(" ",e.buttonText," ")}}function lk(n,t){n&1&&_(0,"i",187)}function ck(n,t){if(n&1&&(a(0,"div",181)(1,"div",125),_(2,"img",182),a(3,"div")(4,"h4",54),d(5),l(),a(6,"p",63),d(7),l(),a(8,"p",183),d(9),l()()(),a(10,"p",184),d(11),l(),a(12,"div",185),C(13,lk,1,0,"i",186),l()()),n&2){let e=t.$implicit,r=t.index;Yi("animation-delay",r*250,"ms"),p(2),h("src",e.image,Ot)("alt",e.name),p(3),M(e.name),p(2),M(e.position),p(2),M(e.company),p(2),I('"',e.testimonial,'"'),p(2),h("ngForOf",Gr(9,X3).constructor(e.rating))}}function dk(n,t){n&1&&(a(0,"span"),_(1,"br"),l())}function uk(n,t){if(n&1){let e=N();a(0,"a",188),E("click",function(){let i=x(e).$implicit,o=g();return w(o.callPhone(i))}),d(1),C(2,dk,2,0,"span",189),l()}if(n&2){let e=t.$implicit,r=t.last;p(),I(" ",e,""),p(),h("ngIf",!r)}}function pk(n,t){n&1&&(a(0,"span"),_(1,"br"),l())}function fk(n,t){if(n&1){let e=N();a(0,"a",188),E("click",function(){let i=x(e).$implicit,o=g();return w(o.sendEmail(i))}),d(1),C(2,pk,2,0,"span",189),l()}if(n&2){let e=t.$implicit,r=t.last;p(),I(" ",e,""),p(),h("ngIf",!r)}}function mk(n,t){if(n&1){let e=N();a(0,"div",190)(1,"h5",191),d(2,"Pr\xF3ximo Webinar Gratuito"),l(),a(3,"p",192),d(4),l(),a(5,"p",193),d(6),l(),a(7,"button",194),E("click",function(){x(e);let i=g();return w(i.registerWebinar())}),d(8," Registrarse gratis \u2192 "),l()()}if(n&2){let e=g();p(4),M(e.getNextWebinar().title),p(2),Me("",e.getNextWebinar().date," a las ",e.getNextWebinar().time,"")}}function hk(n,t){if(n&1&&(a(0,"option",195),d(1),l()),n&2){let e=t.$implicit;h("value",e.title),p(),M(e.title)}}function gk(n,t){n&1&&(a(0,"div",196),_(1,"div")(2,"div")(3,"div")(4,"div"),l())}function vk(n,t){n&1&&_(0,"i",197)}function _k(n,t){if(n&1&&(a(0,"div",202)(1,"p",37),d(2),l()()),n&2){let e=g().$implicit;p(2),M(e.answer)}}function yk(n,t){if(n&1){let e=N();a(0,"div",198)(1,"button",199),E("click",function(){let i=x(e).index,o=g();return w(o.toggleFAQ(i))}),a(2,"span",200),d(3),l(),_(4,"i"),l(),C(5,_k,3,1,"div",201),l()}if(n&2){let e=t.$implicit;p(3),M(e.question),p(),be("fas "+(e.isOpen?"fa-chevron-up":"fa-chevron-down")+" text-gray-400"),p(),h("ngIf",e.isOpen)}}function bk(n,t){if(n&1){let e=N();a(0,"li")(1,"a",203),E("click",function(){x(e);let i=g();return w(i.scrollToSection("servicios"))}),d(2),l()()}if(n&2){let e=t.$implicit;p(2),I(" ",e.title," ")}}function xk(n,t){if(n&1){let e=N();a(0,"a",204),E("click",function(){let i=x(e).$implicit,o=g();return o.openSocialLink(i.url),w(o.trackEvent("social_click","footer",i.name))}),_(1,"i"),l()}if(n&2){let e=t.$implicit;p(),be(e.icon)}}function wk(n,t){if(n&1&&(a(0,"div",205),_(1,"i"),l()),n&2){let e=t.$implicit;p(),be(e.icon+" text-lg")}}var va=class n{constructor(t){this.router=t}services=[{icon:"fas fa-code",title:"Desarrollo de Software",description:"Aplicaciones web y m\xF3viles personalizadas para optimizar tus procesos empresariales.",features:["Desarrollo a medida","Apps m\xF3viles","Sistemas web","APIs y microservicios"]},{icon:"fas fa-cloud",title:"Infraestructura Cloud",description:"Migraci\xF3n y gesti\xF3n de servicios en la nube para mayor escalabilidad y eficiencia.",features:["Migraci\xF3n a la nube","AWS/Azure/GCP","Backup autom\xE1tico","Monitoreo 24/7"]},{icon:"fas fa-shield-alt",title:"Ciberseguridad",description:"Protecci\xF3n integral de tus datos y sistemas contra amenazas digitales.",features:["Auditor\xEDas de seguridad","Firewall avanzado","Antivirus empresarial","Capacitaci\xF3n personal"]},{icon:"fas fa-chart-line",title:"Consultor\xEDa IT",description:"Estrategias tecnol\xF3gicas para optimizar la eficiencia y reducir costos operativos.",features:["An\xE1lisis de procesos","Roadmap tecnol\xF3gico","Optimizaci\xF3n IT","Gesti\xF3n de proyectos"]}];pricingPlans=[{name:"B\xE1sico",price:"Q2,500",period:"por mes",features:["Soporte t\xE9cnico b\xE1sico","Mantenimiento de sistemas","Backup semanal","Consultor\xEDa mensual (2 horas)"],popular:!1,buttonText:"Empezar Ahora"},{name:"Profesional",price:"Q4,500",period:"por mes",features:["Soporte t\xE9cnico prioritario","Monitoreo 24/7","Backup diario","Consultor\xEDa semanal (4 horas)","Actualizaciones autom\xE1ticas","Acceso al portal cliente"],popular:!0,buttonText:"M\xE1s Popular"},{name:"Empresarial",price:"Q8,500",period:"por mes",features:["Soporte t\xE9cnico dedicado","Infraestructura cloud completa","Backup en tiempo real","Consultor\xEDa ilimitada","Desarrollo personalizado","SLA garantizado 99.9%","Account manager asignado"],popular:!1,buttonText:"M\xE1ximo Valor"}];team=[{name:"Ing. Carlos Mendez",role:"Director T\xE9cnico",specialization:"Especialista en Arquitectura de Software",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=300&fit=crop&crop=face",experience:"12 a\xF1os de experiencia"},{name:"Ing. Ana Rodriguez",role:"Especialista en Cloud",specialization:"Certificada AWS Solutions Architect",image:"https://images.unsplash.com/photo-1494790108755-2616b612b65c?w=300&h=300&fit=crop&crop=face",experience:"8 a\xF1os de experiencia"},{name:"Ing. Roberto Garc\xEDa",role:"Experto en Ciberseguridad",specialization:"Certificado CISSP y CEH",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&crop=face",experience:"10 a\xF1os de experiencia"}];isLoading=!1;showMobileMenu=!1;currentYear=new Date().getFullYear();contactInfo={address:{street:"Zona 10, Ciudad de Guatemala",detail:"6a Avenida 12-25, Edificio Torre Internacional",city:"Guatemala, Guatemala"},phones:["+502 2234-5678","+502 5555-1234"],emails:["info@Simplifika.com.gt","ventas@Simplifika.com.gt"],schedule:{weekdays:"Lunes a Viernes: 8:00 AM - 6:00 PM",saturday:"S\xE1bados: 9:00 AM - 1:00 PM",support:"Soporte 24/7 disponible"}};socialLinks=[{name:"LinkedIn",url:"https://www.linkedin.com/company/Simplifika-gt",icon:"fab fa-linkedin-in"},{name:"Twitter",url:"https://twitter.com/Simplifika",icon:"fab fa-twitter"},{name:"Facebook",url:"https://www.facebook.com/Simplifika.gt",icon:"fab fa-facebook-f"}];ngOnInit(){this.initializeComponent(),this.setupAnimations()}initializeComponent(){console.log("Simplifika Landing Component inicializado")}setupAnimations(){if(typeof IntersectionObserver<"u"){let t={threshold:.1,rootMargin:"0px 0px -50px 0px"},e=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&i.target.classList.add("animate-fadeInUp")})},t);setTimeout(()=>{document.querySelectorAll(".service-card, .team-card, .pricing-card").forEach(i=>e.observe(i))},100)}}scrollToSection(t){let e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}goToClientPortal(){this.router.navigate(["/login"])}goToLogin(){this.router.navigate(["/login"])}contactUs(){this.scrollToSection("contacto")}requestConsultation(){this.scrollToSection("contacto")}showMoreInfo(t){let e=`
      ${t.title}
      
      ${t.description}
      
      Caracter\xEDsticas incluidas:
      ${t.features.map(r=>`\u2022 ${r}`).join(`
`)}
      
      \xBFTe interesa este servicio? Cont\xE1ctanos para m\xE1s informaci\xF3n.
    `;alert(e)}getTeamGridClasses(){let t=this.team.length;return t===1?"grid grid-cols-1 justify-items-center":t===2?"grid grid-cols-1 md:grid-cols-2 justify-items-center":t===3?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 justify-items-center":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 justify-items-center"}onSubmitContactForm(t){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1,alert("\xA1Gracias por tu inter\xE9s! Nos pondremos en contacto contigo dentro de las pr\xF3ximas 24 horas."),console.log("Datos del formulario:",t)},2e3)}toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu}requestDevelopmentConsultation(){this.scrollToSection("contacto")}requestCloudConsultation(){this.scrollToSection("contacto")}requestSecurityConsultation(){this.scrollToSection("contacto")}requestITConsultation(){this.scrollToSection("contacto")}selectPlan(t){let e=`
      Has seleccionado el plan ${t.name}
      
      Precio: ${t.price} ${t.period}
      
      Caracter\xEDsticas incluidas:
      ${t.features.map(r=>`\u2022 ${r}`).join(`
`)}
      
      \xBFTe gustar\xEDa proceder con este plan? Nos pondremos en contacto contigo.
    `;confirm(e)&&this.scrollToSection("contacto")}openSocialLink(t){window.open(t,"_blank")}callPhone(t){window.open(`tel:${t}`,"_self")}sendEmail(t){window.open(`mailto:${t}`,"_self")}getStats(){return[{value:"200+",label:"Empresas Transformadas"},{value:"500+",label:"Proyectos Completados"},{value:"99.9%",label:"Uptime Garantizado"},{value:"24/7",label:"Soporte T\xE9cnico"}]}validateContactForm(t){return!t.name||t.name.trim()===""?(alert("Por favor ingresa tu nombre"),!1):!t.email||!this.isValidEmail(t.email)?(alert("Por favor ingresa un email v\xE1lido"),!1):!t.phone||t.phone.trim()===""?(alert("Por favor ingresa tu n\xFAmero de tel\xE9fono"),!1):!t.message||t.message.trim()===""?(alert("Por favor escribe tu mensaje"),!1):!0}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}getTestimonials(){return[{name:"Mar\xEDa Gonz\xE1lez",company:"Empresa ABC",position:"Gerente de IT",testimonial:"Simplifika transform\xF3 completamente nuestra infraestructura. Ahora somos m\xE1s eficientes y seguros.",rating:5,image:"https://images.unsplash.com/photo-1494790108755-2616b612b65c?w=100&h=100&fit=crop&crop=face"},{name:"Carlos Ruiz",company:"StartupXYZ",position:"CEO",testimonial:"El desarrollo de nuestra aplicaci\xF3n m\xF3vil super\xF3 todas nuestras expectativas. Excelente trabajo.",rating:5,image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face"},{name:"Ana Morales",company:"Corporaci\xF3n DEF",position:"Directora de Operaciones",testimonial:"Su soporte 24/7 nos ha dado la tranquilidad que necesit\xE1bamos. Altamente recomendados.",rating:5,image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face"}]}getFAQs(){return[{question:"\xBFQu\xE9 incluye el soporte t\xE9cnico 24/7?",answer:"Nuestro soporte incluye monitoreo continuo de sistemas, resoluci\xF3n de incidencias cr\xEDticas, mantenimiento preventivo y asistencia t\xE9cnica por m\xFAltiples canales.",isOpen:!1},{question:"\xBFCu\xE1nto tiempo toma migrar a la nube?",answer:"El tiempo de migraci\xF3n depende del tama\xF1o y complejidad de su infraestructura. T\xEDpicamente va de 2 a 8 semanas, incluyendo planificaci\xF3n, ejecuci\xF3n y pruebas.",isOpen:!1},{question:"\xBFOfrecen capacitaci\xF3n para nuestro personal?",answer:"S\xED, incluimos capacitaci\xF3n personalizada para su equipo en todas nuestras implementaciones. Tambi\xE9n ofrecemos programas de capacitaci\xF3n continua.",isOpen:!1},{question:"\xBFQu\xE9 garant\xEDas ofrecen en sus servicios?",answer:"Ofrecemos SLA del 99.9% de uptime, garant\xEDa de satisfacci\xF3n en proyectos de desarrollo y soporte t\xE9cnico garantizado seg\xFAn el plan contratado.",isOpen:!1}]}toggleFAQ(t){let e=this.getFAQs();e[t].isOpen=!e[t].isOpen}getCertifications(){return[{name:"AWS Partner",image:"https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=100&h=60&fit=crop",description:"Amazon Web Services Certified Partner"},{name:"Microsoft Azure",image:"https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=100&h=60&fit=crop",description:"Microsoft Azure Solutions Partner"},{name:"Google Cloud",image:"https://images.unsplash.com/photo-1573804633927-bfcbcd909acd?w=100&h=60&fit=crop",description:"Google Cloud Platform Partner"},{name:"ISO 27001",image:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=100&h=60&fit=crop",description:"Gesti\xF3n de Seguridad de la Informaci\xF3n"}]}calculateSavings(t){return{monthly:Math.round(t*.3),yearly:Math.round(t*.3*12),roi:"300%",paybackMonths:6}}scheduleDemonstration(){confirm(`
      \xBFTe gustar\xEDa programar una demostraci\xF3n personalizada?
      
      Nuestro equipo puede mostrarte:
      \u2022 C\xF3mo nuestras soluciones se adaptan a tu empresa
      \u2022 Casos de \xE9xito similares a tu industria
      \u2022 Estimaci\xF3n de costos y beneficios
      \u2022 Roadmap de implementaci\xF3n
      
      La demostraci\xF3n es completamente gratuita y sin compromiso.
    `)&&this.scrollToSection("contacto")}downloadCaseStudy(t){alert(`Descargando caso de estudio para la industria: ${t}`)}subscribeNewsletter(t){if(!this.isValidEmail(t)){alert("Por favor ingresa un email v\xE1lido");return}alert("\xA1Gracias por suscribirte! Recibir\xE1s nuestras actualizaciones tecnol\xF3gicas mensuales."),console.log("Nuevo suscriptor:",t)}getBusinessHours(){return{monday:{open:"08:00",close:"18:00",isOpen:!0},tuesday:{open:"08:00",close:"18:00",isOpen:!0},wednesday:{open:"08:00",close:"18:00",isOpen:!0},thursday:{open:"08:00",close:"18:00",isOpen:!0},friday:{open:"08:00",close:"18:00",isOpen:!0},saturday:{open:"09:00",close:"13:00",isOpen:!0},sunday:{open:"00:00",close:"00:00",isOpen:!1}}}isCurrentlyOpen(){let t=new Date,e=t.getDay(),r=t.getHours()*100+t.getMinutes(),s=this.getBusinessHours()[["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e]];if(!s.isOpen)return!1;let c=parseInt(s.open.replace(":","")),u=parseInt(s.close.replace(":",""));return r>=c&&r<=u}getIndustries(){return[{name:"Finanzas y Banca",icon:"fas fa-university",description:"Soluciones seguras para el sector financiero"},{name:"Healthcare",icon:"fas fa-heartbeat",description:"Tecnolog\xEDa para el cuidado de la salud"},{name:"Retail y E-commerce",icon:"fas fa-shopping-cart",description:"Plataformas de venta online y gesti\xF3n"},{name:"Educaci\xF3n",icon:"fas fa-graduation-cap",description:"Sistemas educativos y e-learning"},{name:"Manufactura",icon:"fas fa-industry",description:"Automatizaci\xF3n y control de procesos"},{name:"Gobierno",icon:"fas fa-landmark",description:"Soluciones para el sector p\xFAblico"}]}getTechnologies(){return[{name:"Angular",icon:"fab fa-angular",category:"Frontend"},{name:"React",icon:"fab fa-react",category:"Frontend"},{name:"Node.js",icon:"fab fa-node-js",category:"Backend"},{name:"Python",icon:"fab fa-python",category:"Backend"},{name:"AWS",icon:"fab fa-aws",category:"Cloud"},{name:"Docker",icon:"fab fa-docker",category:"DevOps"},{name:"Kubernetes",icon:"fas fa-dharmachakra",category:"DevOps"},{name:"MongoDB",icon:"fas fa-database",category:"Database"}]}getFilteredTestimonials(t=4){return this.getTestimonials().filter(e=>e.rating>=t)}ngOnDestroy(){console.log("Simplifika Landing Component destruido")}trackEvent(t,e,r){console.log(`Tracking event - Action: ${t}, Category: ${e}, Label: ${r}`)}getNextWebinar(){return{title:"Transformaci\xF3n Digital para PYMEs",date:"2025-08-15",time:"15:00",duration:"60 minutos",presenter:"Ing. Carlos Mendez",topics:["Estrategias de digitalizaci\xF3n","Herramientas esenciales","Casos de \xE9xito","Sesi\xF3n de Q&A"],registrationUrl:"#contacto"}}registerWebinar(){let t=this.getNextWebinar(),e=`
      Webinar: ${t.title}
      Fecha: ${t.date} a las ${t.time}
      Duraci\xF3n: ${t.duration}
      Presentador: ${t.presenter}
      
      \xBFTe gustar\xEDa registrarte? Es completamente gratuito.
    `;confirm(e)&&(this.scrollToSection("contacto"),this.trackEvent("webinar_registration","engagement",t.title))}static \u0275fac=function(e){return new(e||n)(F(ce))};static \u0275cmp=le({type:n,selectors:[["app-landing"]],standalone:!1,decls:341,vars:33,consts:[["contactForm","ngForm"],["newsletterEmail",""],[1,"min-h-screen","bg-white"],[1,"fixed","top-0","w-full","bg-white/95","backdrop-blur-sm","shadow-sm","z-50","navbar"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-16"],[1,"flex","items-center"],[1,"flex-shrink-0","flex","items-center"],[1,"h-8","w-8","bg-blue-600","rounded-lg","flex","items-center","justify-center","mr-3"],[1,"fas","fa-laptop-code","text-white"],[1,"text-xl","font-bold","text-gray-900"],[1,"hidden","md:block","desktop-menu"],[1,"ml-10","flex","items-baseline","space-x-8"],[1,"text-gray-900","hover:text-blue-600","cursor-pointer","transition-colors","nav-link",3,"click"],[1,"text-gray-700","hover:text-blue-600","cursor-pointer","transition-colors","nav-link",3,"click"],[1,"flex","items-center","space-x-4"],[1,"bg-blue-600","text-white","px-4","py-2","rounded-md","hover:bg-blue-700","transition-colors","btn-primary",3,"click"],[1,"fas","fa-user","mr-2"],[1,"md:hidden","text-gray-600","hover:text-blue-600",3,"click"],[1,"fas","fa-bars","text-xl"],["class","md:hidden bg-white border-t border-gray-200 mobile-menu",4,"ngIf"],["id","inicio",1,"pt-16","bg-gradient-to-br","from-gray-900","via-gray-800","to-black","hero-section"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-20"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-12","items-center"],[1,"slide-in-left"],[1,"text-4xl","md:text-6xl","font-bold","text-white","mb-6","hero-title"],[1,"text-blue-500","gradient-text"],[1,"text-xl","text-gray-300","mb-8","hero-subtitle"],[1,"flex","flex-col","sm:flex-row","gap-4","hero-buttons"],[1,"bg-blue-600","text-white","px-8","py-3","rounded-lg","hover:bg-blue-700","transition-colors","flex","items-center","justify-center","btn-primary",3,"click"],[1,"fas","fa-rocket","mr-2"],[1,"border","border-blue-600","text-blue-500","px-8","py-3","rounded-lg","hover:bg-blue-600","hover:text-white","transition-colors","btn-secondary",3,"click"],[1,"relative","slide-in-right"],[1,"bg-white","rounded-2xl","shadow-2xl","p-8","transform","rotate-3","hover:rotate-0","transition-transform","duration-300","hero-card","image-overlay"],["src","https://images.unsplash.com/photo-1551434678-e076c223a692?w=600&h=400&fit=crop","alt","Equipo tecnol\xF3gico",1,"rounded-xl","w-full","h-64","object-cover"],[1,"mt-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-gray-600"],["id","servicios",1,"py-20","bg-white","section-padding"],[1,"text-center","mb-16"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-900","mb-4","section-title"],[1,"text-xl","text-gray-600","max-w-2xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-8"],["class","bg-gray-50 rounded-xl p-6 hover:shadow-lg transition-shadow duration-300 hover:border-blue-200 border border-transparent service-card card-hover-effect",3,"animation-delay",4,"ngFor","ngForOf"],[1,"text-center","mt-12"],[1,"text-gray-600","mb-4"],[1,"text-blue-600","hover:text-blue-800","font-medium",3,"click"],["id","nosotros",1,"py-20","bg-gray-100","section-padding"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-900","mb-6"],[1,"text-lg","text-gray-600","mb-6"],[1,"space-y-4"],[1,"flex","items-start"],[1,"w-8","h-8","bg-blue-600","rounded-full","flex","items-center","justify-center","mr-4","mt-1"],[1,"fas","fa-certificate","text-white","text-sm"],[1,"font-semibold","text-gray-900"],[1,"fas","fa-clock","text-white","text-sm"],[1,"fas","fa-shield-alt","text-white","text-sm"],[1,"relative"],["src","https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=600&h=500&fit=crop","alt","Equipo de trabajo",1,"rounded-2xl","shadow-2xl","image-overlay"],[1,"absolute","-bottom-6","-left-6","bg-white","rounded-xl","p-6","shadow-lg","stat-counter"],[1,"w-12","h-12","bg-blue-100","rounded-full","flex","items-center","justify-center","mr-4"],[1,"fas","fa-building","text-blue-600","text-xl"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"mt-20"],[1,"text-2xl","md:text-3xl","font-bold","text-gray-900","text-center","mb-12"],[1,"flex","justify-center"],[1,"gap-8","max-w-6xl",3,"ngClass"],["class","bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow border border-gray-200 hover:border-blue-200 team-card card-hover-effect",3,"animation-delay",4,"ngFor","ngForOf"],[1,"text-2xl","font-bold","text-gray-900","text-center","mb-8"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-6"],["class","text-center p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",4,"ngFor","ngForOf"],["id","planes",1,"py-20","bg-white","section-padding"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[3,"class","animation-delay",4,"ngFor","ngForOf"],[1,"text-blue-600","hover:text-blue-800","font-medium","transition-colors",3,"click"],[1,"py-20","bg-gray-50"],["class","bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-200 card-hover-effect",3,"animation-delay",4,"ngFor","ngForOf"],["id","contacto",1,"py-20","bg-gray-100","section-padding"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-12"],[1,"space-y-8"],[1,"w-12","h-12","bg-blue-600","rounded-full","flex","items-center","justify-center","mr-4"],[1,"fas","fa-map-marker-alt","text-white"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"fas","fa-phone","text-white"],["class","hover:text-blue-600 cursor-pointer transition-colors",3,"click",4,"ngFor","ngForOf"],[1,"fas","fa-envelope","text-white"],[1,"fas","fa-clock","text-white"],[1,"mt-8","space-y-4"],[1,"w-full","bg-blue-100","text-blue-800","py-3","px-6","rounded-lg","hover:bg-blue-200","transition-colors",3,"click"],[1,"fas","fa-calendar-alt","mr-2"],["class","bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",4,"ngIf"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","contact-form"],[1,"text-2xl","font-bold","text-gray-900","mb-6"],[1,"space-y-6",3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"form-group"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","name","name","ngModel","","required","","placeholder","Tu nombre completo",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["type","text","name","company","ngModel","","placeholder","Nombre de tu empresa",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["type","email","name","email","ngModel","","required","","placeholder","tu@empresa.com",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["type","tel","name","phone","ngModel","","required","","placeholder","+502 1234-5678",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["name","service","ngModel","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","all"],["name","budget","ngModel","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["value","under-5k"],["value","5k-15k"],["value","15k-50k"],["value","over-50k"],["value","discuss"],["rows","4","name","message","ngModel","","required","","placeholder","Cu\xE9ntanos sobre tu proyecto o necesidades tecnol\xF3gicas...",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","form-input"],["type","checkbox","name","newsletter","ngModel","",1,"mr-2","text-blue-600","focus:ring-blue-500"],["type","submit",3,"disabled"],["class","loading-dots mr-2",4,"ngIf"],["class","fas fa-paper-plane mr-2",4,"ngIf"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-500"],[1,"text-2xl","font-bold","text-gray-900","text-center","mb-12"],[1,"max-w-3xl","mx-auto","space-y-4"],["class","bg-white rounded-lg shadow-sm border border-gray-200",4,"ngFor","ngForOf"],[1,"bg-gray-900","text-white","py-12","footer"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-8"],[1,"flex","items-center","mb-4"],[1,"text-xl","font-bold"],[1,"text-gray-400","mb-4"],[1,"font-semibold","mb-2"],[1,"flex"],["type","email","placeholder","Tu email",1,"flex-1","px-3","py-2","bg-gray-800","border","border-gray-700","rounded-l-md","text-white","text-sm","focus:outline-none","focus:border-blue-500"],[1,"bg-blue-600","hover:bg-blue-700","px-4","py-2","rounded-r-md","transition-colors",3,"click"],[1,"fas","fa-arrow-right"],[1,"font-semibold","mb-4"],[1,"space-y-2","text-gray-400"],[4,"ngFor","ngForOf"],[1,"hover:text-blue-400","transition-colors","cursor-pointer","footer-link",3,"click"],["href","#",1,"hover:text-blue-400","transition-colors","footer-link"],[1,"flex","space-x-4","mb-4"],["class","w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors social-btn cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"mt-6"],[1,"grid","grid-cols-4","gap-2"],["class","text-gray-400 hover:text-blue-400 transition-colors text-center",4,"ngFor","ngForOf"],[1,"border-t","border-gray-800","mt-12","pt-8"],[1,"flex","flex-col","md:flex-row","justify-between","items-center"],[1,"text-gray-400","text-center","md:text-left"],[1,"flex","space-x-6","mt-4","md:mt-0"],["href","#",1,"text-gray-400","hover:text-blue-400","transition-colors","text-sm","footer-link"],[1,"md:hidden","bg-white","border-t","border-gray-200","mobile-menu"],[1,"px-2","pt-2","pb-3","space-y-1"],[1,"block","px-3","py-2","text-gray-700","hover:text-blue-600","cursor-pointer",3,"click"],[1,"bg-gray-50","rounded-xl","p-6","hover:shadow-lg","transition-shadow","duration-300","hover:border-blue-200","border","border-transparent","service-card","card-hover-effect"],[1,"text-center"],[1,"w-16","h-16","bg-blue-600","rounded-full","flex","items-center","justify-center","mx-auto","mb-4","service-icon"],[1,"text-xl","font-semibold","text-gray-900","mb-3"],[1,"text-sm","text-gray-500","space-y-1"],[1,"mt-4","text-blue-600","hover:text-blue-800","font-medium","transition-colors",3,"click"],[1,"fas","fa-check","text-blue-600","mr-2"],[1,"bg-white","rounded-xl","p-8","shadow-lg","hover:shadow-xl","transition-shadow","border","border-gray-200","hover:border-blue-200","team-card","card-hover-effect"],[1,"w-32","h-32","rounded-full","mx-auto","mb-6","object-cover","border-4","border-blue-100","team-avatar",3,"src","alt"],[1,"text-2xl","font-semibold","text-gray-900","mb-2"],[1,"text-blue-600","font-medium","text-lg","mb-3"],[1,"text-gray-600","mb-2"],[1,"text-gray-500","text-sm","bg-gray-50","px-4","py-2","rounded-full","inline-block","team-experience-badge"],[1,"text-center","p-4","bg-white","rounded-lg","shadow-sm","hover:shadow-md","transition-shadow"],[1,"h-12","mx-auto","mb-2","object-contain",3,"src","alt"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],["class","absolute -top-4 left-1/2 transform -translate-x-1/2",4,"ngIf"],[1,"p-8"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"mb-6"],[1,"text-4xl","font-bold","text-blue-600"],[1,"text-gray-600","ml-2"],[1,"space-y-3","mb-8"],["class","flex items-start",4,"ngFor","ngForOf"],[3,"click"],[1,"absolute","-top-4","left-1/2","transform","-translate-x-1/2"],[1,"bg-blue-600","text-white","px-4","py-1","rounded-full","text-sm","font-medium"],[1,"fas","fa-check","text-blue-600","mr-3","mt-1"],[1,"text-gray-700"],[1,"bg-white","rounded-xl","p-6","shadow-lg","hover:shadow-xl","transition-shadow","border","border-gray-200","card-hover-effect"],[1,"w-12","h-12","rounded-full","object-cover","mr-4",3,"src","alt"],[1,"text-sm","text-blue-600"],[1,"text-gray-700","mb-4"],[1,"flex","text-yellow-400"],["class","fas fa-star",4,"ngFor","ngForOf"],[1,"fas","fa-star"],[1,"hover:text-blue-600","cursor-pointer","transition-colors",3,"click"],[4,"ngIf"],[1,"bg-gradient-to-r","from-blue-50","to-indigo-50","p-4","rounded-lg","border","border-blue-200"],[1,"font-semibold","text-gray-900","mb-2"],[1,"text-sm","text-gray-600","mb-2"],[1,"text-xs","text-gray-500","mb-3"],[1,"text-blue-600","hover:text-blue-800","font-medium","text-sm",3,"click"],[3,"value"],[1,"loading-dots","mr-2"],[1,"fas","fa-paper-plane","mr-2"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"w-full","px-6","py-4","text-left","flex","justify-between","items-center","hover:bg-gray-50","transition-colors",3,"click"],[1,"font-medium","text-gray-900"],["class","px-6 pb-4",4,"ngIf"],[1,"px-6","pb-4"],["href","#servicios",1,"hover:text-blue-400","transition-colors","footer-link","cursor-pointer",3,"click"],[1,"w-10","h-10","bg-blue-600","rounded-full","flex","items-center","justify-center","hover:bg-blue-700","transition-colors","social-btn","cursor-pointer",3,"click"],[1,"text-gray-400","hover:text-blue-400","transition-colors","text-center"]],template:function(e,r){if(e&1){let i=N();a(0,"div",2)(1,"nav",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),_(7,"i",9),l(),a(8,"span",10),d(9,"Simplifika"),l()()(),a(10,"div",11)(11,"div",12)(12,"a",13),E("click",function(){return x(i),w(r.scrollToSection("inicio"))}),d(13,"Inicio"),l(),a(14,"a",14),E("click",function(){return x(i),w(r.scrollToSection("servicios"))}),d(15,"Servicios"),l(),a(16,"a",14),E("click",function(){return x(i),w(r.scrollToSection("nosotros"))}),d(17,"Nosotros"),l(),a(18,"a",14),E("click",function(){return x(i),w(r.scrollToSection("planes"))}),d(19,"Planes"),l(),a(20,"a",14),E("click",function(){return x(i),w(r.scrollToSection("contacto"))}),d(21,"Contacto"),l()()(),a(22,"div",15)(23,"button",16),E("click",function(){return x(i),w(r.goToClientPortal())}),_(24,"i",17),d(25,"Portal Cliente "),l(),a(26,"button",18),E("click",function(){return x(i),w(r.toggleMobileMenu())}),_(27,"i",19),l()()(),C(28,ek,12,0,"div",20),l()(),a(29,"section",21)(30,"div",22)(31,"div",23)(32,"div",24)(33,"h1",25),d(34," Transforma tu "),a(35,"span",26),d(36,"Empresa"),l()(),a(37,"p",27),d(38," Soluciones inform\xE1ticas integrales para empresas en Guatemala. Simplificamos tus procesos, optimizamos tu tecnolog\xEDa y aceleramos tu crecimiento digital. "),l(),a(39,"div",28)(40,"button",29),E("click",function(){return x(i),r.requestConsultation(),w(r.trackEvent("consultation_request","hero","primary_cta"))}),_(41,"i",30),d(42," Consulta Gratuita "),l(),a(43,"button",31),E("click",function(){return x(i),w(r.scrollToSection("servicios"))}),d(44," Ver Servicios "),l()()(),a(45,"div",32)(46,"div",33),_(47,"img",34),a(48,"div",35)(49,"h3",36),d(50,"Tecnolog\xEDa de Vanguardia"),l(),a(51,"p",37),d(52,"Soluciones que impulsan tu negocio"),l()()()()()()(),a(53,"section",38)(54,"div",4)(55,"div",39)(56,"h2",40),d(57," Nuestros Servicios "),l(),a(58,"p",41),d(59," Soluciones tecnol\xF3gicas completas para digitalizar y optimizar tu empresa "),l()(),a(60,"div",42),C(61,nk,12,7,"div",43),l(),a(62,"div",44)(63,"p",45),d(64,"\xBFNo encuentras lo que buscas?"),l(),a(65,"button",46),E("click",function(){return x(i),w(r.contactUs())}),d(66," Hablemos sobre tus necesidades espec\xEDficas \u2192 "),l()()()(),a(67,"section",47)(68,"div",4)(69,"div",23)(70,"div")(71,"h2",48),d(72," Qui\xE9nes Somos "),l(),a(73,"p",49),d(74," Simplifika es una empresa especializada en servicios inform\xE1ticos ubicada en Guatemala. Con m\xE1s de 8 a\xF1os de experiencia, ayudamos a empresas a digitalizar sus procesos y alcanzar sus objetivos tecnol\xF3gicos. "),l(),a(75,"div",50)(76,"div",51)(77,"div",52),_(78,"i",53),l(),a(79,"div")(80,"h4",54),d(81,"Expertos Certificados"),l(),a(82,"p",37),d(83,"Nuestro equipo cuenta con certificaciones internacionales en tecnolog\xEDa"),l()()(),a(84,"div",51)(85,"div",52),_(86,"i",55),l(),a(87,"div")(88,"h4",54),d(89,"Soporte 24/7"),l(),a(90,"p",37),d(91,"Brindamos soporte t\xE9cnico continuo para tu tranquilidad"),l()()(),a(92,"div",51)(93,"div",52),_(94,"i",56),l(),a(95,"div")(96,"h4",54),d(97,"Seguridad Garantizada"),l(),a(98,"p",37),d(99,"Implementamos las mejores pr\xE1cticas de ciberseguridad"),l()()()()(),a(100,"div",57),_(101,"img",58),a(102,"div",59)(103,"div",6)(104,"div",60),_(105,"i",61),l(),a(106,"div")(107,"p",62),d(108,"200+"),l(),a(109,"p",63),d(110,"Empresas Transformadas"),l()()()()()(),a(111,"div",64)(112,"h3",65),d(113," Nuestro Equipo "),l(),a(114,"div",66)(115,"div",67),C(116,rk,11,8,"div",68),l()()(),a(117,"div",64)(118,"h3",69),d(119," Nuestras Certificaciones "),l(),a(120,"div",70),C(121,ik,6,4,"div",71),l()()()(),a(122,"section",72)(123,"div",4)(124,"div",39)(125,"h2",73),d(126," Nuestros Planes "),l(),a(127,"p",41),d(128," Soluciones escalables para empresas de todos los tama\xF1os. Invierte en el futuro digital de tu empresa. "),l()(),a(129,"div",74),C(130,ak,15,12,"div",75),l(),a(131,"div",44)(132,"p",45),d(133," \xBFNecesitas una soluci\xF3n personalizada? "),l(),a(134,"button",76),E("click",function(){return x(i),r.contactUs(),w(r.trackEvent("custom_solution_request","pricing"))}),d(135," Cont\xE1ctanos para una consulta gratuita \u2192 "),l()()()(),a(136,"section",77)(137,"div",4)(138,"div",39)(139,"h2",73),d(140," Lo que dicen nuestros clientes "),l(),a(141,"p",41),d(142," Casos de \xE9xito que demuestran el impacto de nuestras soluciones "),l()(),a(143,"div",74),C(144,ck,14,10,"div",78),l()()(),a(145,"section",79)(146,"div",4)(147,"div",39)(148,"h2",73),d(149," Cont\xE1ctanos "),l(),a(150,"p",41),d(151," Estamos listos para transformar tu empresa. Cont\xE1ctanos para una consulta inicial gratuita. "),l(),a(152,"div",35)(153,"span"),_(154,"i"),d(155),l()()(),a(156,"div",80)(157,"div")(158,"div",81)(159,"div",51)(160,"div",82),_(161,"i",83),l(),a(162,"div")(163,"h4",84),d(164,"Direcci\xF3n"),l(),a(165,"p",37),d(166),_(167,"br"),d(168),_(169,"br"),d(170),l()()(),a(171,"div",51)(172,"div",82),_(173,"i",85),l(),a(174,"div")(175,"h4",84),d(176,"Tel\xE9fono"),l(),a(177,"p",37),C(178,uk,3,2,"a",86),l()()(),a(179,"div",51)(180,"div",82),_(181,"i",87),l(),a(182,"div")(183,"h4",84),d(184,"Email"),l(),a(185,"p",37),C(186,fk,3,2,"a",86),l()()(),a(187,"div",51)(188,"div",82),_(189,"i",88),l(),a(190,"div")(191,"h4",84),d(192,"Horarios"),l(),a(193,"p",37),d(194),_(195,"br"),d(196),_(197,"br"),d(198),l()()()(),a(199,"div",89)(200,"button",90),E("click",function(){return x(i),r.scheduleDemonstration(),w(r.trackEvent("demo_request","contact"))}),_(201,"i",91),d(202," Programar Demostraci\xF3n "),l(),C(203,mk,9,3,"div",92),l()(),a(204,"div",93)(205,"h3",94),d(206,"Solicita una consulta"),l(),a(207,"form",95,0),E("ngSubmit",function(){x(i);let s=Fe(208);return w(r.onSubmitContactForm(s.value))}),a(209,"div",96)(210,"div",97)(211,"label",98),d(212,"Nombre *"),l(),_(213,"input",99),l(),a(214,"div",97)(215,"label",98),d(216,"Empresa"),l(),_(217,"input",100),l()(),a(218,"div",97)(219,"label",98),d(220,"Email *"),l(),_(221,"input",101),l(),a(222,"div",97)(223,"label",98),d(224,"Tel\xE9fono *"),l(),_(225,"input",102),l(),a(226,"div",97)(227,"label",98),d(228,"Servicios de inter\xE9s"),l(),a(229,"select",103)(230,"option",104),d(231,"Selecciona un servicio"),l(),C(232,hk,2,2,"option",105),a(233,"option",106),d(234,"Todos los servicios"),l()()(),a(235,"div",97)(236,"label",98),d(237,"Presupuesto estimado"),l(),a(238,"select",107)(239,"option",104),d(240,"Selecciona un rango"),l(),a(241,"option",108),d(242,"Menos de Q5,000"),l(),a(243,"option",109),d(244,"Q5,000 - Q15,000"),l(),a(245,"option",110),d(246,"Q15,000 - Q50,000"),l(),a(247,"option",111),d(248,"M\xE1s de Q50,000"),l(),a(249,"option",112),d(250,"Prefiero discutirlo"),l()()(),a(251,"div",97)(252,"label",98),d(253,"Mensaje *"),l(),_(254,"textarea",113),l(),a(255,"div",97)(256,"label",6),_(257,"input",114),a(258,"span",63),d(259," Suscribirme al newsletter mensual de tendencias tecnol\xF3gicas "),l()()(),a(260,"button",115),C(261,gk,5,0,"div",116)(262,vk,1,0,"i",117),d(263),l()(),a(264,"div",118)(265,"p",119),d(266," Al enviar este formulario, aceptas nuestros t\xE9rminos de privacidad. "),_(267,"br"),d(268,"Respuesta garantizada en menos de 24 horas. "),l()()()(),a(269,"div",64)(270,"h3",120),d(271," Preguntas Frecuentes "),l(),a(272,"div",121),C(273,yk,6,4,"div",122),l()()()(),a(274,"footer",123)(275,"div",4)(276,"div",124)(277,"div")(278,"div",125)(279,"div",8),_(280,"i",9),l(),a(281,"span",126),d(282,"Simplifika"),l()(),a(283,"p",127),d(284," Transformamos empresas a trav\xE9s de la tecnolog\xEDa. Soluciones integrales para el futuro digital de tu negocio. "),l(),a(285,"div",35)(286,"h5",128),d(287,"Newsletter"),l(),a(288,"div",129),_(289,"input",130,1),a(291,"button",131),E("click",function(){x(i);let s=Fe(290);return r.subscribeNewsletter(s.value),w(s.value="")}),_(292,"i",132),l()()()(),a(293,"div")(294,"h4",133),d(295,"Servicios"),l(),a(296,"ul",134),C(297,bk,3,1,"li",135),l()(),a(298,"div")(299,"h4",133),d(300,"Enlaces"),l(),a(301,"ul",134)(302,"li")(303,"a",136),E("click",function(){return x(i),w(r.scrollToSection("inicio"))}),d(304,"Inicio"),l()(),a(305,"li")(306,"a",136),E("click",function(){return x(i),w(r.scrollToSection("nosotros"))}),d(307,"Nosotros"),l()(),a(308,"li")(309,"a",136),E("click",function(){return x(i),w(r.scrollToSection("planes"))}),d(310,"Planes"),l()(),a(311,"li")(312,"a",136),E("click",function(){return x(i),w(r.scrollToSection("contacto"))}),d(313,"Contacto"),l()(),a(314,"li")(315,"a",137),d(316,"Blog"),l()(),a(317,"li")(318,"a",137),d(319,"Casos de \xC9xito"),l()()()(),a(320,"div")(321,"h4",133),d(322,"S\xEDguenos"),l(),a(323,"div",138),C(324,xk,2,2,"a",139),l(),a(325,"div",140)(326,"h5",128),d(327,"Tecnolog\xEDas"),l(),a(328,"div",141),C(329,wk,2,2,"div",142),l()()()(),a(330,"div",143)(331,"div",144)(332,"p",145),d(333),l(),a(334,"div",146)(335,"a",147),d(336,"Pol\xEDtica de Privacidad"),l(),a(337,"a",147),d(338,"T\xE9rminos de Servicio"),l(),a(339,"a",147),d(340,"Cookies"),l()()()()()()()}if(e&2){let i=Fe(208);p(28),h("ngIf",r.showMobileMenu),p(33),h("ngForOf",r.services),p(54),h("ngClass",r.getTeamGridClasses()),p(),h("ngForOf",r.team),p(5),h("ngForOf",r.getCertifications()),p(9),h("ngForOf",r.pricingPlans),p(14),h("ngForOf",r.getFilteredTestimonials()),p(9),be("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+(r.isCurrentlyOpen()?"bg-green-100 text-green-800":"bg-red-100 text-red-800")),p(),be("fas "+(r.isCurrentlyOpen()?"fa-circle text-green-400":"fa-circle text-red-400")+" mr-2"),p(),I(" ",r.isCurrentlyOpen()?"Abierto ahora":"Cerrado - Soporte 24/7 disponible"," "),p(11),I(" ",r.contactInfo.address.street,""),p(2),I(" ",r.contactInfo.address.detail,""),p(2),I(" ",r.contactInfo.address.city," "),p(8),h("ngForOf",r.contactInfo.phones),p(8),h("ngForOf",r.contactInfo.emails),p(8),I(" ",r.contactInfo.schedule.weekdays,""),p(2),I(" ",r.contactInfo.schedule.saturday,""),p(2),I(" ",r.contactInfo.schedule.support," "),p(5),h("ngIf",r.getNextWebinar()),p(29),h("ngForOf",r.services),p(28),be("w-full py-3 px-6 rounded-lg font-medium transition-colors flex items-center justify-center "+(r.isLoading?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700")+" text-white btn-primary"),h("disabled",r.isLoading||!i.valid),p(),h("ngIf",r.isLoading),p(),h("ngIf",!r.isLoading),p(),I(" ",r.isLoading?"Enviando...":"Enviar Solicitud"," "),p(10),h("ngForOf",r.getFAQs()),p(24),h("ngForOf",r.services),p(27),h("ngForOf",r.socialLinks),p(5),h("ngForOf",r.getTechnologies().slice(0,8)),p(4),I(" \xA9 ",r.currentYear," Simplifika. Todos los derechos reservados. ")}},dependencies:[yt,Ce,pe,Ye,Xe,et,Ee,ha,Ze,ke,qe,Ue,De,je],styles:['html[_ngcontent-%COMP%]{scroll-behavior:smooth}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.hero-title[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.hero-subtitle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .2s both}.hero-buttons[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .4s both}.hero-image[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .6s both}.hero-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.service-card[_ngcontent-%COMP%]{transition:all .3s ease}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;border-color:#3b82f6!important}.service-icon[_ngcontent-%COMP%]{transition:all .3s ease}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]{transform:scale(1.1);animation:_ngcontent-%COMP%_pulse 2s infinite}.team-card[_ngcontent-%COMP%]{transition:all .3s ease;max-width:350px}.team-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);border-color:#3b82f6!important}.team-avatar[_ngcontent-%COMP%]{transition:all .3s ease}.team-card[_ngcontent-%COMP%]:hover   .team-avatar[_ngcontent-%COMP%]{transform:scale(1.1)}.team-single[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.team-single[_ngcontent-%COMP%]   .team-avatar[_ngcontent-%COMP%]{width:8rem;height:8rem;border-width:4px}.team-experience-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#e2e8f0);border:1px solid #e2e8f0}.pricing-card[_ngcontent-%COMP%]{transition:all .3s ease}.pricing-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.navbar[_ngcontent-%COMP%]{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.nav-link[_ngcontent-%COMP%]{position:relative;transition:all .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#3b82f6}.nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:0;height:2px;background-color:#3b82f6;transition:width .3s ease}.nav-link[_ngcontent-%COMP%]:hover:after{width:100%}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translateY(-2px);box-shadow:0 10px 20px #3b82f64d}.btn-secondary[_ngcontent-%COMP%]{transition:all .3s ease;border-color:#3b82f6;color:#3b82f6}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#3b82f6;color:#fff;transform:translateY(-2px);box-shadow:0 10px 20px #3b82f64d}.form-input[_ngcontent-%COMP%]{transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.gradient-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#111827)}.gradient-text[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.hero-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#111827,#000)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#3b82f6;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#2563eb}.text-accent[_ngcontent-%COMP%]{color:#3b82f6}.bg-accent[_ngcontent-%COMP%]{background-color:#3b82f6}.border-accent[_ngcontent-%COMP%]{border-color:#3b82f6}.hover-accent[_ngcontent-%COMP%]:hover{color:#3b82f6}@media (max-width: 768px){.hero-title[_ngcontent-%COMP%]{font-size:2.5rem}.section-title[_ngcontent-%COMP%]{font-size:2rem}.mobile-menu[_ngcontent-%COMP%]{display:block}.desktop-menu[_ngcontent-%COMP%]{display:none}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.loading-shimmer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;background:linear-gradient(to right,#f6f7f8,#edeef1 20%,#f6f7f8 40% 100%);background-size:800px 104px}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;background-color:#1f2937;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1;bottom:150%;left:50%;margin-left:-60px;opacity:0;transition:opacity .3s}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.card-shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.card-shadow-xl[_ngcontent-%COMP%]{box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.card-shadow-blue[_ngcontent-%COMP%]:hover{box-shadow:0 20px 25px -5px #3b82f61a,0 10px 10px -5px #3b82f60a}.stat-counter[_ngcontent-%COMP%]{transition:all .3s ease}.stat-counter[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.section-padding[_ngcontent-%COMP%]{padding:5rem 0}@media (max-width: 768px){.section-padding[_ngcontent-%COMP%]{padding:3rem 0}}.image-overlay[_ngcontent-%COMP%]{position:relative;overflow:hidden}.image-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#3b82f61a,#2563eb1a);opacity:0;transition:opacity .3s ease}.image-overlay[_ngcontent-%COMP%]:hover:before{opacity:1}.contact-form[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8fafc)}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.contact-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#374151;margin-bottom:.5rem;display:block}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:1rem;transition:all .3s ease}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .contact-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#111827)}.footer-link[_ngcontent-%COMP%]{transition:all .3s ease}.footer-link[_ngcontent-%COMP%]:hover{color:#93c5fd;transform:translate(4px)}.social-btn[_ngcontent-%COMP%]{transition:all .3s ease}.social-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #3b82f64d}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.focus-visible[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.btn-blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;transition:all .3s ease}.btn-blue[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translateY(-2px);box-shadow:0 8px 16px #3b82f64d}.btn-blue-outline[_ngcontent-%COMP%]{border:2px solid #3b82f6;color:#3b82f6;background:transparent;transition:all .3s ease}.btn-blue-outline[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:translateY(-2px)}.dark-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#111827,#000)}.dark-card[_ngcontent-%COMP%]{background:#1f2937cc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.3)}@media print{.no-print[_ngcontent-%COMP%]{display:none}*[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact!important;color-adjust:exact!important}.card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #e5e7eb}.text-blue-600[_ngcontent-%COMP%], .bg-blue-600[_ngcontent-%COMP%]{color:#3b82f6!important;background-color:#3b82f6!important}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(50px)}to{opacity:1;transform:translate(0)}}.slide-in-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInLeft .8s ease-out}.slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .8s ease-out}.card-hover-effect[_ngcontent-%COMP%]{transition:all .4s cubic-bezier(.25,.8,.25,1);position:relative;overflow:hidden}.card-hover-effect[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.1),transparent);transition:left .6s}.card-hover-effect[_ngcontent-%COMP%]:hover:before{left:100%}.card-hover-effect[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 25px 50px -12px #3b82f640}.loading-dots[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.loading-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:#3b82f6;animation-timing-function:cubic-bezier(0,1,1,0)}.loading-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:_ngcontent-%COMP%_loading-dots1 .6s infinite}.loading-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:_ngcontent-%COMP%_loading-dots2 .6s infinite}.loading-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:_ngcontent-%COMP%_loading-dots2 .6s infinite}.loading-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:_ngcontent-%COMP%_loading-dots3 .6s infinite}@keyframes _ngcontent-%COMP%_loading-dots1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_loading-dots3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes _ngcontent-%COMP%_loading-dots2{0%{transform:translate(0)}to{transform:translate(24px)}}@media (max-width: 640px){.hero-title[_ngcontent-%COMP%]{font-size:2rem;line-height:1.2}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.125rem}.service-card[_ngcontent-%COMP%], .team-card[_ngcontent-%COMP%]{padding:1.5rem}.pricing-card[_ngcontent-%COMP%]{margin-bottom:2rem}}']})};var Ck=()=>["/dashboard"],Ek=()=>({exact:!0}),Nb=n=>[n];function Sk(n,t){if(n&1&&_(0,"i"),n&2){let e=g(2).$implicit;be("flex-shrink-0 w-5 h-5 mr-3 "+e.icono)}}function Mk(n,t){n&1&&(T(),a(0,"svg",10),_(1,"path",40),l())}function Ik(n,t){if(n&1&&(T(),a(0,"svg",41),_(1,"path",42),l()),n&2){let e=g(2).$implicit,r=g();be("w-4 h-4 transition-transform duration-200 "+(r.isModuleExpanded(e.id_modulo)?"transform rotate-90":""))}}function Dk(n,t){if(n&1&&_(0,"i"),n&2){let e=g().$implicit;be("flex-shrink-0 w-4 h-4 mr-3 "+e.icono)}}function Tk(n,t){n&1&&(T(),a(0,"svg",47),_(1,"path",48),l())}function kk(n,t){if(n&1&&(a(0,"a",45),C(1,Dk,1,2,"i",36)(2,Tk,2,0,"svg",46),d(3),l()),n&2){let e=t.$implicit;h("routerLink",bf(4,Nb,e.ruta)),p(),h("ngIf",e.icono),p(),h("ngIf",!e.icono),p(),I(" ",e.nombre," ")}}function Ak(n,t){if(n&1&&(a(0,"div",43),C(1,kk,4,6,"a",44),l()),n&2){let e=g(2).$implicit,r=g();p(),h("ngForOf",r.getFilteredChildren(e))}}function Ok(n,t){if(n&1){let e=N();a(0,"div")(1,"button",35),E("click",function(){x(e);let i=g().$implicit,o=g();return w(o.toggleModule(i.id_modulo))}),C(2,Sk,1,2,"i",36)(3,Mk,2,0,"svg",37),a(4,"span"),d(5),l(),C(6,Ik,2,2,"svg",38),l(),C(7,Ak,2,1,"div",39),l()}if(n&2){let e=g().$implicit,r=g();p(2),h("ngIf",e.icono),p(),h("ngIf",!e.icono),p(),be(r.isSidebarCollapsed?"hidden":"flex-1 text-left"),p(),M(e.nombre),p(),h("ngIf",!r.isSidebarCollapsed),p(),h("ngIf",r.isModuleExpanded(e.id_modulo)&&!r.isSidebarCollapsed)}}function Pk(n,t){if(n&1&&_(0,"i"),n&2){let e=g(2).$implicit;be("flex-shrink-0 w-5 h-5 mr-3 "+e.icono)}}function Fk(n,t){n&1&&(T(),a(0,"svg",10),_(1,"path",40),l())}function Nk(n,t){if(n&1&&(a(0,"a",49),C(1,Pk,1,2,"i",36)(2,Fk,2,0,"svg",37),a(3,"span"),d(4),l()()),n&2){let e=g().$implicit,r=g();h("routerLink",bf(7,Nb,e.ruta)),mn("title",r.isSidebarCollapsed?e.nombre:null),p(),h("ngIf",e.icono),p(),h("ngIf",!e.icono),p(),be(r.isSidebarCollapsed?"hidden":"block"),p(),M(e.nombre)}}function Rk(n,t){if(n&1&&(a(0,"div",8),C(1,Ok,8,7,"div",33)(2,Nk,5,9,"a",34),l()),n&2){let e=t.$implicit,r=g();p(),h("ngIf",e.es_padre&&r.getFilteredChildren(e).length>0),p(),h("ngIf",!e.es_padre||r.getFilteredChildren(e).length===0)}}var Dd=class n{constructor(t,e,r,i){this.authService=t;this.permissionsService=e;this.supabaseService=r;this.router=i}currentUser=null;menuItems=[];isSidebarCollapsed=!1;currentRoute="";expandedModules=new Set;loading=!1;stats={totalUsers:0,activeProjects:23,pendingTasks:47,totalReports:156};subscriptions=new Te;ngOnInit(){return y(this,null,function*(){if(console.log("Layout inicializado"),this.currentUser=this.authService.getCurrentUser(),!this.currentUser){console.log("No hay usuario autenticado, redirigiendo a login"),this.router.navigate(["/login"]);return}yield this.loadUserMenu(),yield this.loadDashboardStats(),this.subscriptions.add(this.router.events.pipe(nt(t=>t instanceof st)).subscribe(t=>{this.currentRoute=t.urlAfterRedirects,console.log("Ruta actual en layout:",this.currentRoute)})),this.currentRoute=this.router.url})}ngOnDestroy(){this.subscriptions.unsubscribe()}loadUserMenu(){return y(this,null,function*(){try{console.log("Cargando men\xFA del usuario en layout..."),this.menuItems=yield this.permissionsService.loadUserMenu(),(!this.menuItems||this.menuItems.length===0)&&(console.log("No se obtuvo men\xFA de la BD, usando men\xFA por defecto"),this.menuItems=this.createDefaultMenu()),this.updateExpandedModules(),console.log("Men\xFA cargado en layout:",this.menuItems)}catch(t){console.error("Error cargando men\xFA:",t),this.menuItems=this.createDefaultMenu(),this.updateExpandedModules()}})}createDefaultMenu(){return[{id_modulo:1,nombre:"Dashboard",descripcion:"Panel principal",icono:"fas fa-tachometer-alt",ruta:"/dashboard",orden:1,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:2,nombre:"Usuarios",descripcion:"Gesti\xF3n de usuarios",icono:"fas fa-users",ruta:"/usuarios",orden:2,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:3,nombre:"Reportes",descripcion:"Sistema de reportes",icono:"fas fa-chart-bar",ruta:"/reportes",orden:3,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1},{id_modulo:4,nombre:"Configuraci\xF3n",descripcion:"Configuraci\xF3n del sistema",icono:"fas fa-cog",ruta:"/configuracion",orden:4,es_padre:!1,modulo_padre_id:null,permisos:["view"],expanded:!1}]}loadDashboardStats(){return y(this,null,function*(){try{let t=yield this.supabaseService.getData("profiles");this.stats.totalUsers=t?.length||0}catch(t){console.error("Error cargando estad\xEDsticas:",t)}})}updateExpandedModules(){this.menuItems.forEach(t=>{t.expanded===void 0&&(t.expanded=!1),t.children&&t.children.forEach(e=>{e.expanded===void 0&&(e.expanded=!1)})})}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed,console.log("Sidebar colapsado:",this.isSidebarCollapsed)}toggleModule(t){this.expandedModules.has(t)?this.expandedModules.delete(t):this.expandedModules.add(t);let e=this.menuItems.find(r=>r.id_modulo===t);e&&(e.expanded=this.expandedModules.has(t))}isModuleExpanded(t){return this.expandedModules.has(t)}getFilteredMenuItems(){return this.menuItems.filter(t=>!t.modulo_padre_id)}getFilteredChildren(t){return t.children?t.children:this.menuItems.filter(e=>e.modulo_padre_id===t.id_modulo)}isRouteActive(t){return!t||t==="#"?!1:this.currentRoute===t||this.currentRoute.startsWith(t+"/")}navigateTo(t){t&&t!=="#"&&(console.log("Navegando a:",t),this.router.navigate([t]))}getUserInitials(){if(!this.currentUser?.full_name)return"U";let t=this.currentUser.full_name.split(" ");return t.length>=2?(t[0].charAt(0)+t[1].charAt(0)).toUpperCase():this.currentUser.full_name.charAt(0).toUpperCase()}getUserRole(){switch(this.currentUser?.id_perfil){case 1:return"Administrador";case 2:return"Usuario";case 3:return"Supervisor";case 4:return"Invitado";default:return"Usuario"}}logout(){console.log("Cerrando sesi\xF3n desde layout"),this.permissionsService.clearUserData(),this.currentUser=null,this.menuItems=[],this.expandedModules.clear(),this.authService.logout()}getPageTitle(){switch(this.currentRoute){case"/dashboard":return"Dashboard";case"/usuarios":return"Gesti\xF3n de Usuarios";case"/reportes":return"Reportes";case"/configuracion":return"Configuraci\xF3n";default:return"Sistema de Gesti\xF3n"}}isDashboardRoute(){return this.currentRoute==="/dashboard"}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inv\xE1lida"}}refreshDashboard(){return y(this,null,function*(){this.loading=!0;try{yield this.loadUserMenu(),yield this.loadDashboardStats(),yield this.permissionsService.loadUserPermissions()}catch(t){console.error("Error refrescando dashboard:",t)}finally{this.loading=!1}})}static \u0275fac=function(e){return new(e||n)(F(de),F(or),F(We),F(ce))};static \u0275cmp=le({type:n,selectors:[["app-layout"]],standalone:!1,decls:48,vars:22,consts:[[1,"min-h-screen","bg-gray-50","flex"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-700"],[1,"text-xl","font-bold"],[1,"text-sm","text-gray-300"],[1,"p-2","rounded-lg","hover:bg-gray-800","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"mt-4","px-2"],[1,"space-y-1"],["routerLinkActive","bg-gray-800 text-white",1,"group","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-colors","duration-200","text-gray-300","hover:bg-gray-800","hover:text-white",3,"routerLink","routerLinkActiveOptions"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"flex-shrink-0","w-5","h-5","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 5a2 2 0 012-2h4a2 2 0 012 2v14l-6-3-6 3V5z"],["class","space-y-1",4,"ngFor","ngForOf"],[1,"absolute","bottom-0","w-full","p-4","border-t","border-gray-700"],[1,"flex-shrink-0"],[1,"h-8","w-8","bg-indigo-600","rounded-full","flex","items-center","justify-center"],[1,"text-xs","font-medium","text-white"],[1,"text-sm","font-medium","text-white","truncate"],[1,"text-xs","text-gray-400","truncate"],["title","Cerrar Sesi\xF3n",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"flex-1","flex","flex-col","overflow-hidden"],[1,"bg-white","shadow-sm","border-b","border-gray-200"],[1,"px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","items-center"],[1,"text-xl","font-semibold","text-gray-900"],[1,"flex","items-center","space-x-4"],[1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","leading-4","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","mr-1"],[1,"flex-1","overflow-auto"],[4,"ngIf"],["routerLinkActive","bg-indigo-600 text-white","class","group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 text-gray-300 hover:bg-gray-800 hover:text-white",3,"routerLink",4,"ngIf"],[1,"group","w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-300","rounded-lg","hover:bg-gray-800","hover:text-white","transition-colors","duration-200",3,"click"],[3,"class",4,"ngIf"],["class","flex-shrink-0 w-5 h-5 mr-3","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"class",4,"ngIf"],["class","ml-6 space-y-1",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 00-2 2v2a2 2 0 002 2m0 0h14"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"ml-6","space-y-1"],["routerLinkActive","bg-indigo-600 text-white","class","group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 text-gray-400 hover:bg-gray-800 hover:text-white",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","bg-indigo-600 text-white",1,"group","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-colors","duration-200","text-gray-400","hover:bg-gray-800","hover:text-white",3,"routerLink"],["class","flex-shrink-0 w-4 h-4 mr-3","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"flex-shrink-0","w-4","h-4","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m3 5.197H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],["routerLinkActive","bg-indigo-600 text-white",1,"group","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-colors","duration-200","text-gray-300","hover:bg-gray-800","hover:text-white",3,"routerLink"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div")(2,"div",1)(3,"div")(4,"h1",2),d(5,"Simplifika"),l(),a(6,"p",3),d(7,"Sistema de Gesti\xF3n"),l()(),a(8,"button",4),E("click",function(){return r.toggleSidebar()}),T(),a(9,"svg",5),_(10,"path",6),l()()(),V(),a(11,"nav",7)(12,"div",8)(13,"a",9),T(),a(14,"svg",10),_(15,"path",11)(16,"path",12),l(),V(),a(17,"span"),d(18,"Dashboard"),l()(),C(19,Rk,3,2,"div",13),l()(),a(20,"div",14)(21,"div")(22,"div",15)(23,"div",16)(24,"span",17),d(25),l()()(),a(26,"div")(27,"p",18),d(28),l(),a(29,"p",19),d(30),l()(),a(31,"button",20),E("click",function(){return r.logout()}),T(),a(32,"svg",21),_(33,"path",22),l()()()()(),V(),a(34,"div",23)(35,"header",24)(36,"div",25)(37,"div",26)(38,"div",27)(39,"h1",28),d(40),l()(),a(41,"div",29)(42,"button",30),E("click",function(){return r.logout()}),T(),a(43,"svg",31),_(44,"path",22),l(),d(45," Cerrar Sesi\xF3n "),l()()()()(),V(),a(46,"main",32),_(47,"router-outlet"),l()()()),e&2&&(p(),be("bg-gray-900 text-white transition-all duration-300 ease-in-out "+(r.isSidebarCollapsed?"w-16":"w-64")),p(2),be(r.isSidebarCollapsed?"hidden":"block"),p(7),mn("d",r.isSidebarCollapsed?"M9 5l7 7-7 7":"M15 19l-7-7 7-7"),p(3),h("routerLink",Gr(20,Ck))("routerLinkActiveOptions",Gr(21,Ek)),p(4),be(r.isSidebarCollapsed?"hidden":"block"),p(2),h("ngForOf",r.getFilteredMenuItems()),p(2),be("flex items-center "+(r.isSidebarCollapsed?"justify-center":"")),p(4),I(" ",r.getUserInitials()," "),p(),be(r.isSidebarCollapsed?"hidden":"ml-3 flex-1"),p(2),I(" ",(r.currentUser==null?null:r.currentUser.full_name)||"Usuario"," "),p(2),I(" ",r.getUserRole()," "),p(),be("ml-2 p-1 rounded-lg hover:bg-gray-800 transition-colors duration-200 "+(r.isSidebarCollapsed?"hidden":"")),p(9),M(r.getPageTitle()))},dependencies:[Ce,pe,Kr,Nn,bm],styles:['.layout-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f9fafb}.sidebar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#111827);transition:width .3s ease-in-out;position:relative;z-index:10}.sidebar-collapsed[_ngcontent-%COMP%]{width:4rem}.sidebar-expanded[_ngcontent-%COMP%]{width:16rem}.nav-item[_ngcontent-%COMP%]{transition:all .2s ease-in-out;border-radius:.5rem}.nav-item[_ngcontent-%COMP%]:hover{background-color:#374151b3;transform:translate(2px)}.nav-item.active[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff}.nav-item.active[_ngcontent-%COMP%]:hover{background-color:#4338ca}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.content-area[_ngcontent-%COMP%]{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch}.main-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.user-section[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:#111827cc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-top:1px solid rgba(75,85,99,.3)}.user-avatar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#7c3aed);transition:transform .2s ease-in-out}.user-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.sidebar-toggle-btn[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.sidebar-toggle-btn[_ngcontent-%COMP%]:hover{background-color:#374151cc;transform:scale(1.05)}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;z-index:50}.sidebar-collapsed[_ngcontent-%COMP%]{transform:translate(-100%)}.main-content[_ngcontent-%COMP%]{margin-left:0}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:40}}.dashboard-card[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;transition:all .2s ease-in-out}.dashboard-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transform:translateY(-1px)}.stat-icon[_ngcontent-%COMP%]{border-radius:.375rem;padding:.75rem}.stat-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.welcome-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#7c3aed);border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.welcome-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;padding:.75rem}.quick-action-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:.5rem;padding:1.5rem;transition:all .2s ease-in-out;cursor:pointer}.quick-action-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transform:translateY(-2px);border-color:#4f46e5}.quick-action-icon[_ngcontent-%COMP%]{border-radius:.5rem;padding:.75rem;margin-bottom:1rem}.logout-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc2626,#b91c1c);transition:all .2s ease-in-out}.logout-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b91c1c,#991b1b);transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.loading-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem;border:2px solid #e5e7eb;border-top:2px solid #4f46e5;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background-color:#1f2937;color:#fff;padding:.5rem;border-radius:.375rem;font-size:.875rem;white-space:nowrap;z-index:100;margin-bottom:.25rem}.tooltip[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;bottom:100%;left:50%;transform:translate(-50%);border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #1f2937;z-index:100}.success-message[_ngcontent-%COMP%]{background-color:#d1fae5;border:1px solid #a7f3d0;color:#065f46;padding:1rem;border-radius:.5rem;margin-bottom:1rem}.error-message[_ngcontent-%COMP%]{background-color:#fee2e2;border:1px solid #fecaca;color:#991b1b;padding:1rem;border-radius:.5rem;margin-bottom:1rem}.user-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.user-info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.user-info-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280}.user-info-value[_ngcontent-%COMP%]{font-size:.875rem;color:#111827}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.transition-smooth[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.shadow-subtle[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.shadow-moderate[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.shadow-strong[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.custom-scrollbar[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#d1d5db #f3f4f6}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f3f4f6;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}@media (max-width: 1024px){.dashboard-stats[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 640px){.dashboard-stats[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%], .user-info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.main-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.welcome-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}']})};var tt={MAX_NOMBRE_LENGTH:255,MIN_ANIO:1950,MAX_ANIO:new Date().getFullYear()+10,NIVELES_IDIOMA:["b\xE1sico","intermedio","avanzado","materno"],TIPOS_PARENTESCO:["padre","madre","hermano","hermana","amigo","familiar","supervisora","supervisor","colega","otro"],MAX_FILE_SIZE:5242880,ALLOWED_FILE_TYPES:["application/pdf"]};var Sr=class n{constructor(t,e){this.supabaseService=t;this.authService=e}createCV(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e?.id)return{success:!1,message:"Usuario no autenticado"};let r=this.validateCV(t);if(!r.isValid)return{success:!1,message:"Datos inv\xE1lidos: "+r.errors.map(s=>s.message).join(", ")};let i={id_profile:e.id,nombre:t.nombre,cv_pdf_url:t.cv_pdf_url||null,educacion:JSON.stringify(t.educacion),experiencia_laboral:JSON.stringify(t.experiencia_laboral),idiomas:JSON.stringify(t.idiomas),cursos_certificaciones_extra:JSON.stringify(t.cursos_certificaciones_extra),contactos_referencias:JSON.stringify(t.contactos_referencias)};console.log("Creando CV:",i);let o=yield this.supabaseService.insertData("cv",i);return o&&o.length>0?{success:!0,message:"CV creado exitosamente",data:this.parseCV(o[0])}:{success:!1,message:"Error al crear el CV"}}catch(e){return console.error("Error creando CV:",e),{success:!1,message:"Error inesperado al crear CV"}}})}updateCV(t,e){return y(this,null,function*(){try{let r=this.authService.getCurrentUser();if(!r?.id)return{success:!1,message:"Usuario no autenticado"};let i=yield this.getCVById(t);if(!i.success||!i.data)return{success:!1,message:"CV no encontrado"};if(i.data.id_profile!==r.id)return{success:!1,message:"No tienes permisos para editar este CV"};let o=this.validateCV(e);if(!o.isValid)return{success:!1,message:"Datos inv\xE1lidos: "+o.errors.map(u=>u.message).join(", ")};let s={nombre:e.nombre,cv_pdf_url:e.cv_pdf_url||null,educacion:JSON.stringify(e.educacion),experiencia_laboral:JSON.stringify(e.experiencia_laboral),idiomas:JSON.stringify(e.idiomas),cursos_certificaciones_extra:JSON.stringify(e.cursos_certificaciones_extra),contactos_referencias:JSON.stringify(e.contactos_referencias)};console.log("Actualizando CV:",t,s);let c=yield this.supabaseService.updateData("cv",t.toString(),s);return c&&c.length>0?{success:!0,message:"CV actualizado exitosamente",data:this.parseCV(c[0])}:{success:!1,message:"Error al actualizar el CV"}}catch(r){return console.error("Error actualizando CV:",r),{success:!1,message:"Error inesperado al actualizar CV"}}})}deleteCV(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e?.id)return{success:!1,message:"Usuario no autenticado"};let r=yield this.getCVById(t);return!r.success||!r.data?{success:!1,message:"CV no encontrado"}:r.data.id_profile!==e.id?{success:!1,message:"No tienes permisos para eliminar este CV"}:(yield this.supabaseService.updateData("cv",t.toString(),{status:0}))?{success:!0,message:"CV eliminado exitosamente"}:{success:!1,message:"Error al eliminar el CV"}}catch(e){return console.error("Error eliminando CV:",e),{success:!1,message:"Error inesperado al eliminar CV"}}})}getUserCVs(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t?.id)return{success:!1,message:"Usuario no autenticado"};console.log("Obteniendo CVs del usuario:",t.id);let{data:e,error:r}=yield this.supabaseService.client.from("cv").select("*").eq("id_profile",t.id).eq("status",1).order("updated_at",{ascending:!1});return r?(console.error("Error obteniendo CVs:",r),{success:!1,message:"Error al obtener CVs"}):{success:!0,message:"CVs obtenidos exitosamente",data:(e||[]).map(o=>this.parseCV(o))}}catch(t){return console.error("Error en getUserCVs:",t),{success:!1,message:"Error inesperado al obtener CVs"}}})}getCVById(t){return y(this,null,function*(){try{let{data:e,error:r}=yield this.supabaseService.client.from("cv").select("*").eq("id",t).eq("status",1).single();return r?(console.error("Error obteniendo CV:",r),{success:!1,message:"CV no encontrado"}):e?{success:!0,message:"CV obtenido exitosamente",data:this.parseCV(e)}:{success:!1,message:"CV no encontrado"}}catch(e){return console.error("Error en getCVById:",e),{success:!1,message:"Error inesperado al obtener CV"}}})}validateCV(t){let e=[];return!t.nombre||t.nombre.trim().length===0?e.push({field:"nombre",message:"El nombre del CV es requerido"}):t.nombre.length>tt.MAX_NOMBRE_LENGTH&&e.push({field:"nombre",message:`El nombre no puede exceder ${tt.MAX_NOMBRE_LENGTH} caracteres`}),t.educacion.forEach((r,i)=>{r.institucion?.trim()||e.push({field:"institucion",message:"La instituci\xF3n es requerida",section:"educacion",index:i}),r.titulo_obtenido?.trim()||e.push({field:"titulo_obtenido",message:"El t\xEDtulo obtenido es requerido",section:"educacion",index:i}),(r.anio_inicio<tt.MIN_ANIO||r.anio_inicio>tt.MAX_ANIO)&&e.push({field:"anio_inicio",message:`A\xF1o de inicio inv\xE1lido (${tt.MIN_ANIO}-${tt.MAX_ANIO})`,section:"educacion",index:i}),r.anio_finalizacion<r.anio_inicio&&e.push({field:"anio_finalizacion",message:"El a\xF1o de finalizaci\xF3n debe ser mayor al a\xF1o de inicio",section:"educacion",index:i})}),t.experiencia_laboral.forEach((r,i)=>{r.institucion?.trim()||e.push({field:"institucion",message:"La instituci\xF3n es requerida",section:"experiencia_laboral",index:i}),r.puesto_ejercido?.trim()||e.push({field:"puesto_ejercido",message:"El puesto ejercido es requerido",section:"experiencia_laboral",index:i}),r.anio_finalizacion<r.anio_inicio&&e.push({field:"anio_finalizacion",message:"El a\xF1o de finalizaci\xF3n debe ser mayor al a\xF1o de inicio",section:"experiencia_laboral",index:i})}),t.idiomas.forEach((r,i)=>{r.idioma?.trim()||e.push({field:"idioma",message:"El idioma es requerido",section:"idiomas",index:i}),tt.NIVELES_IDIOMA.includes(r.nivel)||e.push({field:"nivel",message:"Nivel de idioma inv\xE1lido",section:"idiomas",index:i})}),t.cursos_certificaciones_extra.forEach((r,i)=>{r.nombre_reconocimiento?.trim()||e.push({field:"nombre_reconocimiento",message:"El nombre del reconocimiento es requerido",section:"cursos_certificaciones_extra",index:i}),r.institucion?.trim()||e.push({field:"institucion",message:"La instituci\xF3n es requerida",section:"cursos_certificaciones_extra",index:i})}),t.contactos_referencias.forEach((r,i)=>{r.nombre_apellido?.trim()||e.push({field:"nombre_apellido",message:"El nombre y apellido es requerido",section:"contactos_referencias",index:i}),r.numero_telefonico?.trim()||e.push({field:"numero_telefonico",message:"El n\xFAmero telef\xF3nico es requerido",section:"contactos_referencias",index:i}),tt.TIPOS_PARENTESCO.includes(r.parentesco)||e.push({field:"parentesco",message:"Tipo de parentesco inv\xE1lido",section:"contactos_referencias",index:i})}),{isValid:e.length===0,errors:e}}uploadCVFile(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e?.id)return{success:!1,message:"Usuario no autenticado"};if(t.size>tt.MAX_FILE_SIZE)return{success:!1,message:"El archivo es demasiado grande (m\xE1ximo 5MB)"};if(!tt.ALLOWED_FILE_TYPES.includes(t.type))return{success:!1,message:"Solo se permiten archivos PDF"};let o=`cvs/${`cv-${e.id}-${Date.now()}.pdf`}`,{error:s}=yield this.supabaseService.client.storage.from("cv-files").upload(o,t);if(s)return console.error("Error subiendo archivo:",s),{success:!1,message:"Error al subir el archivo"};let{data:c}=this.supabaseService.client.storage.from("cv-files").getPublicUrl(o);return{success:!0,message:"Archivo subido exitosamente",url:c.publicUrl}}catch(e){return console.error("Error en uploadCVFile:",e),{success:!1,message:"Error inesperado al subir archivo"}}})}deleteCVFile(t){return y(this,null,function*(){try{if(!t)return{success:!0,message:"No hay archivo para eliminar"};let e=t.split("/"),i=`cvs/${e[e.length-1]}`,{error:o}=yield this.supabaseService.client.storage.from("cv-files").remove([i]);return o?(console.error("Error eliminando archivo:",o),{success:!1,message:"Error al eliminar el archivo"}):{success:!0,message:"Archivo eliminado exitosamente"}}catch(e){return console.error("Error en deleteCVFile:",e),{success:!1,message:"Error inesperado al eliminar archivo"}}})}searchCVs(t){return y(this,null,function*(){try{let e=this.supabaseService.client.from("v_cv_search").select("*");t.nombre&&(e=e.ilike("nombre",`%${t.nombre}%`)),t.titulo_educacion&&(e=e.ilike("titulos_educacion",`%${t.titulo_educacion}%`)),t.puesto_experiencia&&(e=e.ilike("puestos_experiencia",`%${t.puesto_experiencia}%`)),t.idioma&&(e=e.ilike("idiomas_disponibles",`%${t.idioma}%`)),t.status!==void 0&&(e=e.eq("status",t.status));let{data:r,error:i}=yield e.order("updated_at",{ascending:!1});return i?(console.error("Error buscando CVs:",i),{success:!1,message:"Error al buscar CVs"}):{success:!0,message:"B\xFAsqueda completada exitosamente",data:r||[]}}catch(e){return console.error("Error en searchCVs:",e),{success:!1,message:"Error inesperado en b\xFAsqueda"}}})}parseCV(t){return{id:t.id,id_profile:t.id_profile,nombre:t.nombre,cv_pdf_url:t.cv_pdf_url,educacion:this.parseJsonField(t.educacion,[]),experiencia_laboral:this.parseJsonField(t.experiencia_laboral,[]),idiomas:this.parseJsonField(t.idiomas,[]),cursos_certificaciones_extra:this.parseJsonField(t.cursos_certificaciones_extra,[]),contactos_referencias:this.parseJsonField(t.contactos_referencias,[]),status:t.status,created_at:t.created_at,updated_at:t.updated_at}}parseJsonField(t,e=[]){if(typeof t=="string")try{return JSON.parse(t)}catch(r){return console.error("Error parsing JSON field:",r),e}return t||e}getAvailableYears(){let t=new Date().getFullYear(),e=[];for(let r=tt.MIN_ANIO;r<=t+5;r++)e.push(r);return e.reverse()}getEmptyEducacion(){return{institucion:"",anio_inicio:new Date().getFullYear(),anio_finalizacion:new Date().getFullYear(),titulo_obtenido:""}}getEmptyExperiencia(){return{institucion:"",anio_inicio:new Date().getFullYear(),anio_finalizacion:new Date().getFullYear(),puesto_ejercido:"",motivo_retiro:""}}getEmptyIdioma(){return{idioma:"",nivel:"b\xE1sico"}}getEmptyCurso(){return{nombre_reconocimiento:"",anio_realizado:new Date().getFullYear(),institucion:""}}getEmptyContacto(){return{nombre_apellido:"",numero_telefonico:"",parentesco:"amigo"}}createEmptyCV(){return{nombre:"",educacion:[],experiencia_laboral:[],idiomas:[],cursos_certificaciones_extra:[],contactos_referencias:[]}}static \u0275fac=function(e){return new(e||n)(U(We),U(de))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function Vk(n,t){if(n&1){let e=N();a(0,"div",26)(1,"div",27),T(),a(2,"svg",28),_(3,"path",29),l(),V(),a(4,"div",30)(5,"p",31),d(6),l()(),a(7,"div",32)(8,"button",33),E("click",function(){x(e);let i=g();return w(i.error="")}),T(),a(9,"svg",34),_(10,"path",35),l()()()()()}if(n&2){let e=g();p(6),M(e.error)}}function Lk(n,t){n&1&&(a(0,"div",36)(1,"div",37),_(2,"div",38),a(3,"p",39),d(4,"Cargando CVs..."),l()()())}function jk(n,t){n&1&&(a(0,"div")(1,"div",72),T(),a(2,"svg",7),_(3,"path",73),l(),d(4," PDF disponible "),l()())}function Uk(n,t){if(n&1){let e=N();a(0,"button",74),E("click",function(){x(e);let i=g().$implicit,o=g(3);return w(o.downloadCV(i))}),T(),a(1,"svg",70),_(2,"path",75),l()()}}function Bk(n,t){if(n&1){let e=N();a(0,"div",49)(1,"div",50)(2,"div",51)(3,"div",14)(4,"h3",52),d(5),l(),a(6,"p",44),d(7),l()(),a(8,"div",53)(9,"span",54),T(),a(10,"svg",55),_(11,"circle",56),l(),d(12," Activo "),l()()()(),V(),a(13,"div",57)(14,"div")(15,"h4",58),d(16,"Educaci\xF3n"),l(),a(17,"p",59),d(18),l()(),a(19,"div")(20,"h4",58),d(21,"Experiencia"),l(),a(22,"p",59),d(23),l()(),a(24,"div")(25,"h4",58),d(26,"Idiomas"),l(),a(27,"p",59),d(28),l()(),C(29,jk,5,0,"div",60),l(),a(30,"div",61)(31,"div",42)(32,"div",5)(33,"button",62),E("click",function(){let i=x(e).$implicit,o=g(3);return w(o.viewCV(i))}),T(),a(34,"svg",63),_(35,"path",64)(36,"path",65),l(),d(37," Ver "),l(),V(),a(38,"button",66),E("click",function(){let i=x(e).$implicit,o=g(3);return w(o.editCV(i))}),T(),a(39,"svg",63),_(40,"path",67),l(),d(41," Editar "),l()(),V(),a(42,"div",5),C(43,Uk,3,0,"button",68),a(44,"button",69),E("click",function(){let i=x(e).$implicit,o=g(3);return w(o.deleteCV(i))}),T(),a(45,"svg",70),_(46,"path",71),l()()()()()()}if(n&2){let e=t.$implicit,r=g(3);p(5),M(e.nombre),p(2),I(" Actualizado: ",r.formatDate(e.updated_at)," "),p(11),M(r.getEducationSummary(e)),p(5),M(r.getExperienceSummary(e)),p(5),M(r.getLanguagesSummary(e)),p(),h("ngIf",e.cv_pdf_url),p(14),h("ngIf",e.cv_pdf_url)}}function $k(n,t){if(n&1&&(a(0,"div",47),C(1,Bk,47,7,"div",48),l()),n&2){let e=g(2);p(),h("ngForOf",e.filteredCVs)("ngForTrackBy",e.trackByCV)}}function Hk(n,t){if(n&1){let e=N();a(0,"button",84),E("click",function(){x(e);let i=g(3);return w(i.createNewCV())}),T(),a(1,"svg",10),_(2,"path",11),l(),d(3," Crear mi primer CV "),l()}}function zk(n,t){if(n&1){let e=N();a(0,"button",85),E("click",function(){x(e);let i=g(3);return w(i.clearSearch())}),d(1," Limpiar b\xFAsqueda "),l()}}function Gk(n,t){if(n&1&&(a(0,"div",76)(1,"div",77),T(),a(2,"svg",78),_(3,"path",73),l(),V(),a(4,"h3",79),d(5,"No tienes CVs"),l(),a(6,"p",80),d(7),l(),a(8,"div",81),C(9,Hk,4,0,"button",82)(10,zk,2,0,"button",83),l()()()),n&2){let e=g(2);p(7),I(" ",e.cvs.length===0?"Comienza creando tu primer curriculum vitae.":"No se encontraron CVs con los filtros aplicados."," "),p(2),h("ngIf",e.cvs.length===0),p(),h("ngIf",e.cvs.length>0)}}function Wk(n,t){if(n&1&&(a(0,"div",40)(1,"div",41)(2,"div",42)(3,"h3",43),d(4),l(),a(5,"span",44),d(6),l()()(),C(7,$k,2,2,"div",45)(8,Gk,11,3,"div",46),l()),n&2){let e=g();p(4),Me(" Mis CVs (",e.filteredCVs.length," de ",e.cvs.length,") "),p(2),Me(" Mostrando ",e.filteredCVs.length," resultado",e.filteredCVs.length!==1?"s":""," "),p(),h("ngIf",e.filteredCVs.length>0),p(),h("ngIf",e.filteredCVs.length===0&&!e.loading)}}var Td=class n{constructor(t,e,r){this.cvService=t;this.authService=e;this.router=r}cvs=[];filteredCVs=[];loading=!0;error="";searchTerm="";currentUser=null;ngOnInit(){return y(this,null,function*(){this.currentUser=this.authService.getCurrentUser(),yield this.loadCVs()})}loadCVs(){return y(this,null,function*(){this.loading=!0,this.error="";try{let t=yield this.cvService.getUserCVs();t.success&&t.data?(this.cvs=t.data,this.filteredCVs=[...this.cvs],console.log("CVs cargados:",this.cvs)):(this.error=t.message,this.cvs=[],this.filteredCVs=[])}catch(t){console.error("Error cargando CVs:",t),this.error="Error al cargar los CVs",this.cvs=[],this.filteredCVs=[]}finally{this.loading=!1}})}onSearch(){if(!this.searchTerm.trim()){this.filteredCVs=[...this.cvs];return}let t=this.searchTerm.toLowerCase();this.filteredCVs=this.cvs.filter(e=>e.nombre.toLowerCase().includes(t))}createNewCV(){this.router.navigate(["/cv/crear"])}editCV(t){this.router.navigate(["/cv/editar",t.id])}viewCV(t){this.router.navigate(["/cv/ver",t.id])}deleteCV(t){return y(this,null,function*(){let e=`\xBFEst\xE1 seguro de eliminar el CV "${t.nombre}"?`;if(confirm(e))try{let r=yield this.cvService.deleteCV(t.id);r.success?(yield this.loadCVs(),console.log("CV eliminado exitosamente")):(this.error=r.message,setTimeout(()=>this.error="",5e3))}catch(r){console.error("Error eliminando CV:",r),this.error="Error al eliminar el CV",setTimeout(()=>this.error="",5e3)}})}downloadCV(t){t.cv_pdf_url?window.open(t.cv_pdf_url,"_blank"):alert("Este CV no tiene archivo PDF asociado")}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inv\xE1lida"}}getEducationSummary(t){return!t.educacion||t.educacion.length===0?"Sin educaci\xF3n registrada":t.educacion.map(r=>r.titulo_obtenido).slice(0,2).join(", ")+(t.educacion.length>2?"...":"")}getExperienceSummary(t){return!t.experiencia_laboral||t.experiencia_laboral.length===0?"Sin experiencia registrada":t.experiencia_laboral.map(r=>r.puesto_ejercido).slice(0,2).join(", ")+(t.experiencia_laboral.length>2?"...":"")}getLanguagesSummary(t){return!t.idiomas||t.idiomas.length===0?"Sin idiomas registrados":t.idiomas.map(r=>r.idioma).slice(0,3).join(", ")+(t.idiomas.length>3?"...":"")}refreshCVs(){return y(this,null,function*(){yield this.loadCVs()})}clearSearch(){this.searchTerm="",this.onSearch()}trackByCV(t,e){return e.id||t}static \u0275fac=function(e){return new(e||n)(F(Sr),F(de),F(ce))};static \u0275cmp=le({type:n,selectors:[["app-cv-list"]],standalone:!1,decls:33,vars:5,consts:[[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"flex","space-x-2"],["title","Refrescar lista",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"bg-white","rounded-lg","shadow","mb-6","p-6"],[1,"flex","items-center","space-x-4"],[1,"flex-1"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","search","type","text","placeholder","Buscar por nombre del CV...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"flex-shrink-0","mt-6"],[1,"text-sm","text-indigo-600","hover:text-indigo-800",3,"click"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-6",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-6"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"ml-auto","pl-3"],[1,"text-red-400","hover:text-red-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"space-y-6"],[1,"bg-white","px-4","py-3","border-b","border-gray-200","rounded-t-lg"],[1,"flex","justify-between","items-center"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["class","text-center py-12",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-200","border","border-gray-200"],[1,"p-6","border-b","border-gray-200"],[1,"flex","items-start","justify-between"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"flex-shrink-0"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"],[1,"p-6","space-y-4"],[1,"text-sm","font-medium","text-gray-700","mb-1"],[1,"text-sm","text-gray-600"],[4,"ngIf"],[1,"px-6","py-4","bg-gray-50","border-t","border-gray-200","rounded-b-lg"],["title","Ver CV completo",1,"text-indigo-600","hover:text-indigo-900","text-sm","font-medium","transition-colors","duration-150",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","inline","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Editar CV",1,"text-green-600","hover:text-green-900","text-sm","font-medium","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["class","text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors duration-150","title","Descargar PDF",3,"click",4,"ngIf"],["title","Eliminar CV",1,"text-red-600","hover:text-red-900","p-1","rounded","hover:bg-red-50","transition-colors","duration-150",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"flex","items-center","text-sm","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["title","Descargar PDF",1,"text-blue-600","hover:text-blue-900","p-1","rounded","hover:bg-blue-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-center","py-12"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6"],["class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-sm","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),d(5,"Mis Curriculum Vitae"),l(),a(6,"p",4),d(7),l()(),a(8,"div",5)(9,"button",6),E("click",function(){return r.refreshCVs()}),T(),a(10,"svg",7),_(11,"path",8),l(),d(12," Refrescar "),l(),V(),a(13,"button",9),E("click",function(){return r.createNewCV()}),T(),a(14,"svg",10),_(15,"path",11),l(),d(16," Nuevo CV "),l()()()(),V(),a(17,"div",12)(18,"div",13)(19,"div",14)(20,"label",15),d(21," Buscar CV "),l(),a(22,"div",16)(23,"input",17),A("ngModelChange",function(o){return O(r.searchTerm,o)||(r.searchTerm=o),o}),E("input",function(){return r.onSearch()}),l(),a(24,"div",18),T(),a(25,"svg",19),_(26,"path",20),l()()()(),V(),a(27,"div",21)(28,"button",22),E("click",function(){return r.clearSearch()}),d(29," Limpiar "),l()()()(),C(30,Vk,11,1,"div",23)(31,Lk,5,0,"div",24)(32,Wk,9,6,"div",25),l()),e&2&&(p(7),I(" Gestiona tus curriculum vitae - Total: ",r.cvs.length," "),p(16),k("ngModel",r.searchTerm),p(7),h("ngIf",r.error),p(),h("ngIf",r.loading),p(),h("ngIf",!r.loading))},dependencies:[Ce,pe,Ee,ke,De],encapsulation:2})};function qk(n,t){n&1&&(a(0,"div",11)(1,"div",12),_(2,"div",13),a(3,"p",14),d(4,"Cargando CV..."),l()()())}function Yk(n,t){if(n&1){let e=N();a(0,"div",38)(1,"div",3)(2,"div",39),T(),a(3,"svg",40),_(4,"path",41),l(),V(),a(5,"div")(6,"p",42),d(7,"Archivo PDF subido"),l(),a(8,"p",43),d(9,"Archivo disponible para descarga"),l()()(),a(10,"div",44)(11,"a",45),d(12," Ver "),l(),a(13,"button",46),E("click",function(){x(e);let i=g(2);return w(i.removeFile())}),d(14," Eliminar "),l()()()()}if(n&2){let e=g(2);p(11),h("href",e.cvForm.cv_pdf_url,Ot)}}function Zk(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function Qk(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function Kk(n,t){if(n&1){let e=N();a(0,"div",47)(1,"button",48),E("click",function(){let i=x(e).index,o=g(2);return w(o.removeEducacion(i))}),T(),a(2,"svg",49),_(3,"path",50),l()(),V(),a(4,"div",51)(5,"div")(6,"label",52),d(7," Instituci\xF3n "),a(8,"span",20),d(9,"*"),l()(),a(10,"input",53),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.institucion,i)||(o.institucion=i),w(i)}),l()(),a(11,"div")(12,"label",52),d(13," T\xEDtulo Obtenido "),a(14,"span",20),d(15,"*"),l()(),a(16,"input",54),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.titulo_obtenido,i)||(o.titulo_obtenido=i),w(i)}),l()(),a(17,"div")(18,"label",52),d(19," A\xF1o de Inicio "),a(20,"span",20),d(21,"*"),l()(),a(22,"select",55),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.anio_inicio,i)||(o.anio_inicio=i),w(i)}),a(23,"option",56),d(24,"Seleccionar a\xF1o"),l(),C(25,Zk,2,2,"option",57),l()(),a(26,"div")(27,"label",52),d(28," A\xF1o de Finalizaci\xF3n "),a(29,"span",20),d(30,"*"),l()(),a(31,"select",55),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.anio_finalizacion,i)||(o.anio_finalizacion=i),w(i)}),a(32,"option",56),d(33,"Seleccionar a\xF1o"),l(),C(34,Qk,2,2,"option",57),l()()()()}if(n&2){let e=t.$implicit,r=t.index,i=g(2);p(6),h("for","edu_institucion_"+r),p(4),h("id","edu_institucion_"+r),k("ngModel",e.institucion),h("name","edu_institucion_"+r),p(2),h("for","edu_titulo_"+r),p(4),h("id","edu_titulo_"+r),k("ngModel",e.titulo_obtenido),h("name","edu_titulo_"+r),p(2),h("for","edu_inicio_"+r),p(4),h("id","edu_inicio_"+r),k("ngModel",e.anio_inicio),h("name","edu_inicio_"+r),p(3),h("ngForOf",i.availableYears),p(2),h("for","edu_fin_"+r),p(4),h("id","edu_fin_"+r),k("ngModel",e.anio_finalizacion),h("name","edu_fin_"+r),p(3),h("ngForOf",i.availableYears)}}function Jk(n,t){n&1&&(a(0,"div",59)(1,"p"),d(2,'No has agregado ninguna educaci\xF3n. Haz clic en "Agregar Educaci\xF3n" para comenzar.'),l()())}function Xk(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function e4(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function t4(n,t){if(n&1){let e=N();a(0,"div",47)(1,"button",60),E("click",function(){let i=x(e).index,o=g(2);return w(o.removeExperiencia(i))}),T(),a(2,"svg",49),_(3,"path",50),l()(),V(),a(4,"div",51)(5,"div")(6,"label",52),d(7," Empresa/Instituci\xF3n "),a(8,"span",20),d(9,"*"),l()(),a(10,"input",61),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.institucion,i)||(o.institucion=i),w(i)}),l()(),a(11,"div")(12,"label",52),d(13," Puesto Ejercido "),a(14,"span",20),d(15,"*"),l()(),a(16,"input",62),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.puesto_ejercido,i)||(o.puesto_ejercido=i),w(i)}),l()(),a(17,"div")(18,"label",52),d(19," A\xF1o de Inicio "),a(20,"span",20),d(21,"*"),l()(),a(22,"select",55),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.anio_inicio,i)||(o.anio_inicio=i),w(i)}),a(23,"option",56),d(24,"Seleccionar a\xF1o"),l(),C(25,Xk,2,2,"option",57),l()(),a(26,"div")(27,"label",52),d(28," A\xF1o de Finalizaci\xF3n "),a(29,"span",20),d(30,"*"),l()(),a(31,"select",55),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.anio_finalizacion,i)||(o.anio_finalizacion=i),w(i)}),a(32,"option",56),d(33,"Seleccionar a\xF1o"),l(),C(34,e4,2,2,"option",57),l()(),a(35,"div",63)(36,"label",52),d(37," Motivo de Retiro "),l(),a(38,"input",64),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.motivo_retiro,i)||(o.motivo_retiro=i),w(i)}),l()()()()}if(n&2){let e=t.$implicit,r=t.index,i=g(2);p(6),h("for","exp_institucion_"+r),p(4),h("id","exp_institucion_"+r),k("ngModel",e.institucion),h("name","exp_institucion_"+r),p(2),h("for","exp_puesto_"+r),p(4),h("id","exp_puesto_"+r),k("ngModel",e.puesto_ejercido),h("name","exp_puesto_"+r),p(2),h("for","exp_inicio_"+r),p(4),h("id","exp_inicio_"+r),k("ngModel",e.anio_inicio),h("name","exp_inicio_"+r),p(3),h("ngForOf",i.availableYears),p(2),h("for","exp_fin_"+r),p(4),h("id","exp_fin_"+r),k("ngModel",e.anio_finalizacion),h("name","exp_fin_"+r),p(3),h("ngForOf",i.availableYears),p(2),h("for","exp_motivo_"+r),p(2),h("id","exp_motivo_"+r),k("ngModel",e.motivo_retiro),h("name","exp_motivo_"+r)}}function n4(n,t){n&1&&(a(0,"div",59)(1,"p"),d(2,'No has agregado ninguna experiencia laboral. Haz clic en "Agregar Experiencia" para comenzar.'),l()())}function r4(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit,r=g(3);h("value",e),p(),M(r.capitalize(e))}}function i4(n,t){if(n&1){let e=N();a(0,"div",47)(1,"button",65),E("click",function(){let i=x(e).index,o=g(2);return w(o.removeIdioma(i))}),T(),a(2,"svg",49),_(3,"path",50),l()(),V(),a(4,"div",51)(5,"div")(6,"label",52),d(7," Idioma "),a(8,"span",20),d(9,"*"),l()(),a(10,"input",66),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.idioma,i)||(o.idioma=i),w(i)}),l()(),a(11,"div")(12,"label",52),d(13," Nivel "),a(14,"span",20),d(15,"*"),l()(),a(16,"select",55),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.nivel,i)||(o.nivel=i),w(i)}),a(17,"option",56),d(18,"Seleccionar nivel"),l(),C(19,r4,2,2,"option",57),l()()()()}if(n&2){let e=t.$implicit,r=t.index,i=g(2);p(6),h("for","idioma_nombre_"+r),p(4),h("id","idioma_nombre_"+r),k("ngModel",e.idioma),h("name","idioma_nombre_"+r),p(2),h("for","idioma_nivel_"+r),p(4),h("id","idioma_nivel_"+r),k("ngModel",e.nivel),h("name","idioma_nivel_"+r),p(3),h("ngForOf",i.nivelesIdioma)}}function o4(n,t){n&1&&(a(0,"div",59)(1,"p"),d(2,'No has agregado ning\xFAn idioma. Haz clic en "Agregar Idioma" para comenzar.'),l()())}function s4(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function a4(n,t){if(n&1){let e=N();a(0,"div",47)(1,"button",67),E("click",function(){let i=x(e).index,o=g(2);return w(o.removeCurso(i))}),T(),a(2,"svg",49),_(3,"path",50),l()(),V(),a(4,"div",68)(5,"div")(6,"label",52),d(7," Nombre del Curso/Certificaci\xF3n "),a(8,"span",20),d(9,"*"),l()(),a(10,"input",69),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.nombre_reconocimiento,i)||(o.nombre_reconocimiento=i),w(i)}),l()(),a(11,"div")(12,"label",52),d(13," Instituci\xF3n "),a(14,"span",20),d(15,"*"),l()(),a(16,"input",70),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.institucion,i)||(o.institucion=i),w(i)}),l()(),a(17,"div")(18,"label",52),d(19," A\xF1o Realizado "),a(20,"span",20),d(21,"*"),l()(),a(22,"select",55),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.anio_realizado,i)||(o.anio_realizado=i),w(i)}),a(23,"option",56),d(24,"Seleccionar a\xF1o"),l(),C(25,s4,2,2,"option",57),l()()()()}if(n&2){let e=t.$implicit,r=t.index,i=g(2);p(6),h("for","curso_nombre_"+r),p(4),h("id","curso_nombre_"+r),k("ngModel",e.nombre_reconocimiento),h("name","curso_nombre_"+r),p(2),h("for","curso_institucion_"+r),p(4),h("id","curso_institucion_"+r),k("ngModel",e.institucion),h("name","curso_institucion_"+r),p(2),h("for","curso_anio_"+r),p(4),h("id","curso_anio_"+r),k("ngModel",e.anio_realizado),h("name","curso_anio_"+r),p(3),h("ngForOf",i.availableYears)}}function l4(n,t){n&1&&(a(0,"div",59)(1,"p"),d(2,'No has agregado ning\xFAn curso o certificaci\xF3n. Haz clic en "Agregar Curso/Certificaci\xF3n" para comenzar.'),l()())}function c4(n,t){if(n&1&&(a(0,"option",58),d(1),l()),n&2){let e=t.$implicit,r=g(3);h("value",e),p(),M(r.capitalize(e))}}function d4(n,t){if(n&1){let e=N();a(0,"div",47)(1,"button",71),E("click",function(){let i=x(e).index,o=g(2);return w(o.removeContacto(i))}),T(),a(2,"svg",49),_(3,"path",50),l()(),V(),a(4,"div",68)(5,"div")(6,"label",52),d(7," Nombre y Apellido "),a(8,"span",20),d(9,"*"),l()(),a(10,"input",72),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.nombre_apellido,i)||(o.nombre_apellido=i),w(i)}),l()(),a(11,"div")(12,"label",52),d(13," N\xFAmero Telef\xF3nico "),a(14,"span",20),d(15,"*"),l()(),a(16,"input",73),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.numero_telefonico,i)||(o.numero_telefonico=i),w(i)}),l()(),a(17,"div")(18,"label",52),d(19," Parentesco/Relaci\xF3n "),a(20,"span",20),d(21,"*"),l()(),a(22,"select",55),A("ngModelChange",function(i){let o=x(e).$implicit;return O(o.parentesco,i)||(o.parentesco=i),w(i)}),a(23,"option",56),d(24,"Seleccionar relaci\xF3n"),l(),C(25,c4,2,2,"option",57),l()()()()}if(n&2){let e=t.$implicit,r=t.index,i=g(2);p(6),h("for","contacto_nombre_"+r),p(4),h("id","contacto_nombre_"+r),k("ngModel",e.nombre_apellido),h("name","contacto_nombre_"+r),p(2),h("for","contacto_telefono_"+r),p(4),h("id","contacto_telefono_"+r),k("ngModel",e.numero_telefonico),h("name","contacto_telefono_"+r),p(2),h("for","contacto_parentesco_"+r),p(4),h("id","contacto_parentesco_"+r),k("ngModel",e.parentesco),h("name","contacto_parentesco_"+r),p(3),h("ngForOf",i.tiposParentesco)}}function u4(n,t){n&1&&(a(0,"div",59)(1,"p"),d(2,'No has agregado ning\xFAn contacto de referencia. Haz clic en "Agregar Contacto" para comenzar.'),l()())}function p4(n,t){if(n&1&&(a(0,"div",74)(1,"div",75),T(),a(2,"svg",76),_(3,"path",77),l(),V(),a(4,"div",78)(5,"p",79),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.error)}}function f4(n,t){if(n&1&&(a(0,"div",80)(1,"div",75),T(),a(2,"svg",81),_(3,"path",82),l(),V(),a(4,"div",78)(5,"p",83),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.successMessage)}}function m4(n,t){n&1&&_(0,"div",84)}function h4(n,t){if(n&1){let e=N();a(0,"div")(1,"form",15,0),E("ngSubmit",function(){x(e);let i=g();return w(i.onSubmit())}),a(3,"div",16)(4,"h2",17),d(5,"Informaci\xF3n B\xE1sica"),l(),a(6,"div",18)(7,"div")(8,"label",19),d(9," Nombre del CV "),a(10,"span",20),d(11,"*"),l()(),a(12,"input",21),A("ngModelChange",function(i){x(e);let o=g();return O(o.cvForm.nombre,i)||(o.cvForm.nombre=i),w(i)}),l()(),a(13,"div"),C(14,Yk,15,1,"div",22),l()()(),a(15,"div",16)(16,"div",23)(17,"h2",24),d(18,"Educaci\xF3n"),l(),a(19,"button",25),E("click",function(){x(e);let i=g();return w(i.addEducacion())}),T(),a(20,"svg",26),_(21,"path",27),l(),d(22," Agregar Educaci\xF3n "),l()(),V(),a(23,"div",28),C(24,Kk,35,18,"div",29)(25,Jk,3,0,"div",30),l()(),a(26,"div",16)(27,"div",23)(28,"h2",24),d(29,"Experiencia Laboral"),l(),a(30,"button",25),E("click",function(){x(e);let i=g();return w(i.addExperiencia())}),T(),a(31,"svg",26),_(32,"path",27),l(),d(33," Agregar Experiencia "),l()(),V(),a(34,"div",28),C(35,t4,39,22,"div",29)(36,n4,3,0,"div",30),l()(),a(37,"div",16)(38,"div",23)(39,"h2",24),d(40,"Idiomas"),l(),a(41,"button",25),E("click",function(){x(e);let i=g();return w(i.addIdioma())}),T(),a(42,"svg",26),_(43,"path",27),l(),d(44," Agregar Idioma "),l()(),V(),a(45,"div",31),C(46,i4,20,9,"div",29)(47,o4,3,0,"div",30),l()(),a(48,"div",16)(49,"div",23)(50,"h2",24),d(51,"Cursos y Certificaciones"),l(),a(52,"button",25),E("click",function(){x(e);let i=g();return w(i.addCurso())}),T(),a(53,"svg",26),_(54,"path",27),l(),d(55," Agregar Curso/Certificaci\xF3n "),l()(),V(),a(56,"div",31),C(57,a4,26,13,"div",29)(58,l4,3,0,"div",30),l()(),a(59,"div",16)(60,"div",23)(61,"h2",24),d(62,"Contactos y Referencias"),l(),a(63,"button",25),E("click",function(){x(e);let i=g();return w(i.addContacto())}),T(),a(64,"svg",26),_(65,"path",27),l(),d(66," Agregar Contacto "),l()(),V(),a(67,"div",31),C(68,d4,26,13,"div",29)(69,u4,3,0,"div",30),l()(),C(70,p4,7,1,"div",32)(71,f4,7,1,"div",33),a(72,"div",34)(73,"button",35),E("click",function(){x(e);let i=g();return w(i.cancel())}),d(74," Cancelar "),l(),a(75,"button",36),C(76,m4,1,0,"div",37),d(77),l()()()()}if(n&2){let e=Fe(2),r=g();p(12),k("ngModel",r.cvForm.nombre),p(2),h("ngIf",r.cvForm.cv_pdf_url),p(10),h("ngForOf",r.cvForm.educacion)("ngForTrackBy",r.trackByIndex),p(),h("ngIf",r.cvForm.educacion.length===0),p(10),h("ngForOf",r.cvForm.experiencia_laboral)("ngForTrackBy",r.trackByIndex),p(),h("ngIf",r.cvForm.experiencia_laboral.length===0),p(10),h("ngForOf",r.cvForm.idiomas)("ngForTrackBy",r.trackByIndex),p(),h("ngIf",r.cvForm.idiomas.length===0),p(10),h("ngForOf",r.cvForm.cursos_certificaciones_extra)("ngForTrackBy",r.trackByIndex),p(),h("ngIf",r.cvForm.cursos_certificaciones_extra.length===0),p(10),h("ngForOf",r.cvForm.contactos_referencias)("ngForTrackBy",r.trackByIndex),p(),h("ngIf",r.cvForm.contactos_referencias.length===0),p(),h("ngIf",r.error),p(),h("ngIf",r.successMessage),p(4),h("disabled",r.loading||!e.form.valid),p(),h("ngIf",r.loading),p(),I(" ",r.getSubmitButtonText()," ")}}var fi=class n{constructor(t,e,r,i){this.cvService=t;this.authService=e;this.route=r;this.router=i;this.cvForm=this.cvService.createEmptyCV(),this.availableYears=this.cvService.getAvailableYears()}cvForm;loading=!1;error="";successMessage="";isEditMode=!1;cvId=null;currentUser=null;nivelesIdioma=[...tt.NIVELES_IDIOMA];tiposParentesco=[...tt.TIPOS_PARENTESCO];availableYears=[];selectedFile=null;uploadingFile=!1;ngOnInit(){return y(this,null,function*(){this.currentUser=this.authService.getCurrentUser();let t=this.route.snapshot.params.id;t&&(this.isEditMode=!0,this.cvId=parseInt(t),yield this.loadCV())})}loadCV(){return y(this,null,function*(){if(this.cvId){this.loading=!0,this.error="";try{let t=yield this.cvService.getCVById(this.cvId);t.success&&t.data?this.cvForm={nombre:t.data.nombre,cv_pdf_url:t.data.cv_pdf_url,educacion:t.data.educacion||[],experiencia_laboral:t.data.experiencia_laboral||[],idiomas:t.data.idiomas||[],cursos_certificaciones_extra:t.data.cursos_certificaciones_extra||[],contactos_referencias:t.data.contactos_referencias||[]}:this.error=t.message}catch(t){console.error("Error cargando CV:",t),this.error="Error al cargar el CV"}finally{this.loading=!1}}})}onSubmit(){return y(this,null,function*(){this.loading=!0,this.error="",this.successMessage="";try{let t;this.isEditMode&&this.cvId?t=yield this.cvService.updateCV(this.cvId,this.cvForm):t=yield this.cvService.createCV(this.cvForm),t.success?(this.successMessage=t.message,setTimeout(()=>{this.router.navigate(["/cv/mis-cvs"])},2e3)):this.error=t.message}catch(t){console.error("Error guardando CV:",t),this.error="Error inesperado al guardar el CV"}finally{this.loading=!1}})}addEducacion(){this.cvForm.educacion.push(this.cvService.getEmptyEducacion())}removeEducacion(t){confirm("\xBFEst\xE1 seguro de eliminar esta educaci\xF3n?")&&this.cvForm.educacion.splice(t,1)}addExperiencia(){this.cvForm.experiencia_laboral.push(this.cvService.getEmptyExperiencia())}removeExperiencia(t){confirm("\xBFEst\xE1 seguro de eliminar esta experiencia laboral?")&&this.cvForm.experiencia_laboral.splice(t,1)}addIdioma(){this.cvForm.idiomas.push(this.cvService.getEmptyIdioma())}removeIdioma(t){confirm("\xBFEst\xE1 seguro de eliminar este idioma?")&&this.cvForm.idiomas.splice(t,1)}addCurso(){this.cvForm.cursos_certificaciones_extra.push(this.cvService.getEmptyCurso())}removeCurso(t){confirm("\xBFEst\xE1 seguro de eliminar este curso/certificaci\xF3n?")&&this.cvForm.cursos_certificaciones_extra.splice(t,1)}addContacto(){this.cvForm.contactos_referencias.push(this.cvService.getEmptyContacto())}removeContacto(t){confirm("\xBFEst\xE1 seguro de eliminar este contacto de referencia?")&&this.cvForm.contactos_referencias.splice(t,1)}onFileSelected(t){let e=t.target.files[0];if(e){if(e.size>tt.MAX_FILE_SIZE){this.error=`El archivo es demasiado grande. M\xE1ximo ${tt.MAX_FILE_SIZE/1024/1024}MB.`;return}if(!tt.ALLOWED_FILE_TYPES.includes(e.type)){this.error="Solo se permiten archivos PDF.";return}this.selectedFile=e,this.error=""}}uploadFile(){return y(this,null,function*(){if(this.selectedFile){this.uploadingFile=!0,this.error="";try{let t=yield this.cvService.uploadCVFile(this.selectedFile);t.success&&t.url?(this.cvForm.cv_pdf_url=t.url,this.selectedFile=null,this.successMessage="Archivo subido exitosamente",setTimeout(()=>this.successMessage="",3e3)):this.error=t.message}catch(t){console.error("Error subiendo archivo:",t),this.error="Error al subir el archivo"}finally{this.uploadingFile=!1}}})}removeFile(){return y(this,null,function*(){if(this.cvForm.cv_pdf_url&&confirm("\xBFEst\xE1 seguro de eliminar el archivo PDF?"))try{yield this.cvService.deleteCVFile(this.cvForm.cv_pdf_url),this.cvForm.cv_pdf_url=void 0,this.successMessage="Archivo eliminado exitosamente",setTimeout(()=>this.successMessage="",3e3)}catch(t){console.error("Error eliminando archivo:",t),this.error="Error al eliminar el archivo"}})}cancel(){confirm("\xBFEst\xE1 seguro de cancelar? Se perder\xE1n los cambios no guardados.")&&this.router.navigate(["/cv/mis-cvs"])}getPageTitle(){return this.isEditMode?"Editar CV":"Crear Nuevo CV"}getSubmitButtonText(){return this.loading?this.isEditMode?"Actualizando...":"Creando...":this.isEditMode?"Actualizar CV":"Crear CV"}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}validateYears(t,e){return e>=t}trackByIndex(t){return t}static \u0275fac=function(e){return new(e||n)(F(Sr),F(de),F(Zt),F(ce))};static \u0275cmp=le({type:n,selectors:[["app-cv-form"]],standalone:!1,decls:14,vars:4,consts:[["cvFormElement","ngForm"],[1,"max-w-4xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],["class","flex justify-center items-center h-64",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"space-y-8",3,"ngSubmit"],[1,"bg-white","shadow","rounded-lg","p-6"],[1,"text-xl","font-semibold","text-gray-900","mb-6"],[1,"grid","grid-cols-1","gap-6"],["for","nombre",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["id","nombre","type","text","name","nombre","required","","maxlength","255","placeholder","Ej: CV - Juan P\xE9rez - Desarrollador",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["class","mb-4 p-4 bg-green-50 border border-green-200 rounded-md",4,"ngIf"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-semibold","text-gray-900"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-indigo-700","bg-indigo-100","hover:bg-indigo-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-0.5","mr-2","h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"space-y-6"],["class","border border-gray-200 rounded-lg p-4 relative",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-6 text-gray-500",4,"ngIf"],[1,"space-y-4"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],["class","bg-green-50 border border-green-200 rounded-md p-4",4,"ngIf"],[1,"flex","justify-end","space-x-3","pt-6","border-t","border-gray-200"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","submit",1,"inline-flex","justify-center","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2",4,"ngIf"],[1,"mb-4","p-4","bg-green-50","border","border-green-200","rounded-md"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-green-600","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","font-medium","text-green-800"],[1,"text-xs","text-green-600"],[1,"flex","space-x-2"],["target","_blank",1,"text-green-600","hover:text-green-800","text-sm","font-medium",3,"href"],["type","button",1,"text-red-600","hover:text-red-800","text-sm","font-medium",3,"click"],[1,"border","border-gray-200","rounded-lg","p-4","relative"],["type","button","title","Eliminar educaci\xF3n",1,"absolute","top-2","right-2","text-red-600","hover:text-red-800",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1",3,"for"],["type","text","required","","placeholder","Ej: Universidad de San Carlos",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","text","required","","placeholder","Ej: Ingenier\xEDa en Sistemas",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["required","",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-center","py-6","text-gray-500"],["type","button","title","Eliminar experiencia",1,"absolute","top-2","right-2","text-red-600","hover:text-red-800",3,"click"],["type","text","required","","placeholder","Ej: Tech Solutions GT",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","text","required","","placeholder","Ej: Desarrollador Full Stack",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],[1,"md:col-span-2"],["type","text","placeholder","Ej: B\xFAsqueda de crecimiento profesional",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","button","title","Eliminar idioma",1,"absolute","top-2","right-2","text-red-600","hover:text-red-800",3,"click"],["type","text","required","","placeholder","Ej: Ingl\xE9s",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","button","title","Eliminar curso/certificaci\xF3n",1,"absolute","top-2","right-2","text-red-600","hover:text-red-800",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["type","text","required","","placeholder","Ej: Certificaci\xF3n AWS Solutions Architect",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","text","required","","placeholder","Ej: Amazon Web Services",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","button","title","Eliminar contacto",1,"absolute","top-2","right-2","text-red-600","hover:text-red-800",3,"click"],["type","text","required","","placeholder","Ej: Mar\xEDa P\xE9rez Garc\xEDa",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],["type","tel","required","","placeholder","Ej: +502 1234-5678",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","id","ngModel","name"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"bg-green-50","border","border-green-200","rounded-md","p-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","text-green-700"],[1,"animate-spin","rounded-full","h-4","w-4","border-b-2","border-white","mr-2"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),d(5),l(),a(6,"p",5),d(7),l()(),a(8,"button",6),E("click",function(){return r.cancel()}),T(),a(9,"svg",7),_(10,"path",8),l(),d(11," Volver "),l()()(),C(12,qk,5,0,"div",9)(13,h4,78,22,"div",10),l()),e&2&&(p(5),M(r.getPageTitle()),p(2),I(" ",r.isEditMode?"Modifica la informaci\xF3n de tu curriculum vitae":"Completa la informaci\xF3n para crear tu curriculum vitae"," "),p(5),h("ngIf",r.loading&&r.isEditMode),p(),h("ngIf",!r.loading||!r.isEditMode))},dependencies:[Ce,pe,Ye,Xe,et,Ee,Ze,ke,qe,Ue,Xm,De,je],encapsulation:2})};function g4(n,t){if(n&1){let e=N();a(0,"button",18),E("click",function(){x(e);let i=g();return w(i.editCV())}),T(),a(1,"svg",12),_(2,"path",19),l(),d(3," Editar "),l()}}function v4(n,t){n&1&&(a(0,"div",20)(1,"div",21),_(2,"div",22),a(3,"p",23),d(4,"Cargando CV..."),l()()())}function _4(n,t){if(n&1&&(a(0,"div",24)(1,"div",25),T(),a(2,"svg",26),_(3,"path",27),l(),V(),a(4,"div",28)(5,"p",29),d(6),l()()()()),n&2){let e=g();p(6),M(e.error)}}function y4(n,t){if(n&1&&(a(0,"div",47)(1,"div",48)(2,"div",49)(3,"h3",50),d(4),l(),a(5,"p",51),d(6),l(),a(7,"p",52),d(8),a(9,"span",53),d(10),l()()()()()),n&2){let e=t.$implicit;p(4),M(e.titulo_obtenido),p(2),M(e.institucion),p(2),Me(" ",e.anio_inicio," - ",e.anio_finalizacion," "),p(2),I("(",e.anio_finalizacion-e.anio_inicio+1," a\xF1os)")}}function b4(n,t){if(n&1&&(a(0,"div",45),C(1,y4,11,5,"div",46),l()),n&2){let e=g(2);p(),h("ngForOf",e.cv.educacion)}}function x4(n,t){n&1&&(a(0,"div",54),T(),a(1,"svg",55),_(2,"path",56),l(),V(),a(3,"p",57),d(4,"No hay informaci\xF3n de educaci\xF3n registrada"),l()())}function w4(n,t){if(n&1&&(a(0,"p",62)(1,"strong"),d(2,"Motivo de retiro:"),l(),d(3),l()),n&2){let e=g().$implicit;p(3),I(" ",e.motivo_retiro," ")}}function C4(n,t){if(n&1&&(a(0,"div",59)(1,"div",48)(2,"div",49)(3,"h3",50),d(4),l(),a(5,"p",60),d(6),l(),a(7,"p",52),d(8),a(9,"span",53),d(10),l()(),C(11,w4,4,1,"p",61),l()()()),n&2){let e=t.$implicit;p(4),M(e.puesto_ejercido),p(2),M(e.institucion),p(2),Me(" ",e.anio_inicio," - ",e.anio_finalizacion," "),p(2),I("(",e.anio_finalizacion-e.anio_inicio+1," a\xF1os)"),p(),h("ngIf",e.motivo_retiro)}}function E4(n,t){if(n&1&&(a(0,"div",45),C(1,C4,12,6,"div",58),l()),n&2){let e=g(2);p(),h("ngForOf",e.cv.experiencia_laboral)}}function S4(n,t){n&1&&(a(0,"div",54),T(),a(1,"svg",55),_(2,"path",63),l(),V(),a(3,"p",57),d(4,"No hay experiencia laboral registrada"),l()())}function M4(n,t){if(n&1&&(a(0,"div",66)(1,"div",7)(2,"h3",67),d(3),l(),a(4,"span"),d(5),l()()()),n&2){let e=t.$implicit,r=g(3);p(3),M(e.idioma),p(),be("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.nivel==="materno"?"bg-purple-100 text-purple-800":e.nivel==="avanzado"?"bg-green-100 text-green-800":e.nivel==="intermedio"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800")),p(),I(" ",r.capitalize(e.nivel)," ")}}function I4(n,t){if(n&1&&(a(0,"div",64),C(1,M4,6,4,"div",65),l()),n&2){let e=g(2);p(),h("ngForOf",e.cv.idiomas)}}function D4(n,t){n&1&&(a(0,"div",54),T(),a(1,"svg",55),_(2,"path",68),l(),V(),a(3,"p",57),d(4,"No hay idiomas registrados"),l()())}function T4(n,t){if(n&1&&(a(0,"div",70)(1,"div",48)(2,"div",49)(3,"h3",50),d(4),l(),a(5,"p",71),d(6),l(),a(7,"p",52),d(8),l()()()()),n&2){let e=t.$implicit;p(4),M(e.nombre_reconocimiento),p(2),M(e.institucion),p(2),I("A\xF1o: ",e.anio_realizado,"")}}function k4(n,t){if(n&1&&(a(0,"div",45),C(1,T4,9,3,"div",69),l()),n&2){let e=g(2);p(),h("ngForOf",e.cv.cursos_certificaciones_extra)}}function A4(n,t){n&1&&(a(0,"div",54),T(),a(1,"svg",55),_(2,"path",72),l(),V(),a(3,"p",57),d(4,"No hay cursos o certificaciones registrados"),l()())}function O4(n,t){if(n&1&&(a(0,"div",75)(1,"div",76)(2,"div",77)(3,"div",78),T(),a(4,"svg",79),_(5,"path",80),l()()(),V(),a(6,"div",81)(7,"h3",67),d(8),l(),a(9,"p",82),d(10),l(),a(11,"span",83),d(12),l()()()()),n&2){let e=t.$implicit,r=g(3);p(8),M(e.nombre_apellido),p(2),M(e.numero_telefonico),p(2),I(" ",r.capitalize(e.parentesco)," ")}}function P4(n,t){if(n&1&&(a(0,"div",73),C(1,O4,13,3,"div",74),l()),n&2){let e=g(2);p(),h("ngForOf",e.cv.contactos_referencias)}}function F4(n,t){n&1&&(a(0,"div",54),T(),a(1,"svg",55),_(2,"path",84),l(),V(),a(3,"p",57),d(4,"No hay contactos de referencia registrados"),l()())}function N4(n,t){if(n&1&&(a(0,"div",30)(1,"div",31)(2,"div",32)(3,"h2",33),d(4,"Informaci\xF3n B\xE1sica"),l()(),a(5,"div",34)(6,"dl",35)(7,"div")(8,"dt",36),d(9,"Nombre del CV"),l(),a(10,"dd",37),d(11),l()(),a(12,"div")(13,"dt",36),d(14,"Estado"),l(),a(15,"dd",38)(16,"span",39),T(),a(17,"svg",40),_(18,"circle",41),l(),d(19," Activo "),l()()(),V(),a(20,"div")(21,"dt",36),d(22,"Fecha de Creaci\xF3n"),l(),a(23,"dd",37),d(24),l()(),a(25,"div")(26,"dt",36),d(27,"\xDAltima Actualizaci\xF3n"),l(),a(28,"dd",37),d(29),l()()()()(),a(30,"div",31)(31,"div",32)(32,"h2",33),d(33,"Educaci\xF3n"),l()(),a(34,"div",34),C(35,b4,2,1,"div",42)(36,x4,5,0,"ng-template",null,0,Tn),l()(),a(38,"div",31)(39,"div",32)(40,"h2",33),d(41,"Experiencia Laboral"),l()(),a(42,"div",34),C(43,E4,2,1,"div",42)(44,S4,5,0,"ng-template",null,1,Tn),l()(),a(46,"div",31)(47,"div",32)(48,"h2",33),d(49,"Idiomas"),l()(),a(50,"div",34),C(51,I4,2,1,"div",43)(52,D4,5,0,"ng-template",null,2,Tn),l()(),a(54,"div",31)(55,"div",32)(56,"h2",33),d(57,"Cursos y Certificaciones"),l()(),a(58,"div",34),C(59,k4,2,1,"div",42)(60,A4,5,0,"ng-template",null,3,Tn),l()(),a(62,"div",31)(63,"div",32)(64,"h2",33),d(65,"Contactos y Referencias"),l()(),a(66,"div",34),C(67,P4,2,1,"div",44)(68,F4,5,0,"ng-template",null,4,Tn),l()()()),n&2){let e=Fe(37),r=Fe(45),i=Fe(53),o=Fe(61),s=Fe(69),c=g();p(11),M(c.cv.nombre),p(13),M(c.formatDate(c.cv.created_at)),p(5),M(c.formatDate(c.cv.updated_at)),p(6),h("ngIf",c.cv.educacion&&c.cv.educacion.length>0)("ngIfElse",e),p(8),h("ngIf",c.cv.experiencia_laboral&&c.cv.experiencia_laboral.length>0)("ngIfElse",r),p(8),h("ngIf",c.cv.idiomas&&c.cv.idiomas.length>0)("ngIfElse",i),p(8),h("ngIf",c.cv.cursos_certificaciones_extra&&c.cv.cursos_certificaciones_extra.length>0)("ngIfElse",o),p(8),h("ngIf",c.cv.contactos_referencias&&c.cv.contactos_referencias.length>0)("ngIfElse",s)}}var kd=class n{constructor(t,e,r){this.cvService=t;this.route=e;this.router=r;this.cvId=parseInt(this.route.snapshot.params.id)}cv=null;loading=!0;error="";cvId;ngOnInit(){return y(this,null,function*(){yield this.loadCV()})}loadCV(){return y(this,null,function*(){this.loading=!0,this.error="";try{let t=yield this.cvService.getCVById(this.cvId);t.success&&t.data?this.cv=t.data:this.error=t.message}catch(t){console.error("Error cargando CV:",t),this.error="Error al cargar el CV"}finally{this.loading=!1}})}editCV(){this.router.navigate(["/cv/editar",this.cvId])}goBack(){this.router.navigate(["/cv/mis-cvs"])}downloadPDF(){this.cv?.cv_pdf_url&&window.open(this.cv.cv_pdf_url,"_blank")}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inv\xE1lida"}}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}static \u0275fac=function(e){return new(e||n)(F(Sr),F(Zt),F(ce))};static \u0275cmp=le({type:n,selectors:[["app-cv-view"]],standalone:!1,decls:17,vars:5,consts:[["noEducation",""],["noExperience",""],["noLanguages",""],["noCourses",""],["noContacts",""],[1,"max-w-4xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"flex","space-x-3"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],["class","inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-6",4,"ngIf"],["class","space-y-8",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-6"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"space-y-8"],[1,"bg-white","shadow","rounded-lg","overflow-hidden"],[1,"px-6","py-4","bg-gray-50","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"px-6","py-4"],[1,"grid","grid-cols-1","gap-x-4","gap-y-4","sm:grid-cols-2"],[1,"text-sm","font-medium","text-gray-500"],[1,"mt-1","text-sm","text-gray-900"],[1,"mt-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"],["class","space-y-4",4,"ngIf","ngIfElse"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",4,"ngIf","ngIfElse"],["class","grid grid-cols-1 md:grid-cols-2 gap-4",4,"ngIf","ngIfElse"],[1,"space-y-4"],["class","border-l-4 border-indigo-400 pl-4 py-2",4,"ngFor","ngForOf"],[1,"border-l-4","border-indigo-400","pl-4","py-2"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-md","text-indigo-600","font-medium"],[1,"text-sm","text-gray-500"],[1,"ml-2"],[1,"text-center","py-6","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"],[1,"mt-2","text-sm"],["class","border-l-4 border-green-400 pl-4 py-2",4,"ngFor","ngForOf"],[1,"border-l-4","border-green-400","pl-4","py-2"],[1,"text-md","text-green-600","font-medium"],["class","text-sm text-gray-600 mt-2",4,"ngIf"],[1,"text-sm","text-gray-600","mt-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","bg-blue-50 border border-blue-200 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"text-md","font-medium","text-gray-900"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"],["class","border-l-4 border-yellow-400 pl-4 py-2",4,"ngFor","ngForOf"],[1,"border-l-4","border-yellow-400","pl-4","py-2"],[1,"text-md","text-yellow-600","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","bg-gray-50 border border-gray-200 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"bg-gray-50","border","border-gray-200","rounded-lg","p-4"],[1,"flex","items-start"],[1,"flex-shrink-0"],[1,"h-10","w-10","bg-indigo-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"ml-4","flex-1"],[1,"text-sm","text-gray-600"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","bg-blue-100","text-blue-800","mt-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"]],template:function(e,r){e&1&&(a(0,"div",5)(1,"div",6)(2,"div",7)(3,"div")(4,"h1",8),d(5),l(),a(6,"p",9),d(7," Vista detallada del curriculum vitae "),l()(),a(8,"div",10)(9,"button",11),E("click",function(){return r.goBack()}),T(),a(10,"svg",12),_(11,"path",13),l(),d(12," Volver "),l(),C(13,g4,4,0,"button",14),l()()(),C(14,v4,5,0,"div",15)(15,_4,7,1,"div",16)(16,N4,70,13,"div",17),l()),e&2&&(p(5),M((r.cv==null?null:r.cv.nombre)||"Curriculum Vitae"),p(8),h("ngIf",r.cv),p(),h("ngIf",r.loading),p(),h("ngIf",r.error&&!r.loading),p(),h("ngIf",r.cv&&!r.loading))},dependencies:[Ce,pe],encapsulation:2})};var R4=(n,t)=>({"bg-green-100 text-green-800":n,"bg-red-100 text-red-800":t});function V4(n,t){if(n&1){let e=N();a(0,"button",37),E("click",function(){x(e);let i=g();return w(i.openCreateModal())}),T(),a(1,"svg",38),_(2,"path",39),l(),d(3," Nueva Empresa "),l()}}function L4(n,t){n&1&&(a(0,"div",40),d(1," Solo supervisores pueden crear empresas "),l())}function j4(n,t){if(n&1&&(a(0,"option",41),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function U4(n,t){if(n&1&&(a(0,"option",41),d(1),l()),n&2){let e=t.$implicit,r=g();h("value",e),p(),M(r.getTamanoLegible(e))}}function B4(n,t){if(n&1){let e=N();a(0,"div",42)(1,"div",43),T(),a(2,"svg",44),_(3,"path",45),l(),V(),a(4,"div",46)(5,"p",47),d(6),l()(),a(7,"div",48)(8,"button",49),E("click",function(){x(e);let i=g();return w(i.error="")}),T(),a(9,"svg",50),_(10,"path",51),l()()()()()}if(n&2){let e=g();p(6),M(e.error)}}function $4(n,t){n&1&&(a(0,"div",52)(1,"div",53),_(2,"div",54),a(3,"p",55),d(4,"Cargando empresas..."),l()()())}function H4(n,t){if(n&1&&(a(0,"span"),d(1),l()),n&2){let e=g().$implicit;p(),M(e.direccion)}}function z4(n,t){n&1&&(a(0,"span"),d(1,"Sin direcci\xF3n"),l())}function G4(n,t){if(n&1&&(a(0,"div",97)(1,"a",98),d(2),l()()),n&2){let e=g().$implicit;p(),h("href",e.sitio_web,Ot),p(),I(" ",e.sitio_web," ")}}function W4(n,t){if(n&1&&(a(0,"div",100)(1,"span",101),d(2),l()()),n&2){let e=t.$implicit;p(2),I(" ",e.full_name||e.username," ")}}function q4(n,t){if(n&1&&(a(0,"div"),C(1,W4,3,1,"div",99),l()),n&2){let e=g().$implicit;p(),h("ngForOf",e.responsables_info)}}function Y4(n,t){n&1&&(a(0,"span",102),d(1,"Sin responsables"),l())}function Z4(n,t){if(n&1&&(a(0,"div",103),T(),a(1,"svg",104),_(2,"path",105),l(),d(3),l()),n&2){let e=g().$implicit;p(3),I(" ",e.telefono," ")}}function Q4(n,t){if(n&1&&(a(0,"div",70),T(),a(1,"svg",104),_(2,"path",106),l(),d(3),l()),n&2){let e=g().$implicit;p(3),I(" ",e.email," ")}}function K4(n,t){n&1&&(a(0,"div",102),d(1," Sin contacto "),l())}function J4(n,t){if(n&1){let e=N();a(0,"button",107),E("click",function(){x(e);let i=g().$implicit,o=g(2);return w(o.openEditModal(i))}),T(),a(1,"svg",91),_(2,"path",108),l()()}}function X4(n,t){if(n&1){let e=N();a(0,"button",109),E("click",function(){x(e);let i=g().$implicit,o=g(2);return w(o.deactivateEmpresa(i))}),T(),a(1,"svg",91),_(2,"path",110),l()()}}function e5(n,t){if(n&1){let e=N();a(0,"button",111),E("click",function(){x(e);let i=g().$implicit,o=g(2);return w(o.reactivateEmpresa(i))}),T(),a(1,"svg",91),_(2,"path",112),l()()}}function t5(n,t){if(n&1&&(a(0,"tr",68)(1,"td",69)(2,"div",70)(3,"div",71)(4,"div",72),T(),a(5,"svg",73),_(6,"path",74),l()()(),V(),a(7,"div",75)(8,"div",76),d(9),l(),a(10,"div",60),C(11,H4,2,1,"span",77)(12,z4,2,0,"span",77),l(),C(13,G4,3,2,"div",78),l()()(),a(14,"td",69)(15,"div",79),d(16),l(),a(17,"div",60),d(18),l()(),a(19,"td",80)(20,"div",79),C(21,q4,2,1,"div",81)(22,Y4,2,0,"ng-template",null,0,Tn),l()(),a(24,"td",69)(25,"div",79),C(26,Z4,4,1,"div",82)(27,Q4,4,1,"div",83)(28,K4,2,0,"div",84),l()(),a(29,"td",69)(30,"span",85),T(),a(31,"svg",86),_(32,"circle",87),l(),d(33),l()(),V(),a(34,"td",88)(35,"div",89)(36,"button",90),T(),a(37,"svg",91),_(38,"path",92)(39,"path",93),l()(),C(40,J4,3,0,"button",94)(41,X4,3,0,"button",95)(42,e5,3,0,"button",96),l()()()),n&2){let e=t.$implicit,r=Fe(23),i=g(2);p(9),M(e.nombre),p(2),h("ngIf",e.direccion),p(),h("ngIf",!e.direccion),p(),h("ngIf",e.sitio_web),p(3),M(e.sector||"Sin especificar"),p(2),M(i.getTamanoLegible(e.tamano_empresa)),p(3),h("ngIf",e.responsables_info&&e.responsables_info.length>0)("ngIfElse",r),p(5),h("ngIf",e.telefono),p(),h("ngIf",e.email),p(),h("ngIf",!e.telefono&&!e.email),p(2),h("ngClass",Zi(16,R4,e.status===1,e.status===0)),p(3),I(" ",i.getStatusText(e.status)," "),p(7),h("ngIf",i.canEdit()),p(),h("ngIf",i.canEdit()&&e.status===1),p(),h("ngIf",i.canEdit()&&e.status===0)}}function n5(n,t){if(n&1){let e=N();a(0,"button",120),E("click",function(){x(e);let i=g(3);return w(i.openCreateModal())}),d(1," Crear primera empresa "),l()}}function r5(n,t){if(n&1){let e=N();a(0,"button",121),E("click",function(){x(e);let i=g(3);return w(i.clearFilters())}),d(1," Limpiar filtros "),l()}}function i5(n,t){if(n&1&&(a(0,"div",113),T(),a(1,"svg",114),_(2,"path",74),l(),V(),a(3,"h3",115),d(4,"No hay empresas"),l(),a(5,"p",116),d(6),l(),a(7,"div",117),C(8,n5,2,0,"button",118)(9,r5,2,0,"button",119),l()()),n&2){let e=g(2);p(6),I(" ",e.empresas.length===0?"No se encontraron empresas en la base de datos.":"No se encontraron empresas con los filtros aplicados."," "),p(2),h("ngIf",e.empresas.length===0&&e.canCreate()),p(),h("ngIf",e.empresas.length>0)}}function o5(n,t){if(n&1&&(a(0,"div",56)(1,"div",57)(2,"div",58)(3,"h3",59),d(4),l(),a(5,"span",60),d(6),l()()(),a(7,"div",61)(8,"table",62)(9,"thead",63)(10,"tr")(11,"th",64),d(12," Empresa "),l(),a(13,"th",64),d(14," Sector / Tama\xF1o "),l(),a(15,"th",64),d(16," Responsables "),l(),a(17,"th",64),d(18," Contacto "),l(),a(19,"th",64),d(20," Estado "),l(),a(21,"th",64),d(22," Acciones "),l()()(),a(23,"tbody",65),C(24,t5,43,19,"tr",66),l()(),C(25,i5,10,3,"div",67),l()()),n&2){let e=g();p(4),Me(" Lista de Empresas (",e.filteredEmpresas.length," de ",e.empresas.length,") "),p(2),Me(" Mostrando ",e.filteredEmpresas.length," resultado",e.filteredEmpresas.length!==1?"s":""," "),p(18),h("ngForOf",e.filteredEmpresas)("ngForTrackBy",e.trackByEmpresaId),p(),h("ngIf",e.filteredEmpresas.length===0&&!e.loading)}}function s5(n,t){if(n&1&&(a(0,"option",41),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function a5(n,t){if(n&1&&(a(0,"option",41),d(1),l()),n&2){let e=t.$implicit,r=g(2);h("value",e),p(),M(r.getTamanoLegible(e))}}function l5(n,t){n&1&&(a(0,"div",180)(1,"div",43),T(),a(2,"svg",181),_(3,"path",182),l(),V(),a(4,"div",46)(5,"p",183)(6,"strong"),d(7,"No hay usuarios con perfil de Supervisor disponibles."),l(),_(8,"br"),d(9," Para asignar responsables, debe crear al menos un usuario con perfil de Supervisor (perfil 3) primero. "),l()()()())}function c5(n,t){if(n&1&&(a(0,"div",184)(1,"div",70),T(),a(2,"svg",185),_(3,"path",186),l(),V(),a(4,"p",187),d(5),l()()()),n&2){let e=g(2);p(5),_f(" ",e.getConteoSupervisores()," supervisor",e.getConteoSupervisores()!==1?"es":""," disponible",e.getConteoSupervisores()!==1?"s":""," para asignar como responsable",e.getConteoSupervisores()!==1?"s":"",". ")}}function d5(n,t){if(n&1){let e=N();a(0,"div",70)(1,"input",190),E("change",function(){let i=x(e).$implicit,o=g(3);return w(o.toggleResponsable(i.id))}),l(),a(2,"label",191),d(3),a(4,"span",192),d(5),l(),a(6,"span",193),d(7),l()()()}if(n&2){let e=t.$implicit,r=g(3);p(),h("id","responsable-"+e.id)("checked",r.isResponsableSelected(e.id)),p(),h("for","responsable-"+e.id),p(),I(" ",e.full_name||e.username," "),p(2),I("(",r.getPerfilName(e.id_perfil),")"),p(2),M(e.username)}}function u5(n,t){if(n&1&&(a(0,"div",188),C(1,d5,8,6,"div",189),l()),n&2){let e=g(2);p(),h("ngForOf",e.usuariosSupervisores)}}function p5(n,t){n&1&&(a(0,"div",131)(1,"p",194),d(2," No hay responsables asignados. Seleccione al menos un supervisor para gestionar esta empresa. "),l()())}function f5(n,t){if(n&1&&(a(0,"span",199),d(1),l()),n&2){let e=t.$implicit,r=g(3);p(),I(" ",r.getNombreUsuario(e)," ")}}function m5(n,t){if(n&1&&(a(0,"div",195)(1,"p",196)(2,"strong"),d(3,"Responsables seleccionados:"),l(),d(4),l(),a(5,"div",197),C(6,f5,2,1,"span",198),l()()),n&2){let e=g(2);p(4),I(" ",e.empresaForm.responsables.length," "),p(2),h("ngForOf",e.empresaForm.responsables)}}function h5(n,t){if(n&1&&(a(0,"span"),d(1),l()),n&2){let e=g().$implicit;p(),I("\u{1F4DE} ",e.telefono,"")}}function g5(n,t){n&1&&(a(0,"span"),d(1," | "),l())}function v5(n,t){if(n&1&&(a(0,"span"),d(1),l()),n&2){let e=g().$implicit;p(),I("\u2709\uFE0F ",e.email,"")}}function _5(n,t){if(n&1){let e=N();a(0,"div",202)(1,"div",203)(2,"div",204)(3,"div",76),d(4),l(),a(5,"div",205),d(6),l(),a(7,"div",206),C(8,h5,2,1,"span",77)(9,g5,2,0,"span",77)(10,v5,2,1,"span",77),l()(),a(11,"button",207),E("click",function(){let i=x(e).index,o=g(3);return w(o.removerContacto(i))}),T(),a(12,"svg",208),_(13,"path",209),l()()()()}if(n&2){let e=t.$implicit;p(4),M(e.nombre),p(2),M(e.cargo),p(2),h("ngIf",e.telefono),p(),h("ngIf",e.telefono&&e.email),p(),h("ngIf",e.email)}}function y5(n,t){if(n&1&&(a(0,"div",200),C(1,_5,14,5,"div",201),l()),n&2){let e=g(2);p(),h("ngForOf",e.empresaForm.contactos_referencias)}}function b5(n,t){if(n&1&&(a(0,"div",210)(1,"div",43),T(),a(2,"svg",44),_(3,"path",45),l(),V(),a(4,"div",46)(5,"p",47),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.error)}}function x5(n,t){n&1&&(T(),a(0,"svg",211),_(1,"path",9),l())}function w5(n,t){if(n&1){let e=N();a(0,"div",122)(1,"div",123)(2,"div",124),E("click",function(){x(e);let i=g();return w(i.closeModal())}),l(),a(3,"span",125),d(4,"\u200B"),l(),a(5,"div",126)(6,"div",127)(7,"div",128)(8,"div",129),T(),a(9,"svg",73),_(10,"path",74),l()(),V(),a(11,"div",130)(12,"h3",59),d(13),l(),a(14,"div",131)(15,"p",60),d(16),l()()()()(),a(17,"div",132)(18,"form",133)(19,"div",134)(20,"div",14)(21,"label",135),d(22," Nombre de la Empresa "),a(23,"span",136),d(24,"*"),l()(),a(25,"input",137),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.nombre,i)||(o.empresaForm.nombre=i),w(i)}),l()(),a(26,"div")(27,"label",138),d(28," Sector "),a(29,"span",136),d(30,"*"),l()(),a(31,"select",139),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.sector,i)||(o.empresaForm.sector=i),w(i)}),a(32,"option",140),d(33,"Seleccionar sector"),l(),C(34,s5,2,2,"option",28),l()(),a(35,"div")(36,"label",141),d(37," Tama\xF1o de Empresa "),l(),a(38,"select",142),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.tamano_empresa,i)||(o.empresaForm.tamano_empresa=i),w(i)}),C(39,a5,2,2,"option",28),l()(),a(40,"div",14)(41,"label",143),d(42," Direcci\xF3n "),l(),a(43,"input",144),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.direccion,i)||(o.empresaForm.direccion=i),w(i)}),l()(),a(44,"div")(45,"label",145),d(46," Tel\xE9fono "),l(),a(47,"input",146),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.telefono,i)||(o.empresaForm.telefono=i),w(i)}),l()(),a(48,"div")(49,"label",147),d(50," Email "),l(),a(51,"input",148),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.email,i)||(o.empresaForm.email=i),w(i)}),l()(),a(52,"div",14)(53,"label",149),d(54," Sitio Web "),l(),a(55,"input",150),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.sitio_web,i)||(o.empresaForm.sitio_web=i),w(i)}),l()(),a(56,"div",14)(57,"label",151),d(58," Descripci\xF3n de la Empresa "),l(),a(59,"textarea",152),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.descripcion.descripcion,i)||(o.empresaForm.descripcion.descripcion=i),w(i)}),l()(),a(60,"div")(61,"label",153),d(62," Estado "),l(),a(63,"select",154),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.status,i)||(o.empresaForm.status=i),w(i)}),a(64,"option",155),d(65,"Activa"),l(),a(66,"option",156),d(67,"Inactiva"),l()()()(),a(68,"div",117)(69,"label",157),d(70," Responsables de la Empresa "),a(71,"span",158),d(72,"(Solo usuarios con perfil de Supervisor)"),l()(),C(73,l5,10,0,"div",159)(74,c5,6,4,"div",160)(75,u5,2,1,"div",161)(76,p5,3,0,"div",162)(77,m5,7,2,"div",163),a(78,"p",164),d(79," Solo los usuarios con perfil de "),a(80,"strong"),d(81,"Supervisor"),l(),d(82," pueden ser asignados como responsables de empresas. Los responsables podr\xE1n gestionar la informaci\xF3n de la empresa y ver candidatos asociados. "),l()(),a(83,"div",117)(84,"label",157),d(85," Contactos de Referencia "),l(),C(86,y5,2,1,"div",165),a(87,"div",166)(88,"h4",167),d(89,"Agregar Nuevo Contacto"),l(),a(90,"div",168)(91,"div")(92,"input",169),A("ngModelChange",function(i){x(e);let o=g();return O(o.nuevoContacto.nombre,i)||(o.nuevoContacto.nombre=i),w(i)}),l()(),a(93,"div")(94,"input",170),A("ngModelChange",function(i){x(e);let o=g();return O(o.nuevoContacto.cargo,i)||(o.nuevoContacto.cargo=i),w(i)}),l()(),a(95,"div")(96,"input",171),A("ngModelChange",function(i){x(e);let o=g();return O(o.nuevoContacto.telefono,i)||(o.nuevoContacto.telefono=i),w(i)}),l()(),a(97,"div")(98,"input",172),A("ngModelChange",function(i){x(e);let o=g();return O(o.nuevoContacto.email,i)||(o.nuevoContacto.email=i),w(i)}),l()()(),a(99,"div",173)(100,"button",174),E("click",function(){x(e);let i=g();return w(i.agregarContacto())}),T(),a(101,"svg",8),_(102,"path",39),l(),d(103," Agregar Contacto "),l()()()()(),C(104,b5,7,1,"div",175),l(),V(),a(105,"div",176)(106,"button",177),E("click",function(){x(e);let i=g();return w(i.saveEmpresa())}),C(107,x5,2,0,"svg",178),d(108),l(),a(109,"button",179),E("click",function(){x(e);let i=g();return w(i.closeModal())})("click",function(){x(e);let i=g();return w(i.closeModal())}),d(110," Cancelar "),l()()()()()}if(n&2){let e=g();p(13),I(" ",e.modalMode==="create"?"Crear Nueva Empresa":"Editar Empresa"," "),p(3),I(" ",e.modalMode==="create"?"Complete los datos para registrar una nueva empresa.":"Modifique los datos de la empresa seleccionada."," "),p(9),k("ngModel",e.empresaForm.nombre),p(6),k("ngModel",e.empresaForm.sector),p(3),h("ngForOf",e.sectoresDisponibles),p(4),k("ngModel",e.empresaForm.tamano_empresa),p(),h("ngForOf",e.tamanosEmpresa),p(4),k("ngModel",e.empresaForm.direccion),p(4),k("ngModel",e.empresaForm.telefono),p(4),k("ngModel",e.empresaForm.email),p(4),k("ngModel",e.empresaForm.sitio_web),p(4),k("ngModel",e.empresaForm.descripcion.descripcion),p(4),k("ngModel",e.empresaForm.status),p(10),h("ngIf",!e.haySupervisoresDisponibles()),p(),h("ngIf",e.haySupervisoresDisponibles()),p(),h("ngIf",e.haySupervisoresDisponibles()),p(),h("ngIf",e.haySupervisoresDisponibles()&&e.empresaForm.responsables.length===0),p(),h("ngIf",e.empresaForm.responsables.length>0),p(9),h("ngIf",e.empresaForm.contactos_referencias.length>0),p(6),k("ngModel",e.nuevoContacto.nombre),p(2),k("ngModel",e.nuevoContacto.cargo),p(2),k("ngModel",e.nuevoContacto.telefono),p(2),k("ngModel",e.nuevoContacto.email),p(2),h("disabled",!e.nuevoContacto.nombre||!e.nuevoContacto.cargo),p(4),h("ngIf",e.error),p(2),h("disabled",!e.empresaForm.nombre||!e.empresaForm.sector),p(),h("ngIf",e.loading),p(),I(" ",e.modalMode==="create"?"Crear Empresa":"Guardar Cambios"," ")}}var Ad=class n{constructor(t,e){this.supabaseService=t;this.authService=e}empresas=[];filteredEmpresas=[];usuarios=[];usuariosSupervisores=[];loading=!0;error="";success="";searchTerm="";showModal=!1;modalMode="create";selectedEmpresa=null;currentUser=null;empresaForm={nombre:"",descripcion:{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:[],contactos_referencias:[],direccion:"",telefono:"",email:"",sitio_web:"",sector:"",tamano_empresa:"Pequena",status:1};nuevoContacto={nombre:"",cargo:"",telefono:"",email:""};statusFilter="all";sectorFilter="all";tamanoFilter="all";sectoresDisponibles=["Tecnologia","Consultoria IT","Finanzas","Salud","Educacion","Retail","Manufactura","Servicios","Gobierno","ONG","Otro"];tamanosEmpresa=["Pequena","Mediana","Grande","Corporativa"];ngOnInit(){return y(this,null,function*(){if(console.log("EmpresasComponent inicializado"),this.currentUser=this.authService.getCurrentUser(),!this.currentUser){this.error="Usuario no autenticado",this.loading=!1;return}console.log("Usuario actual:",this.currentUser),yield Promise.all([this.loadEmpresas(),this.loadUsuarios()])})}loadEmpresas(){return y(this,null,function*(){this.loading=!0,this.error="";try{console.log("Cargando empresas...");let t=yield this.supabaseService.getData("empresas");console.log("Datos de empresas recibidos:",t),this.empresas=yield Promise.all((t||[]).map(e=>y(this,null,function*(){let r=[];if(e.responsables&&e.responsables.length>0)try{let{data:i}=yield this.supabaseService.client.from("profiles").select("id, username, full_name, id_perfil").in("id",e.responsables).eq("status",1).eq("id_perfil",3);i&&r.push(...i)}catch(i){console.error("Error cargando responsables:",i)}return G(P({},e),{responsables_info:r})}))),this.filteredEmpresas=[...this.empresas],this.applyFilters(),console.log("Empresas cargadas exitosamente:",this.empresas.length)}catch(t){console.error("Error cargando empresas:",t),this.error="Error al cargar las empresas"}finally{this.loading=!1}})}loadUsuarios(){return y(this,null,function*(){try{let t=yield this.supabaseService.getData("profiles");this.usuarios=(t||[]).filter(e=>e.status===1),this.usuariosSupervisores=this.usuarios.filter(e=>e.id_perfil===3),console.log("Usuarios cargados:",this.usuarios.length),console.log("Supervisores disponibles:",this.usuariosSupervisores.length)}catch(t){console.error("Error cargando usuarios:",t)}})}applyFilters(){let t=[...this.empresas];if(this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(r=>r.nombre?.toLowerCase().includes(e)||r.sector?.toLowerCase().includes(e)||r.direccion?.toLowerCase().includes(e))}this.statusFilter==="active"?t=t.filter(e=>e.status===1):this.statusFilter==="inactive"&&(t=t.filter(e=>e.status===0)),this.sectorFilter!=="all"&&(t=t.filter(e=>e.sector===this.sectorFilter)),this.tamanoFilter!=="all"&&(t=t.filter(e=>e.tamano_empresa===this.tamanoFilter)),this.filteredEmpresas=t}onSearch(){this.applyFilters()}onFilterChange(){this.applyFilters()}openCreateModal(){if(this.usuariosSupervisores.length===0){this.error="No hay usuarios con perfil de Supervisor disponibles para asignar como responsables.";return}this.modalMode="create",this.empresaForm={nombre:"",descripcion:{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:[],contactos_referencias:[],direccion:"",telefono:"",email:"",sitio_web:"",sector:"",tamano_empresa:"Pequena",status:1},this.error="",this.success="",this.showModal=!0}openEditModal(t){if(this.usuariosSupervisores.length===0){this.error="No hay usuarios con perfil de Supervisor disponibles.";return}this.modalMode="edit",this.selectedEmpresa=t;let e=t.descripcion;if(typeof e=="string")try{e=JSON.parse(e)}catch{e={descripcion:e,sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""}}this.empresaForm=G(P({},t),{descripcion:e||{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:t.responsables||[],contactos_referencias:t.contactos_referencias||[]}),this.error="",this.success="",this.showModal=!0}closeModal(){this.showModal=!1,this.selectedEmpresa=null,this.error="",this.success="",this.nuevoContacto={nombre:"",cargo:"",telefono:"",email:""}}saveEmpresa(){return y(this,null,function*(){try{if(console.log("=== GUARDANDO EMPRESA ==="),console.log("Modo:",this.modalMode),console.log("Usuario actual:",this.currentUser),console.log("Datos del formulario:",this.empresaForm),this.error="",this.success="",!this.empresaForm.nombre||this.empresaForm.nombre.trim()===""){this.error="El nombre de la empresa es requerido";return}if(!this.empresaForm.sector){this.error="El sector es requerido";return}if(!this.currentUser||!this.currentUser.id){this.error="Usuario no autenticado correctamente";return}if(this.currentUser.id_perfil!==1&&this.currentUser.id_perfil!==3){this.error="No tienes permisos para realizar esta acci\xF3n";return}let t={nombre:this.empresaForm.nombre.trim(),descripcion:this.empresaForm.descripcion,responsables:this.empresaForm.responsables||[],contactos_referencias:this.empresaForm.contactos_referencias||[],direccion:this.empresaForm.direccion?.trim()||null,telefono:this.empresaForm.telefono?.trim()||null,email:this.empresaForm.email?.trim()||null,sitio_web:this.empresaForm.sitio_web?.trim()||null,sector:this.empresaForm.sector,tamano_empresa:this.empresaForm.tamano_empresa,status:this.empresaForm.status,updated_by:this.currentUser.id};if(this.modalMode==="create"){let{data:e}=yield this.supabaseService.client.from("empresas").select("nombre").eq("nombre",this.empresaForm.nombre.trim()).single();if(e){this.error="Ya existe una empresa con este nombre";return}let r=G(P({},t),{created_by:this.currentUser.id});console.log("Creando empresa:",r);let i=yield this.supabaseService.insertData("empresas",r);console.log("Resultado creaci\xF3n:",i),this.success="Empresa creada exitosamente"}else{console.log("Editando empresa ID:",this.selectedEmpresa.id);let e=yield this.supabaseService.updateData("empresas",this.selectedEmpresa.id.toString(),t);console.log("Resultado actualizaci\xF3n:",e),this.success="Empresa actualizada exitosamente"}yield this.loadEmpresas(),setTimeout(()=>{this.closeModal()},1500)}catch(t){console.error("=== ERROR EN GUARDADO ==="),console.error("Error:",t),t.message?.includes("duplicate key")?this.error="Ya existe una empresa con este nombre":t.message?.includes("permission")?this.error="No tienes permisos para realizar esta acci\xF3n":this.error=`Error al guardar: ${t.message||"Error desconocido"}`}})}deactivateEmpresa(t){return y(this,null,function*(){if(!this.canEdit()){this.error="No tienes permisos para desactivar empresas";return}let e=`\xBFEst\xE1 seguro de desactivar la empresa "${t.nombre}"?`;if(confirm(e))try{yield this.supabaseService.updateData("empresas",t.id.toString(),{status:0,updated_by:this.currentUser.id}),yield this.loadEmpresas(),this.success="Empresa desactivada exitosamente",setTimeout(()=>this.success="",3e3)}catch(r){console.error("Error desactivando empresa:",r),this.error="Error al desactivar la empresa",setTimeout(()=>this.error="",5e3)}})}reactivateEmpresa(t){return y(this,null,function*(){if(!this.canEdit()){this.error="No tienes permisos para reactivar empresas";return}let e=`\xBFEst\xE1 seguro de reactivar la empresa "${t.nombre}"?`;if(confirm(e))try{yield this.supabaseService.updateData("empresas",t.id.toString(),{status:1,updated_by:this.currentUser.id}),yield this.loadEmpresas(),this.success="Empresa reactivada exitosamente",setTimeout(()=>this.success="",3e3)}catch(r){console.error("Error reactivando empresa:",r),this.error="Error al reactivar la empresa",setTimeout(()=>this.error="",5e3)}})}agregarContacto(){if(!this.nuevoContacto.nombre||!this.nuevoContacto.cargo){this.error="Nombre y cargo son requeridos para el contacto";return}this.empresaForm.contactos_referencias.push(P({},this.nuevoContacto)),this.nuevoContacto={nombre:"",cargo:"",telefono:"",email:""},this.error=""}removerContacto(t){this.empresaForm.contactos_referencias.splice(t,1)}isResponsableSelected(t){return this.empresaForm.responsables.includes(t)}toggleResponsable(t){if(!this.usuariosSupervisores.find(i=>i.id===t)){this.error="Solo se pueden asignar usuarios con perfil de Supervisor";return}let r=this.empresaForm.responsables.indexOf(t);r>-1?this.empresaForm.responsables.splice(r,1):this.empresaForm.responsables.push(t),this.error=""}getStatusText(t){return t===1?"Activa":"Inactiva"}getStatusColor(t){return t===1?"green":"red"}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formateando fecha:",e),"Fecha inv\xE1lida"}}getNombreUsuario(t){let e=this.usuarios.find(r=>r.id===t);return e?e.full_name||e.username:"Usuario no encontrado"}getResponsablesNombres(t){return!t||t.length===0?"Sin responsables":t.map(r=>this.getNombreUsuario(r)).join(", ")}refreshEmpresas(){return y(this,null,function*(){console.log("Refrescando lista de empresas"),yield this.loadEmpresas()})}clearFilters(){console.log("Limpiando filtros"),this.searchTerm="",this.statusFilter="all",this.sectorFilter="all",this.tamanoFilter="all",this.applyFilters()}canEdit(){return this.currentUser?.id_perfil===1||this.currentUser?.id_perfil===3}canCreate(){return this.canEdit()}trackByEmpresaId(t,e){return e.id||t}getSectoresUnicos(){let t=new Set(this.empresas.map(e=>e.sector).filter(e=>e));return Array.from(t).filter(e=>typeof e=="string").sort()}getTamanoLegible(t){return t?{Pequena:"Peque\xF1a",Mediana:"Mediana",Grande:"Grande",Corporativa:"Corporativa"}[t]||t:"No definido"}getPerfilName(t){switch(t){case 1:return"Administrador";case 2:return"Usuario";case 3:return"Supervisor";case 4:return"Invitado";default:return"Sin asignar"}}haySupervisoresDisponibles(){return this.usuariosSupervisores.length>0}getConteoSupervisores(){return this.usuariosSupervisores.length}validarResponsables(){return this.empresaForm.responsables.filter(e=>!this.usuariosSupervisores.some(r=>r.id===e)).length===0}static \u0275fac=function(e){return new(e||n)(F(We),F(de))};static \u0275cmp=le({type:n,selectors:[["app-empresas"]],standalone:!1,decls:56,vars:13,consts:[["noResponsables",""],[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"flex","space-x-2"],["title","Refrescar lista",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["class","inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","text-sm text-gray-500 italic",4,"ngIf"],[1,"bg-white","rounded-lg","shadow","mb-6","p-6"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4"],[1,"md:col-span-2"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","search","type","text","placeholder","Buscar por nombre, sector o direcci\xF3n...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["for","statusFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","statusFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],["value","all"],["value","active"],["value","inactive"],["for","sectorFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","sectorFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","tamanoFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","tamanoFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],[1,"mt-4","flex","justify-end"],[1,"text-sm","text-indigo-600","hover:text-indigo-800",3,"click"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-6",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-white shadow overflow-hidden sm:rounded-md",4,"ngIf"],["class","fixed inset-0 z-50 overflow-y-auto",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"text-sm","text-gray-500","italic"],[3,"value"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-6"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"ml-auto","pl-3"],[1,"text-red-400","hover:text-red-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"bg-white","shadow","overflow-hidden","sm:rounded-md"],[1,"px-4","py-5","sm:px-6","border-b","border-gray-200"],[1,"flex","justify-between","items-center"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors duration-150",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-12",4,"ngIf"],[1,"hover:bg-gray-50","transition-colors","duration-150"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"h-12","w-12","flex-shrink-0"],[1,"h-12","w-12","rounded-lg","bg-indigo-100","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h2M7 7h10M7 11h4m6 0h2M7 15h10M7 19h4m6 0h2"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[4,"ngIf"],["class","text-xs text-gray-400",4,"ngIf"],[1,"text-sm","text-gray-900"],[1,"px-6","py-4"],[4,"ngIf","ngIfElse"],["class","flex items-center mb-1",4,"ngIf"],["class","flex items-center",4,"ngIf"],["class","text-gray-400 italic",4,"ngIf"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","justify-end","space-x-2"],["title","Ver detalles",1,"text-indigo-600","hover:text-indigo-900","p-1","rounded","hover:bg-indigo-50","transition-colors","duration-150"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["class","text-indigo-600 hover:text-indigo-900 p-1 rounded hover:bg-indigo-50 transition-colors duration-150","title","Editar empresa",3,"click",4,"ngIf"],["class","text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors duration-150","title","Desactivar empresa",3,"click",4,"ngIf"],["class","text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors duration-150","title","Reactivar empresa",3,"click",4,"ngIf"],[1,"text-xs","text-gray-400"],["target","_blank",1,"hover:text-indigo-600",3,"href"],["class","mb-1",4,"ngFor","ngForOf"],[1,"mb-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"text-gray-400","italic"],[1,"flex","items-center","mb-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","text-gray-400","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["title","Editar empresa",1,"text-indigo-600","hover:text-indigo-900","p-1","rounded","hover:bg-indigo-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Desactivar empresa",1,"text-red-600","hover:text-red-900","p-1","rounded","hover:bg-red-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636"],["title","Reactivar empresa",1,"text-green-600","hover:text-green-900","p-1","rounded","hover:bg-green-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6"],["class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-sm","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-4xl","sm:w-full"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mx-auto","flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-indigo-100","sm:mx-0","sm:h-10","sm:w-10"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","w-full"],[1,"mt-2"],[1,"bg-white","px-4","pb-4","sm:px-6","max-h-96","overflow-y-auto"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nombre",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["id","nombre","type","text","name","nombre","required","","placeholder","Ej: TechCorp Guatemala",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","sector",1,"block","text-sm","font-medium","text-gray-700"],["id","sector","name","sector","required","",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value",""],["for","tamano",1,"block","text-sm","font-medium","text-gray-700"],["id","tamano","name","tamano",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","direccion",1,"block","text-sm","font-medium","text-gray-700"],["id","direccion","type","text","name","direccion","placeholder","Ej: Zona 10, 6a Avenida 12-25",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","telefono",1,"block","text-sm","font-medium","text-gray-700"],["id","telefono","type","tel","name","telefono","placeholder","+502 2234-5678",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","type","email","name","email","placeholder","contacto@empresa.com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","sitio_web",1,"block","text-sm","font-medium","text-gray-700"],["id","sitio_web","type","url","name","sitio_web","placeholder","https://www.empresa.com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","descripcion",1,"block","text-sm","font-medium","text-gray-700"],["id","descripcion","rows","3","name","descripcion","placeholder","Describe la empresa, sus servicios, misi\xF3n, etc.",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","status",1,"block","text-sm","font-medium","text-gray-700"],["id","status","name","status",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","1"],["value","0"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"text-xs","text-gray-500"],["class","bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4",4,"ngIf"],["class","bg-blue-50 border border-blue-200 rounded-md p-3 mb-4",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-3",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","mt-3 p-2 bg-green-50 rounded-md border border-green-200",4,"ngIf"],[1,"mt-2","text-xs","text-gray-500"],["class","mb-4 space-y-2",4,"ngIf"],[1,"bg-blue-50","p-4","rounded-md","border","border-blue-200"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],["type","text","name","nuevoContactoNombre","placeholder","Nombre completo",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["type","text","name","nuevoContactoCargo","placeholder","Cargo/Posici\xF3n",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["type","tel","name","nuevoContactoTelefono","placeholder","Tel\xE9fono",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["type","email","name","nuevoContactoEmail","placeholder","Email",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mt-3","flex","justify-end"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","leading-4","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","mt-4 bg-red-50 border border-red-200 rounded-md p-3",4,"ngIf"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-indigo-600","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:ml-3","sm:w-auto","sm:text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["type","button","type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],[1,"bg-yellow-50","border","border-yellow-200","rounded-md","p-4","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-yellow-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"],[1,"text-sm","text-yellow-700"],[1,"bg-blue-50","border","border-blue-200","rounded-md","p-3","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-blue-400","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","text-blue-700"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-3","max-h-32","overflow-y-auto","border","border-gray-200","rounded-md","p-3"],["class","flex items-center",4,"ngFor","ngForOf"],["type","checkbox",1,"h-4","w-4","text-indigo-600","focus:ring-indigo-500","border-gray-300","rounded",3,"change","id","checked"],[1,"ml-2","text-sm","text-gray-700","cursor-pointer",3,"for"],[1,"text-xs","text-blue-600","font-medium"],[1,"text-xs","text-gray-500","block"],[1,"text-xs","text-gray-500","italic"],[1,"mt-3","p-2","bg-green-50","rounded-md","border","border-green-200"],[1,"text-xs","text-green-700"],[1,"flex","flex-wrap","gap-1","mt-1"],["class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"mb-4","space-y-2"],["class","bg-gray-50 p-3 rounded-md border border-gray-200",4,"ngFor","ngForOf"],[1,"bg-gray-50","p-3","rounded-md","border","border-gray-200"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"text-xs","text-gray-600"],[1,"text-xs","text-gray-500","mt-1"],["type","button","title","Eliminar contacto",1,"text-red-600","hover:text-red-800","p-1",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"mt-4","bg-red-50","border","border-red-200","rounded-md","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),d(5,"Gesti\xF3n de Empresas"),l(),a(6,"p",5),d(7),l()(),a(8,"div",6)(9,"button",7),E("click",function(){return r.refreshEmpresas()}),T(),a(10,"svg",8),_(11,"path",9),l(),d(12," Refrescar "),l(),C(13,V4,4,0,"button",10)(14,L4,2,0,"div",11),l()()(),V(),a(15,"div",12)(16,"div",13)(17,"div",14)(18,"label",15),d(19," Buscar "),l(),a(20,"div",16)(21,"input",17),A("ngModelChange",function(o){return O(r.searchTerm,o)||(r.searchTerm=o),o}),E("input",function(){return r.onSearch()}),l(),a(22,"div",18),T(),a(23,"svg",19),_(24,"path",20),l()()()(),V(),a(25,"div")(26,"label",21),d(27," Estado "),l(),a(28,"select",22),A("ngModelChange",function(o){return O(r.statusFilter,o)||(r.statusFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(29,"option",23),d(30,"Todas"),l(),a(31,"option",24),d(32,"Activas"),l(),a(33,"option",25),d(34,"Inactivas"),l()()(),a(35,"div")(36,"label",26),d(37," Sector "),l(),a(38,"select",27),A("ngModelChange",function(o){return O(r.sectorFilter,o)||(r.sectorFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(39,"option",23),d(40,"Todos"),l(),C(41,j4,2,2,"option",28),l()(),a(42,"div")(43,"label",29),d(44," Tama\xF1o "),l(),a(45,"select",30),A("ngModelChange",function(o){return O(r.tamanoFilter,o)||(r.tamanoFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(46,"option",23),d(47,"Todos"),l(),C(48,U4,2,2,"option",28),l()()(),a(49,"div",31)(50,"button",32),E("click",function(){return r.clearFilters()}),d(51," Limpiar filtros "),l()()(),C(52,B4,11,1,"div",33)(53,$4,5,0,"div",34)(54,o5,26,7,"div",35),l(),C(55,w5,111,28,"div",36)),e&2&&(p(7),I(" Administra las empresas reclutadoras del sistema - Total: ",r.empresas.length," "),p(6),h("ngIf",r.canCreate()),p(),h("ngIf",!r.canCreate()),p(7),k("ngModel",r.searchTerm),p(7),k("ngModel",r.statusFilter),p(10),k("ngModel",r.sectorFilter),p(3),h("ngForOf",r.sectoresDisponibles),p(4),k("ngModel",r.tamanoFilter),p(3),h("ngForOf",r.tamanosEmpresa),p(4),h("ngIf",r.error),p(),h("ngIf",r.loading),p(),h("ngIf",!r.loading),p(),h("ngIf",r.showModal))},dependencies:[yt,Ce,pe,Ye,Xe,et,Ee,Ze,ke,qe,Ue,De,je],encapsulation:2})};var C5=(n,t)=>({"bg-green-100 text-green-800":n,"bg-red-100 text-red-800":t});function E5(n,t){if(n&1){let e=N();a(0,"button",40),E("click",function(){x(e);let i=g();return w(i.openCreateModal())}),T(),a(1,"svg",41),_(2,"path",42),l(),d(3," Nueva Empresa "),l()}}function S5(n,t){if(n&1&&(a(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46)(4,"div",47),T(),a(5,"svg",48),_(6,"path",49),l()(),V(),a(7,"div",50)(8,"dl")(9,"dt",51),d(10,"Total Empresas"),l(),a(11,"dd",52),d(12),l()()()()()(),a(13,"div",44)(14,"div",45)(15,"div",46)(16,"div",47),T(),a(17,"svg",53),_(18,"path",54),l()(),V(),a(19,"div",50)(20,"dl")(21,"dt",51),d(22,"Empresas Activas"),l(),a(23,"dd",52),d(24),l()()()()()(),a(25,"div",44)(26,"div",45)(27,"div",46)(28,"div",47),T(),a(29,"svg",55),_(30,"path",56),l()(),V(),a(31,"div",50)(32,"dl")(33,"dt",51),d(34,"Empresas Inactivas"),l(),a(35,"dd",52),d(36),l()()()()()(),a(37,"div",44)(38,"div",45)(39,"div",46)(40,"div",47),T(),a(41,"svg",57),_(42,"path",58),l()(),V(),a(43,"div",50)(44,"dl")(45,"dt",51),d(46,"Mi Rol"),l(),a(47,"dd",59),d(48),l()()()()()()()),n&2){let e=g();p(12),M(e.getUserStats().totalEmpresas),p(12),M(e.getUserStats().empresasActivas),p(12),M(e.getUserStats().empresasInactivas),p(12),M(e.getUserStats().role)}}function M5(n,t){if(n&1&&(a(0,"option",60),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),M(e)}}function I5(n,t){n&1&&(a(0,"span",61),T(),a(1,"svg",62),_(2,"path",63),l()())}function D5(n,t){n&1&&(a(0,"span",64),T(),a(1,"svg",62),_(2,"path",63),l(),d(3," Supervisor - Puede gestionar empresas asignadas "),l())}function T5(n,t){if(n&1){let e=N();a(0,"div",65)(1,"div",66),T(),a(2,"svg",67),_(3,"path",68),l(),V(),a(4,"div",69)(5,"p",70),d(6),l()(),a(7,"div",71)(8,"button",72),E("click",function(){x(e);let i=g();return w(i.error="")}),T(),a(9,"svg",73),_(10,"path",74),l()()()()()}if(n&2){let e=g();p(6),M(e.error)}}function k5(n,t){if(n&1){let e=N();a(0,"div",75)(1,"div",66),T(),a(2,"svg",76),_(3,"path",54),l(),V(),a(4,"div",69)(5,"p",77),d(6),l()(),a(7,"div",71)(8,"button",78),E("click",function(){x(e);let i=g();return w(i.success="")}),T(),a(9,"svg",73),_(10,"path",74),l()()()()()}if(n&2){let e=g();p(6),M(e.success)}}function A5(n,t){n&1&&(a(0,"div",79)(1,"div",80),_(2,"div",81),a(3,"p",82),d(4,"Cargando empresas..."),l()()())}function O5(n,t){n&1&&(a(0,"span",116),T(),a(1,"svg",117),_(2,"path",63),l(),d(3," Soy Responsable "),l())}function P5(n,t){if(n&1&&(a(0,"div",119)(1,"div",120)(2,"span",121),d(3),l()(),a(4,"span",122),d(5),l()()),n&2){let e=t.$implicit;p(3),I(" ",(e.full_name==null?null:e.full_name.charAt(0))||(e.username==null?null:e.username.charAt(0))," "),p(2),M(e.full_name||e.username)}}function F5(n,t){if(n&1&&(a(0,"div"),C(1,P5,6,2,"div",118),l()),n&2){let e=g().$implicit;p(),h("ngForOf",e.responsables_info)}}function N5(n,t){n&1&&(a(0,"span",123),d(1,"Sin responsables"),l())}function R5(n,t){if(n&1&&(a(0,"div"),T(),a(1,"svg",124),_(2,"path",125),l(),d(3),l()),n&2){let e=g().$implicit;p(3),I(" ",e.email," ")}}function V5(n,t){if(n&1&&(a(0,"div"),T(),a(1,"svg",124),_(2,"path",126),l(),d(3),l()),n&2){let e=g().$implicit;p(3),I(" ",e.telefono," ")}}function L5(n,t){if(n&1){let e=N();a(0,"button",127),E("click",function(){x(e);let i=g().$implicit,o=g(2);return w(o.openEditModal(i))}),T(),a(1,"svg",128),_(2,"path",129),l()()}}function j5(n,t){if(n&1){let e=N();a(0,"button",130),E("click",function(){x(e);let i=g().$implicit,o=g(2);return w(o.deactivateEmpresa(i))}),T(),a(1,"svg",128),_(2,"path",131),l()()}}function U5(n,t){if(n&1){let e=N();a(0,"button",132),E("click",function(){x(e);let i=g().$implicit,o=g(2);return w(o.reactivateEmpresa(i))}),T(),a(1,"svg",128),_(2,"path",54),l()()}}function B5(n,t){n&1&&(a(0,"span",133),d(1," Solo lectura "),l())}function $5(n,t){if(n&1&&(a(0,"tr",95)(1,"td",96)(2,"div",46)(3,"div",97)(4,"div",98),T(),a(5,"svg",99),_(6,"path",49),l()()(),V(),a(7,"div",100)(8,"div",59),d(9),l(),a(10,"div",87),C(11,O5,4,0,"span",101),d(12),l()()()(),a(13,"td",96)(14,"div",102),d(15),l(),a(16,"div",87),d(17),l()(),a(18,"td",103)(19,"div",102),C(20,F5,2,1,"div",104)(21,N5,2,0,"ng-template",null,0,Tn),l()(),a(23,"td",96)(24,"span",105),T(),a(25,"svg",106),_(26,"circle",107),l(),d(27),l()(),V(),a(28,"td",108),C(29,R5,4,1,"div",109)(30,V5,4,1,"div",109),l(),a(31,"td",110)(32,"div",111),C(33,L5,3,0,"button",112)(34,j5,3,0,"button",113)(35,U5,3,0,"button",114)(36,B5,2,0,"span",115),l()()()),n&2){let e=t.$implicit,r=Fe(22),i=g(2);p(9),M(e.nombre),p(2),h("ngIf",i.isResponsableOf(e)),p(),I(" ID: ",e.id," "),p(3),M(e.sector),p(2),M(i.getTamanoLegible(e.tamano_empresa)),p(3),h("ngIf",e.responsables_info&&e.responsables_info.length>0)("ngIfElse",r),p(4),h("ngClass",Zi(15,C5,e.status===1,e.status===0)),p(3),I(" ",i.getStatusText(e.status)," "),p(2),h("ngIf",e.email),p(),h("ngIf",e.telefono),p(3),h("ngIf",i.canEditEmpresa(e)),p(),h("ngIf",i.canEditEmpresa(e)&&e.status===1),p(),h("ngIf",i.canEditEmpresa(e)&&e.status===0),p(),h("ngIf",!i.canEditEmpresa(e))}}function H5(n,t){if(n&1){let e=N();a(0,"button",141),E("click",function(){x(e);let i=g(3);return w(i.openCreateModal())}),d(1," Crear primera empresa "),l()}}function z5(n,t){if(n&1){let e=N();a(0,"button",142),E("click",function(){x(e);let i=g(3);return w(i.clearFilters())}),d(1," Limpiar filtros "),l()}}function G5(n,t){if(n&1&&(a(0,"div",134),T(),a(1,"svg",135),_(2,"path",49),l(),V(),a(3,"h3",136),d(4,"No hay empresas"),l(),a(5,"p",137),d(6),l(),a(7,"div",138),C(8,H5,2,0,"button",139)(9,z5,2,0,"button",140),l()()),n&2){let e=g(2);p(6),I(" ",e.empresasAsignadas.length===0?"No tienes empresas asignadas como responsable.":"No se encontraron empresas con los filtros aplicados."," "),p(2),h("ngIf",e.canCreateEmpresa()&&e.empresasAsignadas.length===0),p(),h("ngIf",e.empresasAsignadas.length>0)}}function W5(n,t){if(n&1&&(a(0,"div",83)(1,"div",84)(2,"div",85)(3,"h3",86),d(4),l(),a(5,"span",87),d(6),l()()(),a(7,"div",88)(8,"table",89)(9,"thead",90)(10,"tr")(11,"th",91),d(12," Empresa "),l(),a(13,"th",91),d(14," Sector / Tama\xF1o "),l(),a(15,"th",91),d(16," Responsables "),l(),a(17,"th",91),d(18," Estado "),l(),a(19,"th",91),d(20," Contacto "),l(),a(21,"th",91),d(22," Acciones "),l()()(),a(23,"tbody",92),C(24,$5,37,18,"tr",93),l()(),C(25,G5,10,3,"div",94),l()()),n&2){let e=g();p(4),Me(" Mis Empresas (",e.filteredEmpresas.length," de ",e.empresasAsignadas.length,") "),p(2),Me(" Mostrando ",e.filteredEmpresas.length," resultado",e.filteredEmpresas.length!==1?"s":""," "),p(18),h("ngForOf",e.filteredEmpresas)("ngForTrackBy",e.trackByEmpresaId),p(),h("ngIf",e.filteredEmpresas.length===0&&!e.loading)}}function q5(n,t){if(n&1&&(a(0,"span"),d(1),l()),n&2){let e=g().$implicit;p(),I("\u{1F4DE} ",e.telefono,"")}}function Y5(n,t){if(n&1&&(a(0,"span"),d(1),l()),n&2){let e=g().$implicit;p(),I("\u2709\uFE0F ",e.email,"")}}function Z5(n,t){if(n&1){let e=N();a(0,"div",188)(1,"div",189)(2,"p",59),d(3),l(),a(4,"p",190),d(5),l(),a(6,"div",191),C(7,q5,2,1,"span",109)(8,Y5,2,1,"span",109),l()(),a(9,"button",192),E("click",function(){let i=x(e).index,o=g(3);return w(o.removerContacto(i))}),T(),a(10,"svg",193),_(11,"path",194),l()()()}if(n&2){let e=t.$implicit;p(3),M(e.nombre),p(2),M(e.cargo),p(2),h("ngIf",e.telefono),p(),h("ngIf",e.email)}}function Q5(n,t){if(n&1&&(a(0,"div",186),C(1,Z5,12,4,"div",187),l()),n&2){let e=g(2);p(),h("ngForOf",e.empresaForm.contactos_referencias)}}function K5(n,t){if(n&1&&(a(0,"div",195)(1,"div",66),T(),a(2,"svg",67),_(3,"path",68),l(),V(),a(4,"div",69)(5,"p",70),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.error)}}function J5(n,t){if(n&1&&(a(0,"div",196)(1,"div",66),T(),a(2,"svg",76),_(3,"path",54),l(),V(),a(4,"div",69)(5,"p",77),d(6),l()()()()),n&2){let e=g(2);p(6),M(e.success)}}function X5(n,t){n&1&&(T(),a(0,"svg",197),_(1,"path",10),l())}function eA(n,t){if(n&1){let e=N();a(0,"div",143)(1,"div",144)(2,"div",145),E("click",function(){x(e);let i=g();return w(i.closeModal())}),l(),a(3,"span",146),d(4,"\u200B"),l(),a(5,"div",147)(6,"div",148)(7,"div",149)(8,"div",150),T(),a(9,"svg",99),_(10,"path",49),l()(),V(),a(11,"div",151)(12,"h3",86),d(13),l(),a(14,"div",152)(15,"p",87),d(16),l()()()()(),a(17,"div",153)(18,"form",154)(19,"div",155)(20,"div",15)(21,"label",156),d(22," Nombre de la Empresa "),a(23,"span",157),d(24,"*"),l()(),a(25,"input",158),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.nombre,i)||(o.empresaForm.nombre=i),w(i)}),l()()(),a(26,"div",155)(27,"div")(28,"label",159),d(29," Email de Contacto "),l(),a(30,"input",160),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.email,i)||(o.empresaForm.email=i),w(i)}),l()(),a(31,"div")(32,"label",161),d(33," Tel\xE9fono "),l(),a(34,"input",162),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.telefono,i)||(o.empresaForm.telefono=i),w(i)}),l()(),a(35,"div",15)(36,"label",163),d(37," Direcci\xF3n "),l(),a(38,"input",164),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.direccion,i)||(o.empresaForm.direccion=i),w(i)}),l()(),a(39,"div",15)(40,"label",165),d(41," Sitio Web "),l(),a(42,"input",166),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.sitio_web,i)||(o.empresaForm.sitio_web=i),w(i)}),l()()(),a(43,"div")(44,"label",167),d(45," Descripci\xF3n de la Empresa "),l(),a(46,"textarea",168),A("ngModelChange",function(i){x(e);let o=g();return O(o.empresaForm.descripcion.descripcion,i)||(o.empresaForm.descripcion.descripcion=i),w(i)}),l()(),a(47,"div",138)(48,"label",169),d(49," Contactos de Referencia "),l(),C(50,Q5,2,1,"div",170),a(51,"div",171)(52,"h4",172),d(53,"Agregar Nuevo Contacto"),l(),a(54,"div",173)(55,"div")(56,"input",174),A("ngModelChange",function(i){x(e);let o=g();return O(o.nuevoContacto.nombre,i)||(o.nuevoContacto.nombre=i),w(i)}),l()(),a(57,"div")(58,"input",175),A("ngModelChange",function(i){x(e);let o=g();return O(o.nuevoContacto.cargo,i)||(o.nuevoContacto.cargo=i),w(i)}),l()(),a(59,"div")(60,"input",176),A("ngModelChange",function(i){x(e);let o=g();return O(o.nuevoContacto.telefono,i)||(o.nuevoContacto.telefono=i),w(i)}),l()(),a(61,"div")(62,"input",177),A("ngModelChange",function(i){x(e);let o=g();return O(o.nuevoContacto.email,i)||(o.nuevoContacto.email=i),w(i)}),l()()(),a(63,"div",178)(64,"button",179),E("click",function(){x(e);let i=g();return w(i.agregarContacto())}),T(),a(65,"svg",9),_(66,"path",42),l(),d(67," Agregar Contacto "),l()()()()(),C(68,K5,7,1,"div",180)(69,J5,7,1,"div",181),l(),V(),a(70,"div",182)(71,"button",183),E("click",function(){x(e);let i=g();return w(i.saveEmpresa())}),C(72,X5,2,0,"svg",184),d(73),l(),a(74,"button",185),E("click",function(){x(e);let i=g();return w(i.closeModal())}),d(75," Cancelar "),l()()()()()}if(n&2){let e=g();p(13),I(" ",e.modalMode==="create"?"Crear Nueva Empresa":"Editar Empresa"," "),p(3),I(" ",e.modalMode==="create"?"Complete la informaci\xF3n para registrar una nueva empresa.":"Modifique la informaci\xF3n de la empresa seleccionada."," "),p(9),k("ngModel",e.empresaForm.nombre),p(5),k("ngModel",e.empresaForm.email),p(4),k("ngModel",e.empresaForm.telefono),p(4),k("ngModel",e.empresaForm.direccion),p(4),k("ngModel",e.empresaForm.sitio_web),p(4),k("ngModel",e.empresaForm.descripcion.descripcion),p(4),h("ngIf",e.empresaForm.contactos_referencias.length>0),p(6),k("ngModel",e.nuevoContacto.nombre),p(2),k("ngModel",e.nuevoContacto.cargo),p(2),k("ngModel",e.nuevoContacto.telefono),p(2),k("ngModel",e.nuevoContacto.email),p(6),h("ngIf",e.error),p(),h("ngIf",e.success),p(2),h("disabled",!e.empresaForm.nombre||!e.empresaForm.sector||e.empresaForm.responsables.length===0),p(),h("ngIf",e.loading),p(),I(" ",e.modalMode==="create"?"Crear Empresa":"Guardar Cambios"," ")}}var Od=class n{constructor(t,e){this.supabaseService=t;this.authService=e}empresas=[];empresasAsignadas=[];filteredEmpresas=[];usuarios=[];usuariosSupervisores=[];loading=!0;error="";success="";searchTerm="";showModal=!1;modalMode="create";selectedEmpresa=null;currentUser=null;empresaForm={nombre:"",descripcion:{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:[],contactos_referencias:[],direccion:"",telefono:"",email:"",sitio_web:"",sector:"",tamano_empresa:"Pequena",status:1};nuevoContacto={nombre:"",cargo:"",telefono:"",email:""};statusFilter="all";sectorFilter="all";tamanoFilter="all";responsableFilter="mis-empresas";sectoresDisponibles=["Tecnologia","Consultoria IT","Finanzas","Salud","Educacion","Retail","Manufactura","Servicios","Gobierno","ONG","Otro"];tamanosEmpresa=["Pequena","Mediana","Grande","Corporativa"];ngOnInit(){return y(this,null,function*(){if(console.log("GestionarEmpresasComponent inicializado"),this.currentUser=this.authService.getCurrentUser(),!this.currentUser){this.error="Usuario no autenticado",this.loading=!1;return}if(!this.canAccessModule()){this.error="No tienes permisos para acceder a este m\xF3dulo",this.loading=!1;return}yield Promise.all([this.loadEmpresas(),this.loadUsuarios()])})}canAccessModule(){return this.currentUser?this.currentUser.id_perfil===1||this.currentUser.id_perfil===3:!1}isResponsableOf(t){return!this.currentUser||!t.responsables?!1:t.responsables.includes(this.currentUser.id)}canEditEmpresa(t){return this.currentUser?this.currentUser.id_perfil===1?!0:this.isResponsableOf(t):!1}canCreateEmpresa(){return this.currentUser?this.currentUser.id_perfil===1||this.currentUser.id_perfil===3:!1}loadEmpresas(){return y(this,null,function*(){this.loading=!0,this.error="";try{console.log("Cargando empresas desde la base de datos...");let{data:t,error:e}=yield this.supabaseService.client.from("empresas").select(`
          *,
          profiles!empresas_created_by_fkey(username, full_name)
        `).order("created_at",{ascending:!1});if(e)throw e;console.log("Datos recibidos:",t),this.empresas=yield Promise.all((t||[]).map(r=>y(this,null,function*(){let i=[];if(r.responsables&&r.responsables.length>0){let{data:o}=yield this.supabaseService.client.from("profiles").select("id, username, full_name, id_perfil").in("id",r.responsables).eq("status",1);o&&i.push(...o)}return G(P({},r),{responsables_info:i})}))),this.filterEmpresasByPermissions(),console.log("Empresas cargadas exitosamente:",this.empresas.length),console.log("Empresas donde soy responsable:",this.empresasAsignadas.length)}catch(t){console.error("Error cargando empresas:",t),this.error="Error al cargar las empresas. Verifique la conexi\xF3n a la base de datos."}finally{this.loading=!1}})}filterEmpresasByPermissions(){this.currentUser&&(this.currentUser.id_perfil===1?this.empresasAsignadas=[...this.empresas]:this.empresasAsignadas=this.empresas.filter(t=>this.isResponsableOf(t)),this.filteredEmpresas=[...this.empresasAsignadas],this.applyFilters())}loadUsuarios(){return y(this,null,function*(){try{let t=yield this.supabaseService.getData("profiles");this.usuarios=(t||[]).filter(e=>e.status===1),this.usuariosSupervisores=this.usuarios.filter(e=>e.id_perfil===3),console.log("Usuarios cargados:",this.usuarios.length),console.log("Supervisores disponibles:",this.usuariosSupervisores.length)}catch(t){console.error("Error cargando usuarios:",t)}})}applyFilters(){let t=[...this.empresasAsignadas];if(this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(r=>r.nombre?.toLowerCase().includes(e)||r.sector?.toLowerCase().includes(e)||r.direccion?.toLowerCase().includes(e))}this.statusFilter==="active"?t=t.filter(e=>e.status===1):this.statusFilter==="inactive"&&(t=t.filter(e=>e.status===0)),this.sectorFilter!=="all"&&(t=t.filter(e=>e.sector===this.sectorFilter)),this.tamanoFilter!=="all"&&(t=t.filter(e=>e.tamano_empresa===this.tamanoFilter)),this.responsableFilter==="mis-empresas"&&(t=t.filter(e=>this.isResponsableOf(e))),this.filteredEmpresas=t,console.log("Empresas filtradas:",this.filteredEmpresas.length)}onSearch(){this.applyFilters()}onFilterChange(){this.applyFilters()}openCreateModal(){if(!this.canCreateEmpresa()){this.error="No tienes permisos para crear empresas";return}if(this.usuariosSupervisores.length===0){this.error="No hay usuarios con perfil de Supervisor disponibles para asignar como responsables.";return}this.modalMode="create",this.empresaForm={nombre:"",descripcion:{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:[this.currentUser.id],contactos_referencias:[],direccion:"",telefono:"",email:"",sitio_web:"",sector:"",tamano_empresa:"Pequena",status:1},this.error="",this.success="",this.showModal=!0}openEditModal(t){if(!this.canEditEmpresa(t)){this.error="No tienes permisos para editar esta empresa";return}this.modalMode="edit",this.selectedEmpresa=t;let e=t.descripcion;if(typeof e=="string")try{e=JSON.parse(e)}catch{e={descripcion:e,sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""}}this.empresaForm=G(P({},t),{descripcion:e||{descripcion:"",sector:"",tamano:"",ubicacion:"",sitio_web:"",fundacion:""},responsables:t.responsables||[],contactos_referencias:t.contactos_referencias||[]}),this.error="",this.success="",this.showModal=!0}closeModal(){this.showModal=!1,this.selectedEmpresa=null,this.error="",this.success="",this.nuevoContacto={nombre:"",cargo:"",telefono:"",email:""}}saveEmpresa(){return y(this,null,function*(){try{if(console.log("Guardando empresa:",this.empresaForm),this.error="",this.success="",!this.empresaForm.nombre||this.empresaForm.nombre.trim()===""){this.error="El nombre de la empresa es requerido";return}if(!this.empresaForm.sector){this.error="El sector es requerido";return}if(!this.empresaForm.responsables||this.empresaForm.responsables.length===0){this.error="Debe asignar al menos un responsable";return}let t={nombre:this.empresaForm.nombre.trim(),descripcion:this.empresaForm.descripcion,responsables:this.empresaForm.responsables||[],contactos_referencias:this.empresaForm.contactos_referencias||[],direccion:this.empresaForm.direccion?.trim()||null,telefono:this.empresaForm.telefono?.trim()||null,email:this.empresaForm.email?.trim()||null,sitio_web:this.empresaForm.sitio_web?.trim()||null,sector:this.empresaForm.sector,tamano_empresa:this.empresaForm.tamano_empresa,status:this.empresaForm.status,updated_by:this.currentUser?.id};if(this.modalMode==="create"){if(!this.canCreateEmpresa()){this.error="No tienes permisos para crear empresas";return}let{data:e}=yield this.supabaseService.client.from("empresas").select("nombre").eq("nombre",this.empresaForm.nombre.trim()).single();if(e){this.error="Ya existe una empresa con este nombre";return}let r=G(P({},t),{created_by:this.currentUser?.id});console.log("Creando empresa:",r),yield this.supabaseService.insertData("empresas",r),this.success="Empresa creada exitosamente",console.log("Empresa creada exitosamente")}else{if(!this.canEditEmpresa(this.selectedEmpresa)){this.error="No tienes permisos para editar esta empresa";return}console.log("Actualizando empresa:",t),yield this.supabaseService.updateData("empresas",this.selectedEmpresa.id.toString(),t),this.success="Empresa actualizada exitosamente",console.log("Empresa actualizada exitosamente")}yield this.loadEmpresas(),setTimeout(()=>{this.closeModal()},1500)}catch(t){console.error("Error guardando empresa:",t),this.error="Error al guardar la empresa. Intente nuevamente."}})}deactivateEmpresa(t){return y(this,null,function*(){if(!this.canEditEmpresa(t)){this.error="No tienes permisos para desactivar esta empresa";return}let e=`\xBFEst\xE1 seguro de desactivar la empresa "${t.nombre}"?`;if(confirm(e))try{console.log("Desactivando empresa:",t.nombre),yield this.supabaseService.updateData("empresas",t.id.toString(),{status:0,updated_by:this.currentUser?.id}),yield this.loadEmpresas(),this.success="Empresa desactivada exitosamente",setTimeout(()=>this.success="",3e3)}catch(r){console.error("Error desactivando empresa:",r),this.error="Error al desactivar la empresa",setTimeout(()=>this.error="",5e3)}})}reactivateEmpresa(t){return y(this,null,function*(){if(!this.canEditEmpresa(t)){this.error="No tienes permisos para reactivar esta empresa";return}let e=`\xBFEst\xE1 seguro de reactivar la empresa "${t.nombre}"?`;if(confirm(e))try{console.log("Reactivando empresa:",t.nombre),yield this.supabaseService.updateData("empresas",t.id.toString(),{status:1,updated_by:this.currentUser?.id}),yield this.loadEmpresas(),this.success="Empresa reactivada exitosamente",setTimeout(()=>this.success="",3e3)}catch(r){console.error("Error reactivando empresa:",r),this.error="Error al reactivar la empresa",setTimeout(()=>this.error="",5e3)}})}agregarContacto(){if(!this.nuevoContacto.nombre||!this.nuevoContacto.cargo){this.error="Nombre y cargo son requeridos para el contacto";return}this.empresaForm.contactos_referencias.push(P({},this.nuevoContacto)),this.nuevoContacto={nombre:"",cargo:"",telefono:"",email:""},this.error=""}removerContacto(t){this.empresaForm.contactos_referencias.splice(t,1)}isResponsableSelected(t){return this.empresaForm.responsables.includes(t)}toggleResponsable(t){let e=this.empresaForm.responsables.indexOf(t);if(e>-1){if(this.empresaForm.responsables.length===1){this.error="Debe haber al menos un responsable asignado";return}this.empresaForm.responsables.splice(e,1)}else this.empresaForm.responsables.push(t);this.error=""}getStatusText(t){return t===1?"Activa":"Inactiva"}getStatusColor(t){return t===1?"green":"red"}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formateando fecha:",e),"Fecha inv\xE1lida"}}getNombreUsuario(t){let e=this.usuarios.find(r=>r.id===t);return e?e.full_name||e.username:"Usuario no encontrado"}getResponsablesNombres(t){return!t||t.length===0?"Sin responsables":t.map(r=>this.getNombreUsuario(r)).join(", ")}refreshEmpresas(){return y(this,null,function*(){console.log("Refrescando lista de empresas"),yield this.loadEmpresas()})}clearFilters(){console.log("Limpiando filtros"),this.searchTerm="",this.statusFilter="all",this.sectorFilter="all",this.tamanoFilter="all",this.responsableFilter="mis-empresas",this.applyFilters()}trackByEmpresaId(t,e){return e.id||t}getSectoresUnicos(){let t=new Set(this.empresas.map(e=>e.sector).filter(e=>typeof e=="string"&&!!e));return Array.from(t).sort()}getTamanoLegible(t){return t?{Pequena:"Peque\xF1a",Mediana:"Mediana",Grande:"Grande",Corporativa:"Corporativa"}[t]||t:"No definido"}getPerfilName(t){switch(t){case 1:return"Administrador";case 2:return"Usuario";case 3:return"Supervisor";case 4:return"Invitado";default:return"Sin asignar"}}haySupervisoresDisponibles(){return this.usuariosSupervisores.length>0}getConteoSupervisores(){return this.usuariosSupervisores.length}getUserStats(){return this.currentUser?{totalEmpresas:this.empresasAsignadas.length,empresasActivas:this.empresasAsignadas.filter(t=>t.status===1).length,empresasInactivas:this.empresasAsignadas.filter(t=>t.status===0).length,role:this.getPerfilName(this.currentUser.id_perfil)}:null}static \u0275fac=function(e){return new(e||n)(F(We),F(de))};static \u0275cmp=le({type:n,selectors:[["app-gestionar-empresas"]],standalone:!1,decls:55,vars:14,consts:[["noResponsables",""],[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"font-medium","text-blue-600"],[1,"flex","space-x-2"],["title","Refrescar lista",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["class","inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",4,"ngIf"],[1,"bg-white","rounded-lg","shadow","mb-6","p-6"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4"],[1,"md:col-span-2"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","search","type","text","placeholder","Buscar por nombre, sector o direcci\xF3n...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["for","statusFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","statusFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],["value","all"],["value","active"],["value","inactive"],["for","sectorFilter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","sectorFilter",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-4","flex","justify-between","items-center"],[1,"text-sm","text-indigo-600","hover:text-indigo-800",3,"click"],[1,"text-xs","text-gray-500"],["class","text-green-600",4,"ngIf"],["class","text-blue-600",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-md p-4 mb-6",4,"ngIf"],["class","bg-green-50 border border-green-200 rounded-md p-4 mb-6",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-white shadow overflow-hidden sm:rounded-md",4,"ngIf"],["class","fixed inset-0 z-50 overflow-y-auto",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"-ml-1","mr-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"mt-6","grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"bg-white","overflow-hidden","shadow","rounded-lg"],[1,"p-5"],[1,"flex","items-center"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h2M7 7h10M7 11h10M7 15h10"],[1,"ml-5","w-0","flex-1"],[1,"text-sm","font-medium","text-gray-500","truncate"],[1,"text-lg","font-medium","text-gray-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-sm","font-medium","text-gray-900"],[3,"value"],[1,"text-green-600"],["fill","currentColor","viewBox","0 0 20 20",1,"inline","h-3","w-3","mr-1"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"text-blue-600"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-6"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"ml-auto","pl-3"],[1,"text-red-400","hover:text-red-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"bg-green-50","border","border-green-200","rounded-md","p-4","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-green-400"],[1,"text-sm","text-green-700"],[1,"text-green-400","hover:text-green-600",3,"click"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-indigo-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"bg-white","shadow","overflow-hidden","sm:rounded-md"],[1,"px-4","py-5","sm:px-6","border-b","border-gray-200"],[1,"flex","justify-between","items-center"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors duration-150",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-12",4,"ngIf"],[1,"hover:bg-gray-50","transition-colors","duration-150"],[1,"px-6","py-4","whitespace-nowrap"],[1,"h-12","w-12","flex-shrink-0"],[1,"h-12","w-12","rounded-lg","bg-indigo-100","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-indigo-600"],[1,"ml-4"],["class","inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 mr-2",4,"ngIf"],[1,"text-sm","text-gray-900"],[1,"px-6","py-4"],[4,"ngIf","ngIfElse"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],["fill","currentColor","viewBox","0 0 8 8",1,"w-2","h-2","mr-1"],["cx","4","cy","4","r","3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","justify-end","space-x-2"],["class","text-indigo-600 hover:text-indigo-900 p-1 rounded hover:bg-indigo-50 transition-colors duration-150","title","Editar empresa",3,"click",4,"ngIf"],["class","text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors duration-150","title","Desactivar empresa",3,"click",4,"ngIf"],["class","text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors duration-150","title","Reactivar empresa",3,"click",4,"ngIf"],["class","text-gray-400 text-xs px-2 py-1 bg-gray-100 rounded",4,"ngIf"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","bg-blue-100","text-blue-800","mr-2"],["fill","currentColor","viewBox","0 0 20 20",1,"h-3","w-3","mr-1"],["class","flex items-center mb-1",4,"ngFor","ngForOf"],[1,"flex","items-center","mb-1"],[1,"h-6","w-6","bg-blue-100","rounded-full","flex","items-center","justify-center","mr-2"],[1,"text-xs","font-medium","text-blue-600"],[1,"text-xs"],[1,"text-xs","text-gray-500","italic"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"inline","h-3","w-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["title","Editar empresa",1,"text-indigo-600","hover:text-indigo-900","p-1","rounded","hover:bg-indigo-50","transition-colors","duration-150",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Desactivar empresa",1,"text-red-600","hover:text-red-900","p-1","rounded","hover:bg-red-50","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636"],["title","Reactivar empresa",1,"text-green-600","hover:text-green-900","p-1","rounded","hover:bg-green-50","transition-colors","duration-150",3,"click"],[1,"text-gray-400","text-xs","px-2","py-1","bg-gray-100","rounded"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6"],["class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-sm","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-4xl","sm:w-full"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mx-auto","flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-indigo-100","sm:mx-0","sm:h-10","sm:w-10"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","w-full"],[1,"mt-2"],[1,"bg-white","px-4","pb-4","sm:px-6","max-h-96","overflow-y-auto"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nombreEmpresa",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["id","nombreEmpresa","type","text","name","nombreEmpresa","required","","placeholder","Ej: TechCorp Guatemala",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","type","email","name","email","placeholder","contacto@empresa.com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","telefono",1,"block","text-sm","font-medium","text-gray-700"],["id","telefono","type","tel","name","telefono","placeholder","+502 2234-5678",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","direccion",1,"block","text-sm","font-medium","text-gray-700"],["id","direccion","type","text","name","direccion","placeholder","Zona 10, 6a Avenida 12-25",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","sitioWeb",1,"block","text-sm","font-medium","text-gray-700"],["id","sitioWeb","type","url","name","sitioWeb","placeholder","https://www.empresa.com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","descripcionDetallada",1,"block","text-sm","font-medium","text-gray-700"],["id","descripcionDetallada","name","descripcionDetallada","rows","3","placeholder","Describe la empresa, sus servicios, misi\xF3n, visi\xF3n...",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],["class","mb-4 space-y-2",4,"ngIf"],[1,"border","border-gray-200","rounded-md","p-4","bg-gray-50"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],["type","text","name","contactoNombre","placeholder","Nombre del contacto",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["type","text","name","contactoCargo","placeholder","Cargo",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["type","tel","name","contactoTelefono","placeholder","Tel\xE9fono",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["type","email","name","contactoEmail","placeholder","Email",1,"block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],[1,"mt-3"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","leading-4","font-medium","rounded-md","text-indigo-700","bg-indigo-100","hover:bg-indigo-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["class","mt-4 bg-red-50 border border-red-200 rounded-md p-3",4,"ngIf"],["class","mt-4 bg-green-50 border border-green-200 rounded-md p-3",4,"ngIf"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-indigo-600","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:ml-3","sm:w-auto","sm:text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],[1,"mb-4","space-y-2"],["class","flex items-center justify-between p-3 bg-gray-50 rounded-md",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-md"],[1,"flex-1"],[1,"text-xs","text-gray-600"],[1,"flex","space-x-4","text-xs","text-gray-500","mt-1"],["type","button","title","Eliminar contacto",1,"text-red-600","hover:text-red-800","p-1",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"mt-4","bg-red-50","border","border-red-200","rounded-md","p-3"],[1,"mt-4","bg-green-50","border","border-green-200","rounded-md","p-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"]],template:function(e,r){if(e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),d(5,"Gestionar Mis Empresas"),l(),a(6,"p",5),d(7," Administra las empresas donde eres responsable - "),a(8,"span",6),d(9),l()()(),a(10,"div",7)(11,"button",8),E("click",function(){return r.refreshEmpresas()}),T(),a(12,"svg",9),_(13,"path",10),l(),d(14," Refrescar "),l(),C(15,E5,4,0,"button",11),l()(),C(16,S5,49,4,"div",12),l(),V(),a(17,"div",13)(18,"div",14)(19,"div",15)(20,"label",16),d(21," Buscar "),l(),a(22,"div",17)(23,"input",18),A("ngModelChange",function(o){return O(r.searchTerm,o)||(r.searchTerm=o),o}),E("input",function(){return r.onSearch()}),l(),a(24,"div",19),T(),a(25,"svg",20),_(26,"path",21),l()()()(),V(),a(27,"div")(28,"label",22),d(29," Estado "),l(),a(30,"select",23),A("ngModelChange",function(o){return O(r.statusFilter,o)||(r.statusFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(31,"option",24),d(32,"Todos"),l(),a(33,"option",25),d(34,"Activas"),l(),a(35,"option",26),d(36,"Inactivas"),l()()(),a(37,"div")(38,"label",27),d(39," Sector "),l(),a(40,"select",28),A("ngModelChange",function(o){return O(r.sectorFilter,o)||(r.sectorFilter=o),o}),E("change",function(){return r.onFilterChange()}),a(41,"option",24),d(42,"Todos"),l(),C(43,M5,2,2,"option",29),l()()(),a(44,"div",30)(45,"button",31),E("click",function(){return r.clearFilters()}),d(46," Limpiar filtros "),l(),a(47,"div",32),C(48,I5,3,0,"span",33)(49,D5,4,0,"span",34),l()()(),C(50,T5,11,1,"div",35)(51,k5,11,1,"div",36)(52,A5,5,0,"div",37)(53,W5,26,7,"div",38),l(),C(54,eA,76,18,"div",39)),e&2){let i;p(9),M((i=r.getUserStats())==null?null:i.role),p(6),h("ngIf",r.canCreateEmpresa()),p(),h("ngIf",r.getUserStats()),p(7),k("ngModel",r.searchTerm),p(7),k("ngModel",r.statusFilter),p(10),k("ngModel",r.sectorFilter),p(3),h("ngForOf",r.sectoresDisponibles),p(5),h("ngIf",(r.currentUser==null?null:r.currentUser.id_perfil)===1),p(),h("ngIf",(r.currentUser==null?null:r.currentUser.id_perfil)===3),p(),h("ngIf",r.error),p(),h("ngIf",r.success),p(),h("ngIf",r.loading),p(),h("ngIf",!r.loading),p(),h("ngIf",r.showModal)}},dependencies:[yt,Ce,pe,Ye,Xe,et,Ee,Ze,ke,qe,Ue,De,je],styles:['.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.stats-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.btn-hover[_ngcontent-%COMP%]{transition:all .2s ease}.btn-hover[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.responsable-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:10px}.table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.modal-overlay[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.contact-card[_ngcontent-%COMP%]{transition:all .2s ease;border-left:4px solid transparent}.contact-card[_ngcontent-%COMP%]:hover{border-left-color:#4f46e5;background-color:#f8fafc}.checkbox-container[_ngcontent-%COMP%]{transition:all .2s ease}.checkbox-container[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;border-radius:8px;padding:4px}.loading-shimmer[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.message-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s ease-out}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{margin:1rem;max-height:90vh}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.table-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}@media (prefers-color-scheme: dark){.dark-mode[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]{background-color:#1f2937;color:#f9fafb}.dark-mode[_ngcontent-%COMP%]   .text-gray-900[_ngcontent-%COMP%]{color:#f9fafb}.dark-mode[_ngcontent-%COMP%]   .border-gray-200[_ngcontent-%COMP%]{border-color:#374151}}.focus-visible[_ngcontent-%COMP%]:focus{outline:2px solid #4f46e5;outline-offset:2px}.input-error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.input-success[_ngcontent-%COMP%]{border-color:#22c55e;box-shadow:0 0 0 3px #22c55e1a}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background-color:#1f2937;color:#fff;padding:.5rem;border-radius:.375rem;font-size:.875rem;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity .2s,visibility .2s;z-index:1000}.tooltip[_ngcontent-%COMP%]:hover:after{opacity:1;visibility:visible}.empresa-card[_ngcontent-%COMP%]{transition:all .3s ease;border-left:4px solid transparent}.empresa-card[_ngcontent-%COMP%]:hover{border-left-color:#4f46e5;box-shadow:0 8px 25px #0000001a;transform:translateY(-2px)}.empresa-card.is-responsable[_ngcontent-%COMP%]{border-left-color:#22c55e;background-color:#f0fdf4}.icon-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;font-weight:500;font-size:.75rem;padding:.25rem .75rem;border-radius:9999px;transition:all .2s ease}.status-badge.active[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-badge.inactive[_ngcontent-%COMP%]{background-color:#fef2f2;color:#991b1b}.form-section[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;padding-bottom:1.5rem;margin-bottom:1.5rem}.form-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.form-label-required[_ngcontent-%COMP%]:after{content:" *";color:#ef4444}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background-color:#f9fafb}.skeleton-loader[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:.375rem}.dropdown-container[_ngcontent-%COMP%]{position:relative}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #d1d5db;border-radius:.375rem;box-shadow:0 10px 25px #0000001a;z-index:50;max-height:200px;overflow-y:auto}.dropdown-item[_ngcontent-%COMP%]{padding:.5rem 1rem;cursor:pointer;transition:background-color .15s ease}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-top:2rem}.pagination-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:.375rem;background:#fff;color:#374151;cursor:pointer;transition:all .15s ease}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f3f4f6;border-color:#9ca3af}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-btn.active[_ngcontent-%COMP%]{background-color:#4f46e5;border-color:#4f46e5;color:#fff}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}.empresa-card[_ngcontent-%COMP%]{break-inside:avoid;border:1px solid #000;margin-bottom:1rem}}']})};var Pd=class n{constructor(t,e){this.supabaseService=t;this.authService=e}getEmpleosByUser(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");console.log("Obteniendo empleos para usuario:",t.id,"Perfil:",t.id_perfil);let{data:e,error:r}=yield this.supabaseService.client.rpc("get_empleos_simple",{p_user_id:t.id});if(r)throw console.error("Error obteniendo empleos:",r),r;return console.log("Empleos obtenidos:",e?.length||0),e||[]}catch(t){throw console.error("Error en getEmpleosByUser:",t),t}})}getEmpleosFromView(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");let e=this.supabaseService.client.from("v_empleos_completa").select("*");if(t.id_perfil!==1){let{data:o,error:s}=yield this.supabaseService.client.from("empresas").select("id").contains("responsables",[t.id]).eq("status",1);if(s)throw console.error("Error obteniendo empresas:",s),s;if(o&&o.length>0){let c=o.map(u=>u.id);e=e.in("empresa_id",c)}else return[]}let{data:r,error:i}=yield e.order("fecha_creacion",{ascending:!1});if(i)throw console.error("Error obteniendo empleos de vista:",i),i;return r||[]}catch(t){throw console.error("Error en getEmpleosFromView:",t),t}})}getEmpleoById(t){return y(this,null,function*(){try{let{data:e,error:r}=yield this.supabaseService.client.from("v_empleos_completa").select("*").eq("id",t).single();if(r){if(r.code==="PGRST116")return null;throw r}return e}catch(e){throw console.error("Error obteniendo empleo por ID:",e),e}})}createEmpleo(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");if(!(yield this.canCreateEmpleo(t.empresa_id)))throw new Error("No tiene permisos para crear empleos en esta empresa");let i=G(P({},t),{created_by:e.id,fecha_creacion:new Date().toISOString()}),{data:o,error:s}=yield this.supabaseService.client.from("empleos").insert([i]).select().single();if(s)throw console.error("Error creando empleo:",s),s;return o}catch(e){throw console.error("Error en createEmpleo:",e),e}})}updateEmpleo(t,e){return y(this,null,function*(){try{let r=this.authService.getCurrentUser();if(!r)throw new Error("Usuario no autenticado");let i=G(P({},e),{updated_by:r.id,updated_at:new Date().toISOString()}),{data:o,error:s}=yield this.supabaseService.client.from("empleos").update(i).eq("id",t).select().single();if(s)throw console.error("Error actualizando empleo:",s),s;return o}catch(r){throw console.error("Error en updateEmpleo:",r),r}})}deleteEmpleo(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");let{error:r}=yield this.supabaseService.client.from("empleos").update({status:0,updated_by:e.id,updated_at:new Date().toISOString()}).eq("id",t);if(r)throw console.error("Error eliminando empleo:",r),r;return!0}catch(e){throw console.error("Error en deleteEmpleo:",e),e}})}canCreateEmpleo(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)return!1;let{data:r,error:i}=yield this.supabaseService.client.rpc("can_create_empleo",{p_user_id:e.id,p_empresa_id:t});return i?(console.error("Error verificando permisos:",i),!1):r}catch(e){return console.error("Error en canCreateEmpleo:",e),!1}})}canAccessEmpleos(){let t=this.authService.getCurrentUser();return t?t.id_perfil===1||t.id_perfil===3:!1}getEmpleosStats(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");console.log("Obteniendo estad\xEDsticas para usuario:",t.id);try{let{data:e,error:r}=yield this.supabaseService.client.rpc("get_empleos_stats",{p_user_id:t.id});if(r)throw console.warn("Error con funci\xF3n principal de stats:",r),r;if(e&&e.length>0)return console.log("\u2705 Estad\xEDsticas obtenidas con funci\xF3n principal:",e[0]),this.formatStatsResponse(e[0])}catch{console.warn("Funci\xF3n principal fall\xF3, intentando con funci\xF3n simple...")}try{let{data:e,error:r}=yield this.supabaseService.client.rpc("get_simple_empleos_stats",{p_user_id:t.id});if(r)throw console.warn("Error con funci\xF3n simple de stats:",r),r;if(e&&e.length>0)return console.log("\u2705 Estad\xEDsticas obtenidas con funci\xF3n simple:",e[0]),this.formatStatsResponse(e[0])}catch{console.warn("Funci\xF3n simple fall\xF3, intentando con funci\xF3n b\xE1sica...")}try{let{data:e,error:r}=yield this.supabaseService.client.rpc("get_basic_empleos_stats");if(r)throw console.warn("Error con funci\xF3n b\xE1sica de stats:",r),r;if(e&&e.length>0)return console.log("\u2705 Estad\xEDsticas obtenidas con funci\xF3n b\xE1sica:",e[0]),this.formatStatsResponse(e[0])}catch{console.warn("Funci\xF3n b\xE1sica fall\xF3, calculando manualmente...")}return yield this.calculateStatsManually()}catch(t){return console.error("Error en getEmpleosStats:",t),this.getEmptyStats()}})}formatStatsResponse(t){return{total_empleos:Number(t.total_empleos)||0,empleos_activos:Number(t.empleos_activos)||0,empleos_expirados:Number(t.empleos_expirados)||0,empleos_cerrados:Number(t.empleos_cerrados)||0,total_aplicaciones:Number(t.total_aplicaciones)||0,empleos_urgentes:Number(t.empleos_urgentes)||0,promedio_aplicaciones:Number(t.promedio_aplicaciones)||0,categorias_populares:t.categorias_populares||[]}}calculateStatsManually(){return y(this,null,function*(){try{console.log("Calculando estad\xEDsticas manualmente...");let t=this.authService.getCurrentUser();if(!t)return this.getEmptyStats();let e=this.supabaseService.client.from("empleos").select("*");if(t.id_perfil!==1){let{data:c}=yield this.supabaseService.client.from("empresas").select("id").contains("responsables",[t.id]).eq("status",1);if(c&&c.length>0){let u=c.map(f=>f.id);e=e.in("empresa_id",u)}else return this.getEmptyStats()}let{data:r,error:i}=yield e;if(i)return console.error("Error obteniendo empleos para stats manuales:",i),this.getEmptyStats();if(!r||r.length===0)return console.log("No hay empleos para calcular estad\xEDsticas"),this.getEmptyStats();let o=new Date,s={total_empleos:r.length,empleos_activos:r.filter(c=>c.status===1&&new Date(c.fecha_fin_publicacion)>o).length,empleos_expirados:r.filter(c=>new Date(c.fecha_fin_publicacion)<=o).length,empleos_cerrados:r.filter(c=>c.status===2).length,total_aplicaciones:r.reduce((c,u)=>c+(u.aplicaciones_recibidas||0),0),empleos_urgentes:r.filter(c=>c.urgencia==="urgente"&&c.status===1).length,promedio_aplicaciones:r.length>0?r.reduce((c,u)=>c+(u.aplicaciones_recibidas||0),0)/r.length:0,categorias_populares:this.calculateCategoriesPopularity(r)};return console.log("\u2705 Estad\xEDsticas calculadas manualmente:",s),s}catch(t){return console.error("Error en c\xE1lculo manual de estad\xEDsticas:",t),this.getEmptyStats()}})}calculateCategoriesPopularity(t){let e={};return t.forEach(r=>{r.categoria&&(e[r.categoria]=(e[r.categoria]||0)+1)}),Object.entries(e).map(([r,i])=>({categoria:r,total:i})).sort((r,i)=>i.total-r.total).slice(0,5)}getEmptyStats(){return{total_empleos:0,empleos_activos:0,empleos_expirados:0,empleos_cerrados:0,total_aplicaciones:0,empleos_urgentes:0,promedio_aplicaciones:0,categorias_populares:[]}}debugStats(){return y(this,null,function*(){console.log("=== DEBUG ESTAD\xCDSTICAS ===");try{let t=this.authService.getCurrentUser();console.log("Usuario actual:",t);let{data:e}=yield this.supabaseService.client.from("empleos").select("id");if(console.log("Total empleos en BD:",e?.length),t&&t.id_perfil!==1){let{data:r}=yield this.supabaseService.client.from("empresas").select("id, nombre, responsables").contains("responsables",[t.id]);console.log("Empresas donde es responsable:",r)}try{let{data:r}=yield this.supabaseService.client.rpc("get_basic_empleos_stats");console.log("\u2705 get_basic_empleos_stats:",r)}catch(r){console.log("\u274C get_basic_empleos_stats:",r)}try{let{data:r}=yield this.supabaseService.client.rpc("get_simple_empleos_stats",{p_user_id:t?.id});console.log("\u2705 get_simple_empleos_stats:",r)}catch(r){console.log("\u274C get_simple_empleos_stats:",r)}try{let{data:r}=yield this.supabaseService.client.rpc("get_empleos_stats",{p_user_id:t?.id});console.log("\u2705 get_empleos_stats:",r)}catch(r){console.log("\u274C get_empleos_stats:",r)}}catch(t){console.error("Error en debug de stats:",t)}console.log("=== FIN DEBUG ===")})}incrementarVistas(t){return y(this,null,function*(){try{let{data:e,error:r}=yield this.supabaseService.client.rpc("incrementar_vistas_empleo",{p_empleo_id:t});r&&console.error("Error incrementando vistas:",r)}catch(e){console.error("Error en incrementarVistas:",e)}})}getEmpresasDisponibles(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)return[];let e=this.supabaseService.client.from("empresas").select("id, nombre, sector").eq("status",1);t.id_perfil!==1&&(e=e.contains("responsables",[t.id]));let{data:r,error:i}=yield e.order("nombre");if(i)throw console.error("Error obteniendo empresas:",i),i;return r||[]}catch(t){throw console.error("Error en getEmpresasDisponibles:",t),t}})}getEmpleosBasic(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)return[];let{data:e,error:r}=yield this.supabaseService.client.from("empleos").select(`
          *,
          empresas!inner(
            id,
            nombre,
            sector,
            responsables
          )
        `).order("fecha_creacion",{ascending:!1});return r?(console.error("Error en consulta b\xE1sica:",r),[]):t.id_perfil===1?e||[]:t.id_perfil===3?(e||[]).filter(i=>i.empresas?.responsables?.includes(t.id)):[]}catch(t){return console.error("Error en getEmpleosBasic:",t),[]}})}getCategorias(){return["ventas","administracion","informatica","telecomunicaciones","marketing","recursos_humanos","finanzas","contabilidad","logistica","produccion","servicio_cliente","dise\xF1o","legal","educacion","salud","ingenieria","construccion","turismo","gastronomia","transporte"]}getModalidadesTrabajo(){return["remoto","hibrido","presencial"]}getNivelesExperiencia(){return["sin_experiencia","0-1 a\xF1os","1-3 a\xF1os","3-5 a\xF1os","5-10 a\xF1os","10+ a\xF1os"]}getTiposJornada(){return["tiempo_completo","medio_tiempo","por_horas"]}getTiposContrato(){return["indefinido","por_tiempo_determinado","proyecto","practicas","temporal","consultoria"]}getNivelesUrgencia(){return["urgente","normal","bajo"]}getNivelesEducacion(){return["primaria","secundaria","tecnico","universitario","maestria","doctorado"]}formatSalario(t){if(!t||!t.minimo&&!t.maximo)return"Salario no especificado";let e=t.moneda||"GTQ",r=t.periodo||"mensual",i="";return t.minimo&&t.maximo?i=`${e} ${t.minimo.toLocaleString()} - ${t.maximo.toLocaleString()}`:t.minimo?i=`Desde ${e} ${t.minimo.toLocaleString()}`:t.maximo&&(i=`Hasta ${e} ${t.maximo.toLocaleString()}`),i+=` ${r}`,t.negociable&&(i+=" (Negociable)"),i}formatModalidades(t){return!t||!t.modalidades||t.modalidades.length===0?"No especificado":t.modalidades.map(r=>{switch(r){case"remoto":return"Remoto";case"hibrido":return"H\xEDbrido";case"presencial":return"Presencial";default:return r}}).join(", ")}getEstadoLegible(t){if(t.estado_calculado)switch(t.estado_calculado){case"activo":return{texto:"Activo",color:"green"};case"expirado":return{texto:"Expirado",color:"red"};case"cerrado":return{texto:"Cerrado",color:"gray"};case"pausado":return{texto:"Pausado",color:"yellow"};case"inactivo":return{texto:"Inactivo",color:"red"};default:return{texto:"Desconocido",color:"gray"}}return t.status===0?{texto:"Inactivo",color:"red"}:t.status===2?{texto:"Cerrado",color:"gray"}:t.status===3?{texto:"Pausado",color:"yellow"}:t.fecha_fin_publicacion&&new Date(t.fecha_fin_publicacion)<new Date?{texto:"Expirado",color:"red"}:{texto:"Activo",color:"green"}}getCategoriaLegible(t){return{ventas:"Ventas",administracion:"Administraci\xF3n",informatica:"Inform\xE1tica",telecomunicaciones:"Telecomunicaciones",marketing:"Marketing",recursos_humanos:"Recursos Humanos",finanzas:"Finanzas",contabilidad:"Contabilidad",logistica:"Log\xEDstica",produccion:"Producci\xF3n",servicio_cliente:"Servicio al Cliente",dise\u00F1o:"Dise\xF1o",legal:"Legal",educacion:"Educaci\xF3n",salud:"Salud",ingenieria:"Ingenier\xEDa",construccion:"Construcci\xF3n",turismo:"Turismo",gastronomia:"Gastronom\xEDa",transporte:"Transporte"}[t]||t}validateEmpleoData(t){let e=[];return(!t.nombre||t.nombre.trim().length===0)&&e.push("El nombre del empleo es requerido"),t.categoria||e.push("La categor\xEDa es requerida"),t.jornada_laboral||e.push("La jornada laboral es requerida"),t.tipo_contrato||e.push("El tipo de contrato es requerido"),t.empresa_id||e.push("La empresa es requerida"),t.fecha_fin_publicacion?new Date(t.fecha_fin_publicacion)<=new Date&&e.push("La fecha de fin de publicaci\xF3n debe ser mayor a la fecha actual"):e.push("La fecha de fin de publicaci\xF3n es requerida"),(!t.numero_vacantes||t.numero_vacantes<1)&&e.push("El n\xFAmero de vacantes debe ser mayor a 0"),t.edad_minima&&t.edad_maxima&&t.edad_minima>t.edad_maxima&&e.push("La edad m\xEDnima no puede ser mayor que la edad m\xE1xima"),(!t.descripcion||!t.descripcion.descripcion||t.descripcion.descripcion.trim().length===0)&&e.push("La descripci\xF3n del empleo es requerida"),(!t.lugar_trabajo||!t.lugar_trabajo.modalidades||t.lugar_trabajo.modalidades.length===0)&&e.push("Debe seleccionar al menos una modalidad de trabajo"),e}static \u0275fac=function(e){return new(e||n)(U(We),U(de))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var nA=(n,t,e,r)=>({"bg-green-100 text-green-800":n,"bg-red-100 text-red-800":t,"bg-yellow-100 text-yellow-800":e,"bg-gray-100 text-gray-800":r}),rA=(n,t,e)=>({"bg-red-100 text-red-800":n,"bg-blue-100 text-blue-800":t,"bg-gray-100 text-gray-800":e});function iA(n,t){if(n&1){let e=N();a(0,"button",46),E("click",function(){x(e);let i=g();return w(i.openCreateModal())}),_(1,"i",47),d(2," Crear Empleo "),l()}}function oA(n,t){if(n&1&&(a(0,"div",48)(1,"div",49)(2,"div",50)(3,"div",51)(4,"p",52),d(5,"Total Empleos"),l(),a(6,"p",53),d(7),l()(),_(8,"i",54),l()(),a(9,"div",55)(10,"div",50)(11,"div",51)(12,"p",52),d(13,"Empleos Activos"),l(),a(14,"p",53),d(15),l()(),_(16,"i",56),l()(),a(17,"div",57)(18,"div",50)(19,"div",51)(20,"p",52),d(21,"Urgentes"),l(),a(22,"p",53),d(23),l()(),_(24,"i",58),l()(),a(25,"div",59)(26,"div",50)(27,"div",51)(28,"p",52),d(29,"Total Aplicaciones"),l(),a(30,"p",53),d(31),l()(),_(32,"i",60),l()()()),n&2){let e=g();p(7),M(e.stats.total_empleos),p(8),M(e.stats.empleos_activos),p(8),M(e.stats.empleos_urgentes),p(8),M(e.stats.total_aplicaciones)}}function sA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit,r=g();h("value",e),p(),I(" ",r.getCategoriaLegible(e)," ")}}function aA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit;h("value",e.id),p(),I(" ",e.nombre," ")}}function lA(n,t){if(n&1&&(a(0,"span",62),d(1),l()),n&2){let e=g();p(),I("(filtrados de ",e.empleos.length," total)")}}function cA(n,t){if(n&1&&(a(0,"div",63),_(1,"i",64),d(2),l()),n&2){let e=g();p(2),I(" ",e.error," ")}}function dA(n,t){n&1&&(a(0,"div",65)(1,"div",66),_(2,"i",67),a(3,"p",68),d(4,"Cargando empleos..."),l()()())}function uA(n,t){if(n&1&&(a(0,"div",72),_(1,"i",73),a(2,"p",74),d(3),l()()),n&2){let e=g(2);p(3),M(e.getNoDataMessage())}}function pA(n,t){if(n&1&&(a(0,"p",100),d(1),l()),n&2){let e=g().$implicit;p(),I(" ",e.dias_restantes>0?e.dias_restantes+" d\xEDas":"Expirado"," ")}}function fA(n,t){if(n&1){let e=N();a(0,"button",101),E("click",function(){x(e);let i=g().$implicit,o=g(3);return w(o.openEditModal(i))}),_(1,"i",102),l()}}function mA(n,t){if(n&1){let e=N();a(0,"button",103),E("click",function(){x(e);let i=g().$implicit,o=g(3);return w(o.deleteEmpleo(i))}),_(1,"i",104),l()}}function hA(n,t){if(n&1){let e=N();a(0,"div",83)(1,"div",84)(2,"div",77)(3,"h4",85),d(4),l(),a(5,"p",86),d(6),l(),a(7,"p",87),d(8),l()(),a(9,"div",78)(10,"p",85),d(11),l(),a(12,"p",88),d(13),l()(),a(14,"div",78)(15,"span",89),d(16),l(),a(17,"p",90),d(18),l()(),a(19,"div",79)(20,"span",91),d(21),l(),C(22,pA,2,1,"p",92),l(),a(23,"div",79)(24,"span",91),d(25),l()(),a(26,"div",79)(27,"div",66)(28,"p",93),d(29),l(),a(30,"p",94),d(31,"postulantes"),l()()(),a(32,"div",78)(33,"div",95)(34,"button",96),E("click",function(){let i=x(e).$implicit,o=g(3);return w(o.openViewModal(i))}),_(35,"i",97),l(),C(36,fA,2,0,"button",98)(37,mA,2,0,"button",99),l()()()()}if(n&2){let e=t.$implicit,r=g(3);p(4),M(e.nombre),p(2),M(r.formatModalidades(e.lugar_trabajo)),p(2),M(r.formatSalario(e.salario)),p(3),M(e.empresa_nombre),p(2),M(e.jornada_laboral),p(3),I(" ",r.getCategoriaLegible(e.categoria)," "),p(2),M(e.experiencia_laboral),p(2),h("ngClass",Wl(15,nA,r.getEstadoLegible(e).color==="green",r.getEstadoLegible(e).color==="red",r.getEstadoLegible(e).color==="yellow",r.getEstadoLegible(e).color==="gray")),p(),I(" ",r.getEstadoLegible(e).texto," "),p(),h("ngIf",e.dias_restantes!==void 0),p(2),h("ngClass",n_(20,rA,e.urgencia==="urgente",e.urgencia==="normal",e.urgencia==="bajo")),p(),I(" ",e.urgencia," "),p(4),M(e.aplicaciones_recibidas||0),p(7),h("ngIf",r.canEditEmpleo(e)),p(),h("ngIf",r.canEditEmpleo(e))}}function gA(n,t){if(n&1){let e=N();a(0,"button",112),E("click",function(){let i=x(e).$implicit,o=g(4);return w(o.goToPage(i))}),d(1),l()}if(n&2){let e=t.$implicit,r=g(4);Ft("bg-blue-500",e===r.currentPage)("text-white",e===r.currentPage),p(),I(" ",e," ")}}function vA(n,t){if(n&1){let e=N();a(0,"div",105)(1,"div",106)(2,"div",107),d(3),l(),a(4,"div",95)(5,"button",108),E("click",function(){x(e);let i=g(3);return w(i.prevPage())}),_(6,"i",109),l(),C(7,gA,2,5,"button",110),a(8,"button",108),E("click",function(){x(e);let i=g(3);return w(i.nextPage())}),_(9,"i",111),l()()()()}if(n&2){let e=g(3);p(3),Me(" P\xE1gina ",e.currentPage," de ",e.totalPages," "),p(2),h("disabled",e.currentPage===1),p(2),h("ngForOf",e.paginationPages),p(),h("disabled",e.currentPage===e.totalPages)}}function _A(n,t){if(n&1&&(a(0,"div")(1,"div",75)(2,"div",76)(3,"div",77),d(4,"Empleo"),l(),a(5,"div",78),d(6,"Empresa"),l(),a(7,"div",78),d(8,"Categor\xEDa"),l(),a(9,"div",79),d(10,"Estado"),l(),a(11,"div",79),d(12,"Urgencia"),l(),a(13,"div",79),d(14,"Aplicaciones"),l(),a(15,"div",78),d(16,"Acciones"),l()()(),a(17,"div",80),C(18,hA,38,24,"div",81),l(),C(19,vA,10,5,"div",82),l()),n&2){let e=g(2);p(18),h("ngForOf",e.paginatedEmpleos)("ngForTrackBy",e.trackByEmpleoId),p(),h("ngIf",e.totalPages>1)}}function yA(n,t){if(n&1&&(a(0,"div",69),C(1,uA,4,1,"div",70)(2,_A,20,3,"div",71),l()),n&2){let e=g();p(),h("ngIf",e.paginatedEmpleos.length===0),p(),h("ngIf",e.paginatedEmpleos.length>0)}}function bA(n,t){n&1&&(a(0,"span"),d(1,"Crear Nuevo Empleo"),l())}function xA(n,t){n&1&&(a(0,"span"),d(1,"Editar Empleo"),l())}function wA(n,t){n&1&&(a(0,"span"),d(1,"Detalles del Empleo"),l())}function CA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit;h("value",e.id),p(),I(" ",e.nombre," ")}}function EA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit,r=g(2);h("value",e),p(),I(" ",r.getCategoriaLegible(e)," ")}}function SA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),I(" ",e," ")}}function MA(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),I(" ",e," ")}}function IA(n,t){if(n&1&&(a(0,"option",61),d(1),Le(2,"titlecase"),l()),n&2){let e=t.$implicit;h("value",e),p(),I(" ",ns(2,2,e)," ")}}function DA(n,t){n&1&&(a(0,"div",169),_(1,"i",170),d(2," Seleccione la modalidad de trabajo para esta oferta laboral "),l())}function TA(n,t){if(n&1&&(a(0,"div",171)(1,"div",172),_(2,"i",173),a(3,"span",62),d(4,"Modalidad seleccionada:"),l(),a(5,"span",174),d(6),l()()()),n&2){let e=g(2);p(6),M(e.getSelectedModalidad())}}function kA(n,t){if(n&1){let e=N();a(0,"button",178),E("click",function(){x(e);let i=g().index,o=g(2);return w(o.removeRequisito(i))}),_(1,"i",179),l()}}function AA(n,t){if(n&1){let e=N();a(0,"div",175)(1,"input",176),A("ngModelChange",function(i){let o=x(e).index,s=g(2);return O(s.empleoForm.descripcion.requisitos[o],i)||(s.empleoForm.descripcion.requisitos[o]=i),w(i)}),l(),C(2,kA,2,0,"button",177),l()}if(n&2){let e=t.index,r=g(2);p(),k("ngModel",r.empleoForm.descripcion.requisitos[e]),h("name","requisito_"+e)("readonly",r.modalMode==="view"),p(),h("ngIf",r.modalMode!=="view")}}function OA(n,t){if(n&1){let e=N();a(0,"button",180),E("click",function(){x(e);let i=g(2);return w(i.addRequisito())}),_(1,"i",47),d(2," Agregar Requisito "),l()}}function PA(n,t){if(n&1){let e=N();a(0,"button",178),E("click",function(){x(e);let i=g().index,o=g(2);return w(o.removeBeneficio(i))}),_(1,"i",179),l()}}function FA(n,t){if(n&1){let e=N();a(0,"div",175)(1,"input",181),A("ngModelChange",function(i){let o=x(e).index,s=g(2);return O(s.empleoForm.descripcion.beneficios[o],i)||(s.empleoForm.descripcion.beneficios[o]=i),w(i)}),l(),C(2,PA,2,0,"button",177),l()}if(n&2){let e=t.index,r=g(2);p(),k("ngModel",r.empleoForm.descripcion.beneficios[e]),h("name","beneficio_"+e)("readonly",r.modalMode==="view"),p(),h("ngIf",r.modalMode!=="view")}}function NA(n,t){if(n&1){let e=N();a(0,"button",180),E("click",function(){x(e);let i=g(2);return w(i.addBeneficio())}),_(1,"i",47),d(2," Agregar Beneficio "),l()}}function RA(n,t){if(n&1){let e=N();a(0,"button",178),E("click",function(){x(e);let i=g().index,o=g(2);return w(o.removeHabilidad(i))}),_(1,"i",179),l()}}function VA(n,t){if(n&1){let e=N();a(0,"div",175)(1,"input",182),A("ngModelChange",function(i){let o=x(e).index,s=g(2);return O(s.empleoForm.descripcion.habilidades[o],i)||(s.empleoForm.descripcion.habilidades[o]=i),w(i)}),l(),C(2,RA,2,0,"button",177),l()}if(n&2){let e=t.index,r=g(2);p(),k("ngModel",r.empleoForm.descripcion.habilidades[e]),h("name","habilidad_"+e)("readonly",r.modalMode==="view"),p(),h("ngIf",r.modalMode!=="view")}}function LA(n,t){if(n&1){let e=N();a(0,"button",180),E("click",function(){x(e);let i=g(2);return w(i.addHabilidad())}),_(1,"i",47),d(2," Agregar Habilidad "),l()}}function jA(n,t){if(n&1){let e=N();a(0,"button",178),E("click",function(){x(e);let i=g().index,o=g(2);return w(o.removeIdioma(i))}),_(1,"i",179),l()}}function UA(n,t){if(n&1){let e=N();a(0,"div",175)(1,"input",183),A("ngModelChange",function(i){let o=x(e).index,s=g(2);return O(s.empleoForm.descripcion.idiomas[o],i)||(s.empleoForm.descripcion.idiomas[o]=i),w(i)}),l(),C(2,jA,2,0,"button",177),l()}if(n&2){let e=t.index,r=g(2);p(),k("ngModel",r.empleoForm.descripcion.idiomas[e]),h("name","idioma_"+e)("readonly",r.modalMode==="view"),p(),h("ngIf",r.modalMode!=="view")}}function BA(n,t){if(n&1){let e=N();a(0,"button",180),E("click",function(){x(e);let i=g(2);return w(i.addIdioma())}),_(1,"i",47),d(2," Agregar Idioma "),l()}}function $A(n,t){if(n&1&&(a(0,"option",61),d(1),l()),n&2){let e=t.$implicit;h("value",e),p(),I(" ",e," ")}}function HA(n,t){if(n&1){let e=N();a(0,"button",178),E("click",function(){x(e);let i=g().index,o=g(2);return w(o.removeKeyword(i))}),_(1,"i",179),l()}}function zA(n,t){if(n&1){let e=N();a(0,"div",175)(1,"input",184),A("ngModelChange",function(i){let o=x(e).index,s=g(2);return O(s.empleoForm.keywords[o],i)||(s.empleoForm.keywords[o]=i),w(i)}),l(),C(2,HA,2,0,"button",177),l()}if(n&2){let e=t.index,r=g(2);p(),k("ngModel",r.empleoForm.keywords[e]),h("name","keyword_"+e)("readonly",r.modalMode==="view"),p(),h("ngIf",r.modalMode!=="view")}}function GA(n,t){if(n&1){let e=N();a(0,"button",180),E("click",function(){x(e);let i=g(2);return w(i.addKeyword())}),_(1,"i",47),d(2," Agregar Palabra Clave "),l()}}function WA(n,t){if(n&1&&(a(0,"div",185),_(1,"i",64),d(2),l()),n&2){let e=g(2);p(2),I(" ",e.error," ")}}function qA(n,t){n&1&&_(0,"i",188)}function YA(n,t){if(n&1&&(a(0,"button",186),C(1,qA,1,0,"i",187),d(2),l()),n&2){g();let e=Fe(11),r=g();h("disabled",r.loading||!e.form.valid),p(),h("ngIf",r.loading),p(),I(" ",r.modalMode==="create"?"Crear Empleo":"Guardar Cambios"," ")}}function ZA(n,t){if(n&1){let e=N();a(0,"div",113),E("click",function(i){x(e);let o=g();return w(i.target===i.currentTarget&&o.closeModal())}),a(1,"div",114)(2,"div",115)(3,"h2",116),C(4,bA,2,0,"span",71)(5,xA,2,0,"span",71)(6,wA,2,0,"span",71),l(),a(7,"button",117),E("click",function(){x(e);let i=g();return w(i.closeModal())}),_(8,"i",118),l()(),a(9,"div",119)(10,"form",120,0),E("ngSubmit",function(){x(e);let i=g();return w(i.saveEmpleo())}),a(12,"div",2)(13,"h3",121),d(14,"Informaci\xF3n B\xE1sica"),l(),a(15,"div",122)(16,"div",123)(17,"label",16),d(18," Nombre del Empleo * "),l(),a(19,"input",124),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.nombre,i)||(o.empleoForm.nombre=i),w(i)}),l()(),a(20,"div")(21,"label",16),d(22," Empresa * "),l(),a(23,"select",125),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.empresa_id,i)||(o.empleoForm.empresa_id=i),w(i)}),a(24,"option",126),d(25,"Seleccione una empresa"),l(),C(26,CA,2,2,"option",20),l()(),a(27,"div")(28,"label",16),d(29," Categor\xEDa * "),l(),a(30,"select",127),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.categoria,i)||(o.empleoForm.categoria=i),w(i)}),a(31,"option",128),d(32,"Seleccione una categor\xEDa"),l(),C(33,EA,2,2,"option",20),l()(),a(34,"div")(35,"label",16),d(36," N\xFAmero de Vacantes * "),l(),a(37,"input",129),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.numero_vacantes,i)||(o.empleoForm.numero_vacantes=i),w(i)}),l()(),a(38,"div")(39,"label",16),d(40," Experiencia Requerida "),l(),a(41,"select",130),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.experiencia_laboral,i)||(o.empleoForm.experiencia_laboral=i),w(i)}),a(42,"option",128),d(43,"No especificado"),l(),C(44,SA,2,2,"option",20),l()(),a(45,"div")(46,"label",16),d(47," Jornada Laboral * "),l(),a(48,"select",131),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.jornada_laboral,i)||(o.empleoForm.jornada_laboral=i),w(i)}),a(49,"option",128),d(50,"Seleccione jornada"),l(),a(51,"option",29),d(52,"Tiempo Completo"),l(),a(53,"option",30),d(54,"Medio Tiempo"),l(),a(55,"option",31),d(56,"Por Horas"),l()()(),a(57,"div")(58,"label",16),d(59," Tipo de Contrato * "),l(),a(60,"select",132),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.tipo_contrato,i)||(o.empleoForm.tipo_contrato=i),w(i)}),a(61,"option",128),d(62,"Seleccione tipo"),l(),C(63,MA,2,2,"option",20),l()(),a(64,"div")(65,"label",16),d(66," Urgencia "),l(),a(67,"select",133),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.urgencia,i)||(o.empleoForm.urgencia=i),w(i)}),a(68,"option",28),d(69,"Bajo"),l(),a(70,"option",27),d(71,"Normal"),l(),a(72,"option",26),d(73,"Urgente"),l()()(),a(74,"div")(75,"label",16),d(76," Fecha Fin Publicaci\xF3n * "),l(),a(77,"input",134),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.fecha_fin_publicacion,i)||(o.empleoForm.fecha_fin_publicacion=i),w(i)}),l()()()(),a(78,"div",2)(79,"h3",121),d(80,"Modalidad de Trabajo *"),l(),a(81,"div",135)(82,"div")(83,"label",16),d(84," Seleccione la modalidad de trabajo "),l(),a(85,"select",136),E("ngModelChange",function(i){x(e);let o=g();return w(o.onModalidadSelectChange({target:{value:i}}))}),a(86,"option",128),d(87,"Seleccione una modalidad"),l(),C(88,IA,3,4,"option",137),l()()(),C(89,DA,3,0,"div",138)(90,TA,7,1,"div",139),l(),a(91,"div",2)(92,"h3",121),d(93,"Informaci\xF3n Salarial"),l(),a(94,"div",140)(95,"div")(96,"label",16),d(97," Salario M\xEDnimo "),l(),a(98,"input",141),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.salario.minimo,i)||(o.empleoForm.salario.minimo=i),w(i)}),l()(),a(99,"div")(100,"label",16),d(101," Salario M\xE1ximo "),l(),a(102,"input",142),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.salario.maximo,i)||(o.empleoForm.salario.maximo=i),w(i)}),l()(),a(103,"div")(104,"label",16),d(105," Moneda "),l(),a(106,"select",143),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.salario.moneda,i)||(o.empleoForm.salario.moneda=i),w(i)}),a(107,"option",144),d(108,"GTQ (Quetzales)"),l(),a(109,"option",145),d(110,"USD (D\xF3lares)"),l(),a(111,"option",146),d(112,"EUR (Euros)"),l()()(),a(113,"div",50)(114,"input",147),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.salario.negociable,i)||(o.empleoForm.salario.negociable=i),w(i)}),l(),a(115,"label",148),d(116," Negociable "),l()()()(),a(117,"div",2)(118,"h3",121),d(119,"Descripci\xF3n del Empleo"),l(),a(120,"div",149)(121,"label",16),d(122," Descripci\xF3n General * "),l(),a(123,"textarea",150),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.descripcion.descripcion,i)||(o.empleoForm.descripcion.descripcion=i),w(i)}),l()(),a(124,"div",149)(125,"label",151),d(126," Requisitos del Puesto "),l(),C(127,AA,3,4,"div",152)(128,OA,3,0,"button",153),l(),a(129,"div",149)(130,"label",151),d(131," Beneficios Ofrecidos "),l(),C(132,FA,3,4,"div",152)(133,NA,3,0,"button",153),l(),a(134,"div",149)(135,"label",151),d(136," Habilidades T\xE9cnicas "),l(),C(137,VA,3,4,"div",152)(138,LA,3,0,"button",153),l(),a(139,"div",149)(140,"label",151),d(141," Idiomas Requeridos "),l(),C(142,UA,3,4,"div",152)(143,BA,3,0,"button",153),l()(),a(144,"div",2)(145,"h3",121),d(146,"Informaci\xF3n Adicional"),l(),a(147,"div",154)(148,"div")(149,"label",16),d(150," Edad M\xEDnima "),l(),a(151,"input",155),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.edad_minima,i)||(o.empleoForm.edad_minima=i),w(i)}),l()(),a(152,"div")(153,"label",16),d(154," Edad M\xE1xima "),l(),a(155,"input",156),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.edad_maxima,i)||(o.empleoForm.edad_maxima=i),w(i)}),l()(),a(156,"div")(157,"label",16),d(158," G\xE9nero "),l(),a(159,"select",157),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.genero,i)||(o.empleoForm.genero=i),w(i)}),a(160,"option",158),d(161,"Indiferente"),l(),a(162,"option",159),d(163,"Masculino"),l(),a(164,"option",160),d(165,"Femenino"),l()()(),a(166,"div")(167,"label",16),d(168," Estado Civil "),l(),a(169,"select",161),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.estado_civil,i)||(o.empleoForm.estado_civil=i),w(i)}),a(170,"option",158),d(171,"Indiferente"),l(),a(172,"option",162),d(173,"Soltero/a"),l(),a(174,"option",163),d(175,"Casado/a"),l()()(),a(176,"div")(177,"label",16),d(178," Nivel de Educaci\xF3n "),l(),a(179,"select",164),A("ngModelChange",function(i){x(e);let o=g();return O(o.empleoForm.nivel_educacion,i)||(o.empleoForm.nivel_educacion=i),w(i)}),a(180,"option",128),d(181,"No especificado"),l(),C(182,$A,2,2,"option",20),l()()()(),a(183,"div",2)(184,"h3",121),d(185,"Palabras Clave para B\xFAsqueda"),l(),C(186,zA,3,4,"div",152)(187,GA,3,0,"button",153),l(),C(188,WA,3,1,"div",165),a(189,"div",166)(190,"button",167),E("click",function(){x(e);let i=g();return w(i.closeModal())}),d(191),l(),C(192,YA,3,3,"button",168),l()()()()()}if(n&2){let e=g();p(4),h("ngIf",e.modalMode==="create"),p(),h("ngIf",e.modalMode==="edit"),p(),h("ngIf",e.modalMode==="view"),p(13),k("ngModel",e.empleoForm.nombre),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.empresa_id),h("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.empresasDisponibles),p(4),k("ngModel",e.empleoForm.categoria),h("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.getCategorias()),p(4),k("ngModel",e.empleoForm.numero_vacantes),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.experiencia_laboral),h("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.getNivelesExperiencia()),p(4),k("ngModel",e.empleoForm.jornada_laboral),h("disabled",e.modalMode==="view"),p(12),k("ngModel",e.empleoForm.tipo_contrato),h("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.getTiposContrato()),p(4),k("ngModel",e.empleoForm.urgencia),h("disabled",e.modalMode==="view"),p(10),k("ngModel",e.empleoForm.fecha_fin_publicacion),h("readonly",e.modalMode==="view")("min",e.getMinDate()),p(8),h("ngModel",e.getSelectedModalidad())("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.getModalidadesTrabajo())("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(),h("ngIf",e.hasSelectedModalidad()),p(8),k("ngModel",e.empleoForm.salario.minimo),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.salario.maximo),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.salario.moneda),h("disabled",e.modalMode==="view"),p(8),k("ngModel",e.empleoForm.salario.negociable),h("disabled",e.modalMode==="view"),p(9),k("ngModel",e.empleoForm.descripcion.descripcion),h("readonly",e.modalMode==="view"),p(4),h("ngForOf",e.empleoForm.descripcion.requisitos)("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(4),h("ngForOf",e.empleoForm.descripcion.beneficios)("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(4),h("ngForOf",e.empleoForm.descripcion.habilidades)("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(4),h("ngForOf",e.empleoForm.descripcion.idiomas)("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(8),k("ngModel",e.empleoForm.edad_minima),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.edad_maxima),h("readonly",e.modalMode==="view"),p(4),k("ngModel",e.empleoForm.genero),h("disabled",e.modalMode==="view"),p(10),k("ngModel",e.empleoForm.estado_civil),h("disabled",e.modalMode==="view"),p(10),k("ngModel",e.empleoForm.nivel_educacion),h("disabled",e.modalMode==="view"),p(3),h("ngForOf",e.getNivelesEducacion()),p(4),h("ngForOf",e.empleoForm.keywords)("ngForTrackBy",e.trackByIndex),p(),h("ngIf",e.modalMode!=="view"),p(),h("ngIf",e.error),p(3),I(" ",e.modalMode==="view"?"Cerrar":"Cancelar"," "),p(),h("ngIf",e.modalMode!=="view")}}var mi=class n{constructor(t,e,r){this.empleosService=t;this.authService=e;this.router=r}empleos=[];empleosFiltrados=[];stats=null;empresasDisponibles=[];loading=!1;error="";currentUser=null;searchTerm="";categoriaFilter="all";estadoFilter="all";urgenciaFilter="all";empresaFilter="all";jornadaFilter="all";modalidadFilter="all";currentPage=1;itemsPerPage=10;totalPages=1;showModal=!1;modalMode="create";selectedEmpleo=null;empleoForm=this.getEmptyForm();ngOnInit(){return y(this,null,function*(){if(console.log("\u{1F680} Iniciando GestionarEmpleosComponent"),this.currentUser=this.authService.getCurrentUser(),console.log("\u{1F464} Usuario actual:",this.currentUser),!this.currentUser){console.log("\u274C No hay usuario logueado, redirigiendo a login"),this.router.navigate(["/login"]);return}if(console.log("\u{1F511} Verificando permisos de acceso al m\xF3dulo..."),!this.empleosService.canAccessEmpleos()){console.log("\u274C No tiene permisos para acceder al m\xF3dulo"),this.error="No tiene permisos para acceder a este m\xF3dulo";return}console.log("\u2705 Permisos de acceso verificados"),console.log("\u{1F4CA} Verificando permisos espec\xEDficos:"),console.log("- Puede crear empleos:",this.canCreateEmpleo()),yield this.loadInitialData(),console.log("\u{1F3AF} Estado final del componente:"),console.log("- Empleos cargados:",this.empleos.length),console.log("- Empresas disponibles:",this.empresasDisponibles.length),console.log("- Estad\xEDsticas:",this.stats),this.empleos.length>0&&(console.log("\u{1F50D} Verificando permisos en primeros empleos:"),this.empleos.slice(0,3).forEach((t,e)=>{console.log(`- Empleo ${e+1} (ID: ${t.id}): Puede editar = ${this.canEditEmpleo(t)}`)}))})}loadInitialData(){return y(this,null,function*(){this.loading=!0,this.error="";try{console.log("Iniciando carga de datos..."),yield this.loadEmpresasDisponibles(),yield this.loadEmpleosWithFallback(),yield this.loadStats(),console.log("Carga inicial completada exitosamente")}catch(t){console.error("Error cargando datos iniciales:",t),this.error="Error al cargar los datos. Algunas funciones pueden no estar disponibles."}finally{this.loading=!1}})}loadEmpleosWithFallback(){return y(this,null,function*(){try{console.log("Intentando cargar empleos con funci\xF3n principal..."),this.empleos=yield this.empleosService.getEmpleosByUser(),console.log("Empleos cargados con funci\xF3n principal:",this.empleos.length)}catch(t){console.warn("Error con funci\xF3n principal, intentando con vista...",t);try{this.empleos=yield this.empleosService.getEmpleosFromView(),console.log("Empleos cargados con vista:",this.empleos.length)}catch(e){console.warn("Error con vista, intentando m\xE9todo b\xE1sico...",e);try{this.empleos=yield this.empleosService.getEmpleosBasic(),console.log("Empleos cargados con m\xE9todo b\xE1sico:",this.empleos.length)}catch(r){throw console.error("Todos los m\xE9todos fallaron:",r),this.empleos=[],new Error("No se pudieron cargar los empleos")}}}this.applyFilters()})}loadStats(){return y(this,null,function*(){try{console.log("Cargando estad\xEDsticas..."),this.stats=yield this.empleosService.getEmpleosStats(),this.isStatsEmpty(this.stats)&&this.empleos.length>0&&(console.log("Las estad\xEDsticas est\xE1n vac\xEDas pero hay empleos, calculando localmente..."),this.stats=this.calculateLocalStats())}catch(t){console.error("Error cargando estad\xEDsticas:",t),console.log("Calculando estad\xEDsticas localmente como fallback..."),this.stats=this.calculateLocalStats()}})}isStatsEmpty(t){return!t||t.total_empleos===0&&t.empleos_activos===0&&t.empleos_expirados===0&&t.empleos_cerrados===0&&t.total_aplicaciones===0&&t.empleos_urgentes===0}calculateLocalStats(){if(!this.empleos||this.empleos.length===0)return{total_empleos:0,empleos_activos:0,empleos_expirados:0,empleos_cerrados:0,total_aplicaciones:0,empleos_urgentes:0,promedio_aplicaciones:0,categorias_populares:[]};let t=new Date,e=this.empleos.filter(m=>m.status===1&&m.fecha_fin_publicacion&&new Date(m.fecha_fin_publicacion)>t),r=this.empleos.filter(m=>m.fecha_fin_publicacion&&new Date(m.fecha_fin_publicacion)<=t),i=this.empleos.filter(m=>m.status===2),o=this.empleos.filter(m=>m.urgencia==="urgente"&&m.status===1),s=this.empleos.reduce((m,v)=>m+(v.aplicaciones_recibidas||0),0),c={};this.empleos.forEach(m=>{m.categoria&&(c[m.categoria]=(c[m.categoria]||0)+1)});let u=Object.entries(c).map(([m,v])=>({categoria:m,total:v})).sort((m,v)=>v.total-m.total).slice(0,5),f={total_empleos:this.empleos.length,empleos_activos:e.length,empleos_expirados:r.length,empleos_cerrados:i.length,total_aplicaciones:s,empleos_urgentes:o.length,promedio_aplicaciones:this.empleos.length>0?s/this.empleos.length:0,categorias_populares:u};return console.log("\u2705 Estad\xEDsticas calculadas localmente:",f),f}loadEmpresasDisponibles(){return y(this,null,function*(){try{console.log("Cargando empresas disponibles..."),this.empresasDisponibles=yield this.empleosService.getEmpresasDisponibles(),console.log("Empresas disponibles:",this.empresasDisponibles.length)}catch(t){console.error("Error cargando empresas:",t),this.empresasDisponibles=[]}})}applyFilters(){let t=[...this.empleos];if(this.searchTerm.trim()){let e=this.searchTerm.toLowerCase();t=t.filter(r=>r.nombre.toLowerCase().includes(e)||(r.descripcion?.descripcion||"").toLowerCase().includes(e)||(r.empresa_nombre||"").toLowerCase().includes(e)||(r.keywords||[]).some(i=>i.toLowerCase().includes(e)))}this.categoriaFilter!=="all"&&(t=t.filter(e=>e.categoria===this.categoriaFilter)),this.estadoFilter!=="all"&&(t=t.filter(e=>e.estado_calculado===this.estadoFilter)),this.urgenciaFilter!=="all"&&(t=t.filter(e=>e.urgencia===this.urgenciaFilter)),this.empresaFilter!=="all"&&(t=t.filter(e=>e.empresa_id.toString()===this.empresaFilter)),this.jornadaFilter!=="all"&&(t=t.filter(e=>e.jornada_laboral===this.jornadaFilter)),this.modalidadFilter!=="all"&&(t=t.filter(e=>e.lugar_trabajo?.modalidades?.includes(this.modalidadFilter))),this.empleosFiltrados=t,this.updatePagination()}updatePagination(){this.totalPages=Math.ceil(this.empleosFiltrados.length/this.itemsPerPage),this.currentPage>this.totalPages&&(this.currentPage=1)}get paginatedEmpleos(){let t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.empleosFiltrados.slice(t,e)}clearFilters(){this.searchTerm="",this.categoriaFilter="all",this.estadoFilter="all",this.urgenciaFilter="all",this.empresaFilter="all",this.jornadaFilter="all",this.modalidadFilter="all",this.currentPage=1,this.applyFilters()}openCreateModal(){if(!this.canCreateEmpleo()){this.error="No tiene permisos para crear empleos";return}console.log("=== ABRIENDO MODAL CREAR ==="),this.resetForm(),this.modalMode="create",this.selectedEmpleo=null,this.showModal=!0}openEditModal(t){if(!this.canEditEmpleo(t)){this.error="No tiene permisos para editar este empleo";return}console.log("=== ABRIENDO MODAL EDITAR ==="),this.selectedEmpleo=t,this.loadEmpleoToForm(t),this.modalMode="edit",this.showModal=!0}openViewModal(t){this.selectedEmpleo=t,this.loadEmpleoToForm(t),this.modalMode="view",this.showModal=!0,t.id&&this.empleosService.incrementarVistas(t.id)}closeModal(){this.showModal=!1,this.selectedEmpleo=null,this.resetForm(),this.error=""}getEmptyForm(){return{nombre:"",descripcion:{descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]},categoria:"",lugar_trabajo:{modalidades:[]},experiencia_laboral:"",salario:{minimo:null,maximo:null,moneda:"GTQ",periodo:"mensual",negociable:!1},jornada_laboral:"",tipo_contrato:"",urgencia:"normal",empresa_id:0,fecha_fin_publicacion:"",numero_vacantes:1,keywords:[],edad_minima:null,edad_maxima:null,genero:"indiferente",estado_civil:"indiferente",nivel_educacion:""}}resetForm(){console.log("=== RESETEANDO FORMULARIO ==="),this.empleoForm=this.getEmptyForm(),this.empresasDisponibles.length===1&&(this.empleoForm.empresa_id=this.empresasDisponibles[0].id)}loadEmpleoToForm(t){console.log("=== CARGANDO EMPLEO AL FORMULARIO ==="),this.empleoForm=G(P({},t),{fecha_fin_publicacion:t.fecha_fin_publicacion?new Date(t.fecha_fin_publicacion).toISOString().split("T")[0]:""}),this.empleoForm.lugar_trabajo||(this.empleoForm.lugar_trabajo={modalidades:[]}),this.empleoForm.descripcion||(this.empleoForm.descripcion={descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]}),this.empleoForm.keywords||(this.empleoForm.keywords=[]),this.empleoForm.salario||(this.empleoForm.salario={minimo:null,maximo:null,moneda:"GTQ",periodo:"mensual",negociable:!1})}saveEmpleo(){return y(this,null,function*(){try{if(this.loading=!0,this.error="",console.log("=== INICIANDO GUARDADO DE EMPLEO ==="),!this.empleoForm.nombre||!this.empleoForm.categoria||!this.empleoForm.empresa_id){this.error="Faltan campos obligatorios b\xE1sicos";return}if(!this.empleoForm.lugar_trabajo?.modalidades||this.empleoForm.lugar_trabajo.modalidades.length===0){this.error="Debe seleccionar al menos una modalidad de trabajo";return}let t=this.empleosService.validateEmpleoData(this.empleoForm);if(t.length>0){this.error="Errores de validaci\xF3n: "+t.join(", ");return}let e=G(P({},this.empleoForm),{fecha_fin_publicacion:new Date(this.empleoForm.fecha_fin_publicacion).toISOString()});this.modalMode==="create"?yield this.empleosService.createEmpleo(e):this.modalMode==="edit"&&(yield this.empleosService.updateEmpleo(this.selectedEmpleo.id,e)),yield this.loadEmpleosWithFallback(),yield this.loadStats(),this.closeModal()}catch(t){console.error("Error guardando empleo:",t),this.error="Error al guardar el empleo: "+(t?.message||"Error desconocido")}finally{this.loading=!1}})}deleteEmpleo(t){return y(this,null,function*(){if(!this.canEditEmpleo(t)){this.error="No tiene permisos para eliminar este empleo";return}if(confirm(`\xBFEst\xE1 seguro de eliminar el empleo "${t.nombre}"?`))try{this.loading=!0,yield this.empleosService.deleteEmpleo(t.id),console.log("Empleo eliminado exitosamente"),yield this.loadEmpleosWithFallback(),yield this.loadStats()}catch(e){console.error("Error eliminando empleo:",e),this.error="Error al eliminar el empleo. Intente nuevamente."}finally{this.loading=!1}})}showDebugActions=!0;showDebugInfo=!0;canCreateEmpleo(){if(console.log("\u{1F50D} Verificando permisos para crear empleo"),console.log("- Usuario actual:",this.currentUser),console.log("- ID Perfil:",this.currentUser?.id_perfil),!this.currentUser)return console.log("\u274C No hay usuario logueado"),!1;let t=this.currentUser.id_perfil===1||this.currentUser.id_perfil===3;return console.log("\u2705 Puede crear empleo:",t),t}canEditEmpleo(t){if(console.log("\u{1F50D} Verificando permisos para editar empleo:",t.id),console.log("- Usuario actual:",this.currentUser),console.log("- ID Perfil:",this.currentUser?.id_perfil),console.log("- Empleo empresa_id:",t.empresa_id),console.log("- Empleo puede_editar:",t.puede_editar),!this.currentUser)return console.log("\u274C No hay usuario logueado"),!1;if(this.currentUser.id_perfil===1)return console.log("\u2705 Es admin - puede editar cualquier empleo"),!0;if(this.currentUser.id_perfil===3){if(t.puede_editar!==void 0)return console.log("\u2705 Usando flag puede_editar:",t.puede_editar),t.puede_editar;let e=this.empresasDisponibles.some(r=>r.id===t.empresa_id);return console.log("\u2705 Verificando por empresas disponibles:",e),e}return console.log("\u274C No tiene permisos para editar"),!1}canEditEmpleoPermissive(t){return this.currentUser?this.currentUser.id_perfil===1||this.currentUser.id_perfil===3:!1}getCategorias(){return this.empleosService.getCategorias()}getModalidadesTrabajo(){return this.empleosService.getModalidadesTrabajo()}getNivelesExperiencia(){return this.empleosService.getNivelesExperiencia()}getTiposJornada(){return this.empleosService.getTiposJornada()}getTiposContrato(){return this.empleosService.getTiposContrato()}getNivelesUrgencia(){return this.empleosService.getNivelesUrgencia()}getNivelesEducacion(){return this.empleosService.getNivelesEducacion()}formatSalario(t){return this.empleosService.formatSalario(t)}formatModalidades(t){return this.empleosService.formatModalidades(t)}getEstadoLegible(t){return this.empleosService.getEstadoLegible(t)}getCategoriaLegible(t){return this.empleosService.getCategoriaLegible(t)}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"Fecha inv\xE1lida"}}addRequisito(){this.empleoForm.descripcion||(this.empleoForm.descripcion={descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]}),this.empleoForm.descripcion.requisitos.push("")}removeRequisito(t){this.empleoForm.descripcion?.requisitos&&this.empleoForm.descripcion.requisitos.splice(t,1)}addBeneficio(){this.empleoForm.descripcion||(this.empleoForm.descripcion={descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]}),this.empleoForm.descripcion.beneficios.push("")}removeBeneficio(t){this.empleoForm.descripcion?.beneficios&&this.empleoForm.descripcion.beneficios.splice(t,1)}addHabilidad(){this.empleoForm.descripcion||(this.empleoForm.descripcion={descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]}),this.empleoForm.descripcion.habilidades.push("")}removeHabilidad(t){this.empleoForm.descripcion?.habilidades&&this.empleoForm.descripcion.habilidades.splice(t,1)}addIdioma(){this.empleoForm.descripcion||(this.empleoForm.descripcion={descripcion:"",requisitos:[],beneficios:[],habilidades:[],idiomas:[]}),this.empleoForm.descripcion.idiomas.push("")}removeIdioma(t){this.empleoForm.descripcion?.idiomas&&this.empleoForm.descripcion.idiomas.splice(t,1)}addKeyword(){this.empleoForm.keywords||(this.empleoForm.keywords=[]),this.empleoForm.keywords.push("")}removeKeyword(t){this.empleoForm.keywords&&this.empleoForm.keywords.splice(t,1)}onModalidadSelectChange(t){let e=t.target.value;console.log("Modalidad seleccionada:",e),this.empleoForm.lugar_trabajo||(this.empleoForm.lugar_trabajo={modalidades:[]}),e&&e!==""?this.empleoForm.lugar_trabajo.modalidades=[e]:this.empleoForm.lugar_trabajo.modalidades=[]}getSelectedModalidad(){let t=this.empleoForm.lugar_trabajo?.modalidades;return t&&t.length>0?t[0]:""}hasSelectedModalidad(){return this.getSelectedModalidad()!==""}trackByIndex(t,e){return t}trackByEmpleoId(t,e){return e.id||t}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}prevPage(){this.currentPage>1&&this.currentPage--}get paginationPages(){let t=[],r=Math.max(1,this.currentPage-Math.floor(2.5)),i=Math.min(this.totalPages,r+5-1);i-r+1<5&&(r=Math.max(1,i-5+1));for(let o=r;o<=i;o++)t.push(o);return t}toggleDebugMode(){this.showDebugActions=!this.showDebugActions,this.showDebugInfo=!this.showDebugInfo,console.log("\u{1F41B} Debug mode:",this.showDebugActions?"ACTIVADO":"DESACTIVADO"),this.showDebugActions&&(console.log("\u{1F4CB} Estado actual del componente:"),console.log("- Usuario:",this.currentUser),console.log("- Empleos:",this.empleos.length),console.log("- Empresas disponibles:",this.empresasDisponibles),console.log("- Puede crear empleos:",this.canCreateEmpleo()))}debugEmpleoPermissions(t){console.log("\u{1F50D} Debug permisos para empleo:",t.id),console.log("- Nombre:",t.nombre),console.log("- Empresa ID:",t.empresa_id),console.log("- Puede editar (flag):",t.puede_editar),console.log("- Usuario actual:",this.currentUser),console.log("- Perfil usuario:",this.currentUser?.id_perfil),console.log("- Resultado canEditEmpleo:",this.canEditEmpleo(t)),console.log("- Resultado canEditEmpleoPermissive:",this.canEditEmpleoPermissive(t)),console.log("- Empresas disponibles:",this.empresasDisponibles.map(e=>({id:e.id,nombre:e.nombre})))}refreshData(){return y(this,null,function*(){yield this.loadInitialData()})}hasActiveFilters(){return this.searchTerm!==""||this.categoriaFilter!=="all"||this.estadoFilter!=="all"||this.urgenciaFilter!=="all"||this.empresaFilter!=="all"||this.jornadaFilter!=="all"||this.modalidadFilter!=="all"}getNoDataMessage(){return this.loading?"Cargando empleos...":this.error?this.error:this.hasActiveFilters()?"No se encontraron empleos que coincidan con los filtros aplicados.":this.canCreateEmpleo()?'No hay empleos creados. Haga clic en "Crear Empleo" para agregar el primero.':"No hay empleos disponibles para mostrar."}getMinDate(){let t=new Date;return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]}exportToCsv(){if(this.empleosFiltrados.length===0){alert("No hay datos para exportar");return}let e=[["ID","Nombre","Categor\xEDa","Empresa","Jornada","Modalidad","Experiencia","Salario","Estado","Fecha Creaci\xF3n","Fecha Fin"].join(","),...this.empleosFiltrados.map(o=>[o.id,`"${o.nombre}"`,this.getCategoriaLegible(o.categoria),`"${o.empresa_nombre||""}"`,o.jornada_laboral,this.formatModalidades(o.lugar_trabajo),o.experiencia_laboral,`"${this.formatSalario(o.salario)}"`,this.getEstadoLegible(o).texto,this.formatDate(o.fecha_creacion),this.formatDate(o.fecha_fin_publicacion)].join(","))].join(`
`),r=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){let o=URL.createObjectURL(r);i.setAttribute("href",o),i.setAttribute("download",`empleos_${new Date().toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}static \u0275fac=function(e){return new(e||n)(F(Pd),F(de),F(ce))};static \u0275cmp=le({type:n,selectors:[["app-gestionar-empleos"]],standalone:!1,decls:106,vars:24,consts:[["empleoFormRef","ngForm"],[1,"container","mx-auto","px-4","py-6"],[1,"mb-6"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","gap-3"],[1,"px-3","py-2","bg-purple-500","text-white","rounded-lg","hover:bg-purple-600","text-sm",3,"click"],[1,"fas","fa-bug","mr-1"],[1,"px-4","py-2","bg-gray-500","text-white","rounded-lg","hover:bg-gray-600","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-sync-alt"],["class","px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",3,"click",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",4,"ngIf"],[1,"bg-white","rounded-lg","shadow","p-6","mb-6"],[1,"text-lg","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","lg:grid-cols-4","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","placeholder","Nombre, descripci\xF3n, empresa...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","change","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["value","activo"],["value","expirado"],["value","cerrado"],["value","pausado"],["value","inactivo"],["value","urgente"],["value","normal"],["value","bajo"],["value","tiempo_completo"],["value","medio_tiempo"],["value","por_horas"],["value","remoto"],["value","hibrido"],["value","presencial"],[1,"flex","items-end"],[1,"w-full","px-4","py-2","bg-gray-500","text-white","rounded-md","hover:bg-gray-600","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-times","mr-2"],[1,"flex","justify-between","items-center","text-sm","text-gray-600"],["class","font-medium",4,"ngIf"],[1,"px-3","py-1","bg-green-600","text-white","rounded","hover:bg-green-700","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-download","mr-1"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",4,"ngIf"],["class","flex justify-center py-8",4,"ngIf"],["class","bg-white rounded-lg shadow overflow-hidden",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",3,"click",4,"ngIf"],[1,"px-6","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700",3,"click"],[1,"fas","fa-plus","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mb-6"],[1,"bg-white","p-4","rounded-lg","shadow","border-l-4","border-blue-500"],[1,"flex","items-center"],[1,"flex-1"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-2xl","font-bold","text-gray-900"],[1,"fas","fa-briefcase","text-blue-500","text-2xl"],[1,"bg-white","p-4","rounded-lg","shadow","border-l-4","border-green-500"],[1,"fas","fa-check-circle","text-green-500","text-2xl"],[1,"bg-white","p-4","rounded-lg","shadow","border-l-4","border-red-500"],[1,"fas","fa-exclamation-triangle","text-red-500","text-2xl"],[1,"bg-white","p-4","rounded-lg","shadow","border-l-4","border-purple-500"],[1,"fas","fa-users","text-purple-500","text-2xl"],[3,"value"],[1,"font-medium"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-6"],[1,"fas","fa-exclamation-triangle","mr-2"],[1,"flex","justify-center","py-8"],[1,"text-center"],[1,"fas","fa-spinner","fa-spin","text-3xl","text-blue-500","mb-2"],[1,"text-gray-600"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],["class","p-8 text-center",4,"ngIf"],[4,"ngIf"],[1,"p-8","text-center"],[1,"fas","fa-briefcase","text-4xl","text-gray-400","mb-4"],[1,"text-gray-600","text-lg"],[1,"bg-gray-50","px-6","py-3","border-b","border-gray-200"],[1,"grid","grid-cols-12","gap-4","text-sm","font-medium","text-gray-700"],[1,"col-span-3"],[1,"col-span-2"],[1,"col-span-1"],[1,"divide-y","divide-gray-200"],["class","px-6 py-4 hover:bg-gray-50",4,"ngFor","ngForOf","ngForTrackBy"],["class","bg-gray-50 px-6 py-3 border-t border-gray-200",4,"ngIf"],[1,"px-6","py-4","hover:bg-gray-50"],[1,"grid","grid-cols-12","gap-4","items-center"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600","truncate"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-600"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"text-sm","text-gray-600","mt-1"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full",3,"ngClass"],["class","text-xs text-gray-500 mt-1",4,"ngIf"],[1,"font-semibold","text-gray-900"],[1,"text-xs","text-gray-600"],[1,"flex","gap-2"],["title","Ver detalles","type","button",1,"p-2","text-blue-600","hover:bg-blue-100","rounded","transition-colors",3,"click"],[1,"fas","fa-eye"],["class","p-2 text-green-600 hover:bg-green-100 rounded transition-colors","title","Editar","type","button",3,"click",4,"ngIf"],["class","p-2 text-red-600 hover:bg-red-100 rounded transition-colors","title","Eliminar","type","button",3,"click",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],["title","Editar","type","button",1,"p-2","text-green-600","hover:bg-green-100","rounded","transition-colors",3,"click"],[1,"fas","fa-edit"],["title","Eliminar","type","button",1,"p-2","text-red-600","hover:bg-red-100","rounded","transition-colors",3,"click"],[1,"fas","fa-trash"],[1,"bg-gray-50","px-6","py-3","border-t","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-700"],[1,"px-3","py-1","border","border-gray-300","rounded","hover:bg-gray-100","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-chevron-left"],["class","px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",3,"bg-blue-500","text-white","click",4,"ngFor","ngForOf"],[1,"fas","fa-chevron-right"],[1,"px-3","py-1","border","border-gray-300","rounded","hover:bg-gray-100",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","max-w-4xl","w-full","max-h-[90vh]","overflow-y-auto"],[1,"flex","justify-between","items-center","p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold"],[1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"fas","fa-times","text-xl"],[1,"p-6"],[3,"ngSubmit"],[1,"text-lg","font-medium","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"md:col-span-2"],["type","text","name","nombre","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["name","empresa_id","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["value","0"],["name","categoria","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["value",""],["type","number","name","numero_vacantes","min","1","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["name","experiencia_laboral",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["name","jornada_laboral","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["name","tipo_contrato","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["name","urgencia",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["type","date","name","fecha_fin_publicacion","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly","min"],[1,"grid","grid-cols-1","gap-4"],["name","modalidad_trabajo","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-xs text-gray-500 mt-2",4,"ngIf"],["class","mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],["type","number","name","salario_minimo","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["type","number","name","salario_maximo","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["name","moneda",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["value","GTQ"],["value","USD"],["value","EUR"],["type","checkbox","name","negociable","id","negociable",1,"mr-2",3,"ngModelChange","ngModel","disabled"],["for","negociable",1,"text-sm","text-gray-700"],[1,"mb-4"],["name","descripcion","rows","4","required","","placeholder","Describe las responsabilidades principales del puesto...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["class","flex gap-2 mb-2",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","class","px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",3,"click",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["type","number","name","edad_minima","min","16","max","100",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["type","number","name","edad_maxima","min","16","max","100",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","readonly"],["name","genero",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["value","indiferente"],["value","masculino"],["value","femenino"],["name","estado_civil",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["value","soltero"],["value","casado"],["name","nivel_educacion",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],["class","mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",4,"ngIf"],[1,"flex","justify-end","gap-4","pt-4","border-t","border-gray-200"],["type","button",1,"px-6","py-2","border","border-gray-300","text-gray-700","rounded-md","hover:bg-gray-50",3,"click"],["type","submit","class","px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",3,"disabled",4,"ngIf"],[1,"text-xs","text-gray-500","mt-2"],[1,"fas","fa-info-circle","mr-1"],[1,"mt-3","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"flex","items-center","text-blue-800"],[1,"fas","fa-check-circle","mr-2"],[1,"ml-2","capitalize"],[1,"flex","gap-2","mb-2"],["type","text","placeholder","Ej: T\xEDtulo universitario en...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","name","readonly"],["type","button","class","px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",3,"click",4,"ngIf"],["type","button",1,"px-3","py-2","bg-red-500","text-white","rounded-md","hover:bg-red-600",3,"click"],[1,"fas","fa-times"],["type","button",1,"px-4","py-2","bg-blue-500","text-white","rounded-md","hover:bg-blue-600",3,"click"],["type","text","placeholder","Ej: Seguro m\xE9dico...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","name","readonly"],["type","text","placeholder","Ej: JavaScript, Angular...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","name","readonly"],["type","text","placeholder","Ej: Ingl\xE9s avanzado...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","name","readonly"],["type","text","placeholder","Ej: programador, developer, angular...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","read-only:bg-gray-100",3,"ngModelChange","ngModel","name","readonly"],[1,"mb-4","bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded"],["type","submit",1,"px-6","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","disabled:opacity-50",3,"disabled"],["class","fas fa-spinner fa-spin mr-2",4,"ngIf"],[1,"fas","fa-spinner","fa-spin","mr-2"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),d(5,"Gesti\xF3n de Empleos"),l(),a(6,"p",5),d(7,"Administre las ofertas laborales de su empresa"),l()(),a(8,"div",6)(9,"button",7),E("click",function(){return r.toggleDebugMode()}),_(10,"i",8),d(11),l(),a(12,"button",9),E("click",function(){return r.refreshData()}),_(13,"i",10),d(14," Actualizar "),l(),C(15,iA,3,0,"button",11),l()(),C(16,oA,33,4,"div",12),l(),a(17,"div",13)(18,"h3",14),d(19,"Filtros de B\xFAsqueda"),l(),a(20,"div",15)(21,"div")(22,"label",16),d(23,"Buscar"),l(),a(24,"input",17),A("ngModelChange",function(o){return O(r.searchTerm,o)||(r.searchTerm=o),o}),E("input",function(){return r.applyFilters()}),l()(),a(25,"div")(26,"label",16),d(27,"Categor\xEDa"),l(),a(28,"select",18),A("ngModelChange",function(o){return O(r.categoriaFilter,o)||(r.categoriaFilter=o),o}),E("change",function(){return r.applyFilters()}),a(29,"option",19),d(30,"Todas las categor\xEDas"),l(),C(31,sA,2,2,"option",20),l()(),a(32,"div")(33,"label",16),d(34,"Estado"),l(),a(35,"select",18),A("ngModelChange",function(o){return O(r.estadoFilter,o)||(r.estadoFilter=o),o}),E("change",function(){return r.applyFilters()}),a(36,"option",19),d(37,"Todos los estados"),l(),a(38,"option",21),d(39,"Activo"),l(),a(40,"option",22),d(41,"Expirado"),l(),a(42,"option",23),d(43,"Cerrado"),l(),a(44,"option",24),d(45,"Pausado"),l(),a(46,"option",25),d(47,"Inactivo"),l()()(),a(48,"div")(49,"label",16),d(50,"Urgencia"),l(),a(51,"select",18),A("ngModelChange",function(o){return O(r.urgenciaFilter,o)||(r.urgenciaFilter=o),o}),E("change",function(){return r.applyFilters()}),a(52,"option",19),d(53,"Todas"),l(),a(54,"option",26),d(55,"Urgente"),l(),a(56,"option",27),d(57,"Normal"),l(),a(58,"option",28),d(59,"Bajo"),l()()(),a(60,"div")(61,"label",16),d(62,"Empresa"),l(),a(63,"select",18),A("ngModelChange",function(o){return O(r.empresaFilter,o)||(r.empresaFilter=o),o}),E("change",function(){return r.applyFilters()}),a(64,"option",19),d(65,"Todas las empresas"),l(),C(66,aA,2,2,"option",20),l()(),a(67,"div")(68,"label",16),d(69,"Jornada"),l(),a(70,"select",18),A("ngModelChange",function(o){return O(r.jornadaFilter,o)||(r.jornadaFilter=o),o}),E("change",function(){return r.applyFilters()}),a(71,"option",19),d(72,"Todas"),l(),a(73,"option",29),d(74,"Tiempo Completo"),l(),a(75,"option",30),d(76,"Medio Tiempo"),l(),a(77,"option",31),d(78,"Por Horas"),l()()(),a(79,"div")(80,"label",16),d(81,"Modalidad"),l(),a(82,"select",18),A("ngModelChange",function(o){return O(r.modalidadFilter,o)||(r.modalidadFilter=o),o}),E("change",function(){return r.applyFilters()}),a(83,"option",19),d(84,"Todas"),l(),a(85,"option",32),d(86,"Remoto"),l(),a(87,"option",33),d(88,"H\xEDbrido"),l(),a(89,"option",34),d(90,"Presencial"),l()()(),a(91,"div",35)(92,"button",36),E("click",function(){return r.clearFilters()}),_(93,"i",37),d(94," Limpiar "),l()()(),a(95,"div",38)(96,"span"),d(97),C(98,lA,2,1,"span",39),l(),a(99,"button",40),E("click",function(){return r.exportToCsv()}),_(100,"i",41),d(101," Exportar CSV "),l()()(),C(102,cA,3,1,"div",42)(103,dA,5,0,"div",43)(104,yA,3,2,"div",44),l(),C(105,ZA,193,71,"div",45)),e&2&&(p(11),I(" Debug: ",r.showDebugActions?"ON":"OFF"," "),p(),h("disabled",r.loading),p(),Ft("fa-spin",r.loading),p(2),h("ngIf",r.canCreateEmpleo()),p(),h("ngIf",r.stats),p(8),k("ngModel",r.searchTerm),p(4),k("ngModel",r.categoriaFilter),p(3),h("ngForOf",r.getCategorias()),p(4),k("ngModel",r.estadoFilter),p(16),k("ngModel",r.urgenciaFilter),p(12),k("ngModel",r.empresaFilter),p(3),h("ngForOf",r.empresasDisponibles),p(4),k("ngModel",r.jornadaFilter),p(12),k("ngModel",r.modalidadFilter),p(10),h("disabled",!r.hasActiveFilters()),p(5),Me(" Mostrando ",r.paginatedEmpleos.length," de ",r.empleosFiltrados.length," empleos "),p(),h("ngIf",r.hasActiveFilters()),p(),h("disabled",r.empleosFiltrados.length===0),p(3),h("ngIf",r.error),p(),h("ngIf",r.loading),p(),h("ngIf",!r.loading),p(),h("ngIf",r.showModal))},dependencies:[yt,Ce,pe,Ye,Xe,et,Ee,ui,ha,Ze,ke,qe,Ue,pi,ga,De,je,us],styles:['.stat-card[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.5rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.stat-card[_ngcontent-%COMP%]:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.stat-card-icon[_ngcontent-%COMP%]{display:flex;height:3rem;width:3rem;align-items:center;justify-content:center;border-radius:.5rem;font-size:1.25rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.stat-card-value[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.stat-card-label[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.filter-container[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.5rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1rem}@media (min-width: 768px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1280px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))}}.filter-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-label[_ngcontent-%COMP%]{margin-bottom:.5rem;display:block;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.filter-input[_ngcontent-%COMP%], .filter-select[_ngcontent-%COMP%]{width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.filter-input[_ngcontent-%COMP%]:focus, .filter-select[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.empleos-table[_ngcontent-%COMP%]{overflow:hidden;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.table-header[_ngcontent-%COMP%]{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.table-header-cell[_ngcontent-%COMP%]{padding:.75rem 1.5rem;text-align:left;font-size:.75rem;line-height:1rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.table-row[_ngcontent-%COMP%]{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.table-row[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.table-cell[_ngcontent-%COMP%]{white-space:nowrap;padding:1rem 1.5rem}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-radius:9999px;padding:.125rem .625rem;font-size:.75rem;line-height:1rem;font-weight:500}.badge-active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.badge-inactive[_ngcontent-%COMP%], .badge-expired[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.badge-paused[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.badge-closed[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.badge-urgent[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.badge-normal[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.badge-low[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.badge-category[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.action-button[_ngcontent-%COMP%]{border-radius:.375rem;padding:.5rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.action-button[_ngcontent-%COMP%]:hover{--tw-bg-opacity: .8}.action-button-view[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.action-button-view[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.action-button-edit[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.action-button-edit[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.action-button-delete[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.action-button-delete[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:center;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1));--tw-bg-opacity: .5;padding:1rem}.modal-container[_ngcontent-%COMP%]{max-height:90vh;width:100%;max-width:56rem;overflow:hidden;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:1.5rem}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem;font-weight:600;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.modal-close[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.modal-close[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.modal-body[_ngcontent-%COMP%]{max-height:calc(90vh - 140px);overflow-y:auto;padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;border-top-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:1rem 1.5rem}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.form-section-title[_ngcontent-%COMP%]{margin-bottom:1rem;border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));padding-bottom:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1rem}@media (min-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.form-grid-full[_ngcontent-%COMP%]{grid-column:span 2 / span 2}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{margin-bottom:.5rem;display:block;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.form-label-required[_ngcontent-%COMP%]:after{content:" *";--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.form-input[_ngcontent-%COMP%]:read-only, .form-select[_ngcontent-%COMP%]:disabled, .form-textarea[_ngcontent-%COMP%]:read-only{cursor:not-allowed;--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.form-checkbox[_ngcontent-%COMP%]{height:1rem;width:1rem;border-radius:.25rem;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.form-checkbox[_ngcontent-%COMP%]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.form-checkbox-label[_ngcontent-%COMP%]{margin-left:.5rem;cursor:pointer;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.dynamic-array-item[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;align-items:center;gap:.5rem}.dynamic-array-input[_ngcontent-%COMP%]{flex:1 1 0%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem}.dynamic-array-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.dynamic-array-remove[_ngcontent-%COMP%]{border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1));padding:.5rem .75rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.dynamic-array-remove[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.dynamic-array-add[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.dynamic-array-add[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.pagination-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-top-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:.75rem 1.5rem}.pagination-info[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.pagination-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.pagination-button[_ngcontent-%COMP%]{border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.25rem .75rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.pagination-button[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.pagination-button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.pagination-button-active[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.pagination-button-active[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1.5rem;text-align:center}.empty-state-icon[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:2.25rem;line-height:2.5rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.empty-state-title[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.empty-state-description[_ngcontent-%COMP%]{max-width:28rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:3rem;padding-bottom:3rem}.loading-spinner[_ngcontent-%COMP%]{margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;font-size:1.875rem;line-height:2.25rem;--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.loading-text[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1));padding:.75rem 1rem;--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.error-icon[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.salary-info[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.salary-negotiable[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;font-weight:400;--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.work-modality-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1rem}@media (min-width: 640px){.work-modality-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}.work-modality-item[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));padding:.75rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.work-modality-item[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.work-modality-checkbox[_ngcontent-%COMP%]{height:1rem;width:1rem;border-radius:.25rem;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.work-modality-checkbox[_ngcontent-%COMP%]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.work-modality-label[_ngcontent-%COMP%]{margin-left:.75rem;font-size:.875rem;line-height:1.25rem;font-weight:500;text-transform:capitalize;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.company-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.company-name[_ngcontent-%COMP%]{font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.company-details[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.counter-container[_ngcontent-%COMP%]{text-align:center}.counter-value[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;font-weight:600;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.counter-label[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem;max-width:none}.filter-grid[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}.stat-card[_ngcontent-%COMP%]{padding:1rem}.table-cell[_ngcontent-%COMP%]{padding:.75rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.slide-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .2s ease-out}.hover-lift[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.hover-lift[_ngcontent-%COMP%]:hover{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover-scale[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.hover-scale[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.tooltip[_ngcontent-%COMP%]{pointer-events:none;position:absolute;z-index:10;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1));padding:.25rem .5rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));opacity:0;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.tooltip-visible[_ngcontent-%COMP%]{opacity:1}.search-highlight[_ngcontent-%COMP%]{border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(254 240 138 / var(--tw-bg-opacity, 1));padding-left:.25rem;padding-right:.25rem;--tw-text-opacity: 1;color:rgb(113 63 18 / var(--tw-text-opacity, 1))}.metric-card[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1));background-image:linear-gradient(to bottom right,var(--tw-gradient-stops));--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #dbeafe var(--tw-gradient-to-position);padding:1rem}.metric-value[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.metric-label[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.metric-trend[_ngcontent-%COMP%]{margin-top:.25rem;display:flex;align-items:center;gap:.25rem;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.urgency-indicator[_ngcontent-%COMP%]{margin-right:.5rem;display:inline-block;height:.75rem;width:.75rem;border-radius:9999px}@keyframes _ngcontent-%COMP%_pulse{50%{opacity:.5}}.urgency-urgent[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite;--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.urgency-normal[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.urgency-low[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.keyword-tag[_ngcontent-%COMP%]{margin-right:.25rem;margin-bottom:.25rem;display:inline-block;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));padding:.25rem .5rem;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-wrap[_ngcontent-%COMP%]{overflow-wrap:break-word}.border-dashed[_ngcontent-%COMP%]{border-style:dashed}.bg-pattern[_ngcontent-%COMP%]{background-image:radial-gradient(circle,#e5e7eb 1px,transparent 1px);background-size:20px 20px}']})};var Mr=class n{constructor(t,e){this.supabaseService=t;this.authService=e}getEmpleosPublicos(t){return oe(this._getEmpleosPublicos(t))}_getEmpleosPublicos(t){return y(this,null,function*(){try{let e=t?.limite||20,r=((t?.pagina||1)-1)*e,{data:i,error:o}=yield this.supabaseService.client.rpc("get_empleos_publicos",{p_limit:e,p_offset:r,p_categoria:t?.categoria||null,p_modalidad:t?.modalidad||null,p_experiencia:t?.experiencia||null});if(o)throw console.error("Error obteniendo empleos p\xFAblicos:",o),o;let s=i||[];if(t?.busqueda){let c=t.busqueda.toLowerCase();s=s.filter(u=>u.nombre.toLowerCase().includes(c)||u.empresa_nombre.toLowerCase().includes(c))}return{empleos:s,total:s.length}}catch(e){throw console.error("Error en getEmpleosPublicos:",e),e}})}getDetalleEmpleo(t){return oe(this._getDetalleEmpleo(t))}_getDetalleEmpleo(t){return y(this,null,function*(){try{let{data:e,error:r}=yield this.supabaseService.client.from("empleos").select(`
          *,
          empresas (
            nombre,
            sector,
            email
          )
        `).eq("id",t).eq("status",1).gte("fecha_fin_publicacion",new Date().toISOString()).single();if(r){if(r.code==="PGRST116")return null;throw r}return G(P({},e),{empresa_nombre:e.empresas?.nombre||"",dias_restantes:Math.max(0,Math.ceil((new Date(e.fecha_fin_publicacion).getTime()-new Date().getTime())/(1e3*60*60*24)))})}catch(e){throw console.error("Error obteniendo detalle del empleo:",e),e}})}getMisCVs(){return oe(this._getMisCVs())}_getMisCVs(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");let{data:e,error:r}=yield this.supabaseService.client.rpc("get_cvs_candidato",{p_candidato_id:t.id});if(r)throw console.error("Error obteniendo CVs:",r),r;return e||[]}catch(t){throw console.error("Error en getMisCVs:",t),t}})}aplicarAEmpleo(t){return oe(this._aplicarAEmpleo(t))}_aplicarAEmpleo(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");let{data:r,error:i}=yield this.supabaseService.client.rpc("aplicar_a_empleo",{p_empleo_id:t.empleo_id,p_candidato_id:e.id,p_cv_id:t.cv_id,p_carta_presentacion:t.carta_presentacion,p_salario_esperado:t.salario_esperado||null,p_disponibilidad_inicio:t.disponibilidad_inicio||null,p_notas_candidato:t.notas_candidato||null});if(i)throw console.error("Error aplicando a empleo:",i),i;return r||{success:!1,message:"Error desconocido"}}catch(e){return console.error("Error en aplicarAEmpleo:",e),{success:!1,message:"Error al enviar la aplicaci\xF3n"}}})}getMisAplicaciones(){return oe(this._getMisAplicaciones())}_getMisAplicaciones(){return y(this,null,function*(){try{let t=this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");let{data:e,error:r}=yield this.supabaseService.client.from("v_aplicaciones_completa").select("*").eq("candidato_id",t.id).order("fecha_aplicacion",{ascending:!1});if(r)throw console.error("Error obteniendo mis aplicaciones:",r),r;return e||[]}catch(t){throw console.error("Error en getMisAplicaciones:",t),t}})}retirarAplicacion(t){return oe(this._retirarAplicacion(t))}_retirarAplicacion(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");let{data:r,error:i}=yield this.supabaseService.client.from("aplicaciones_empleo").select("candidato_id, status").eq("id",t).single();if(i||!r)return{success:!1,message:"Aplicaci\xF3n no encontrada"};if(r.candidato_id!==e.id)return{success:!1,message:"No tienes permisos para retirar esta aplicaci\xF3n"};if(r.status==="contratado")return{success:!1,message:"No puedes retirar una aplicaci\xF3n ya contratada"};let{error:o}=yield this.supabaseService.client.from("aplicaciones_empleo").update({status:"retirada",updated_at:new Date().toISOString()}).eq("id",t);if(o)throw console.error("Error retirando aplicaci\xF3n:",o),o;return{success:!0,message:"Aplicaci\xF3n retirada exitosamente"}}catch(e){return console.error("Error en retirarAplicacion:",e),{success:!1,message:"Error al retirar la aplicaci\xF3n"}}})}getAplicacionesPorEmpresa(t){return oe(this._getAplicacionesPorEmpresa(t))}_getAplicacionesPorEmpresa(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");if(e.id_perfil!==1&&e.id_perfil!==3)throw new Error("No tiene permisos para ver estas aplicaciones");let r=this.supabaseService.client.from("v_aplicaciones_completa").select("*");if(e.id_perfil===3){let{data:s}=yield this.supabaseService.client.from("empresas").select("id").contains("responsables",[e.id]);if(s&&s.length>0){let c=s.map(u=>u.id);r=r.in("empresa_id",c)}else return[]}t?.status&&(r=r.eq("status",t.status)),t?.empleo_id&&(r=r.eq("empleo_id",t.empleo_id)),r=r.order("fecha_aplicacion",{ascending:!1});let{data:i,error:o}=yield r;if(o)throw console.error("Error obteniendo aplicaciones por empresa:",o),o;return i||[]}catch(e){throw console.error("Error en getAplicacionesPorEmpresa:",e),e}})}getDetalleAplicacion(t){return oe(this._getDetalleAplicacion(t))}_getDetalleAplicacion(t){return y(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Usuario no autenticado");let{data:r,error:i}=yield this.supabaseService.client.from("v_aplicaciones_completa").select("*").eq("id",t).single();if(i){if(i.code==="PGRST116")return null;throw i}let o=r.candidato_id===e.id,s=e.id_perfil===1,c=o||s;if(!c&&e.id_perfil===3){let{data:u}=yield this.supabaseService.client.from("empresas").select("responsables").eq("id",r.empresa_id).single();u&&u.responsables.includes(e.id)&&(c=!0)}if(!c)throw new Error("No tiene permisos para ver esta aplicaci\xF3n");return r}catch(e){throw console.error("Error obteniendo detalle de aplicaci\xF3n:",e),e}})}actualizarEstadoAplicacion(t,e){return oe(this._actualizarEstadoAplicacion(t,e))}_actualizarEstadoAplicacion(t,e){return y(this,null,function*(){try{let r=this.authService.getCurrentUser();if(!r)throw new Error("Usuario no autenticado");if(r.id_perfil!==1&&r.id_perfil!==3)throw new Error("No tiene permisos para actualizar aplicaciones");let{data:i,error:o}=yield this.supabaseService.client.rpc("actualizar_estado_aplicacion",{p_aplicacion_id:t,p_nuevo_status:e.status,p_notas_rrhh:e.notas_rrhh||null,p_puntuacion_rrhh:e.puntuacion_rrhh||null,p_comentario:e.comentario||null,p_revisado_por:r.id});if(o)throw console.error("Error actualizando estado:",o),o;return i||{success:!1,message:"Error desconocido"}}catch(r){return console.error("Error en actualizarEstadoAplicacion:",r),{success:!1,message:"Error al actualizar el estado"}}})}formatearSalario(t){if(!t)return"No especificado";let e="";return t.minimo&&t.maximo?e=`Q${t.minimo.toLocaleString()} - Q${t.maximo.toLocaleString()}`:t.minimo?e=`Desde Q${t.minimo.toLocaleString()}`:t.maximo&&(e=`Hasta Q${t.maximo.toLocaleString()}`),t.periodo&&(e+=` ${t.periodo}`),t.negociable&&(e+=" (Negociable)"),e}obtenerModalidades(t){return!t||!t.modalidades?"":t.modalidades.join(", ")}getStatusDescription(t){return{pendiente:"Pendiente de revisi\xF3n",revisado:"Revisado por RRHH",preseleccionado:"Preseleccionado",entrevista:"En proceso de entrevista",rechazado:"No seleccionado",contratado:"Contratado",retirada:"Retirada por el candidato"}[t]||t}getStatusColor(t){return{pendiente:"bg-yellow-100 text-yellow-800",revisado:"bg-blue-100 text-blue-800",preseleccionado:"bg-purple-100 text-purple-800",entrevista:"bg-indigo-100 text-indigo-800",rechazado:"bg-red-100 text-red-800",contratado:"bg-green-100 text-green-800",retirada:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800"}canAccessPostulaciones(){return!!this.authService.getCurrentUser()}canReviewApplications(){let t=this.authService.getCurrentUser();return t?t.id_perfil===1||t.id_perfil===3:!1}canAccessAllApplications(){let t=this.authService.getCurrentUser();return t?t.id_perfil===1:!1}static \u0275fac=function(e){return new(e||n)(U(We),U(de))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function QA(n,t){if(n&1&&(a(0,"option",27),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function KA(n,t){n&1&&(a(0,"div",28),_(1,"i",29),a(2,"p",30),d(3,"Cargando aplicaciones..."),l()())}function JA(n,t){if(n&1&&(a(0,"span"),_(1,"i",51),d(2),l()),n&2){let e=g().$implicit;p(2),I(" Hace ",e.dias_desde_aplicacion," d\xEDas ")}}function XA(n,t){if(n&1&&(a(0,"span",52),_(1,"i",53),d(2),l()),n&2){let e=g().$implicit;p(2),I(" ",e.puntuacion_rrhh,"/10 ")}}function eO(n,t){if(n&1){let e=N();a(0,"button",54),E("click",function(){x(e);let i=g().$implicit,o=g(2);return w(o.retirarAplicacion(i.id))}),_(1,"i",55),d(2,"Retirar "),l()}}function tO(n,t){if(n&1&&(a(0,"div",56)(1,"h5",57),d(2,"Comentarios de RRHH:"),l(),a(3,"p",58),d(4),l()()),n&2){let e=g().$implicit;p(4),M(e.notas_rrhh)}}function nO(n,t){if(n&1){let e=N();a(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36)(4,"h3",37),d(5),l(),a(6,"p",38),_(7,"i",39),d(8),l(),a(9,"div",40)(10,"span"),_(11,"i",41),d(12),Le(13,"date"),l(),C(14,JA,3,1,"span",42),l(),a(15,"div",43)(16,"span",44),d(17),l(),C(18,XA,3,1,"span",45),l()(),a(19,"div",46)(20,"button",47),E("click",function(){let i=x(e).$implicit,o=g(2);return w(o.verDetalle(i))}),_(21,"i",48),d(22,"Ver detalle "),l(),C(23,eO,3,0,"button",49),l()(),C(24,tO,5,1,"div",50),l()()}if(n&2){let e=t.$implicit,r=g(2);p(5),I(" ",e.empleo_nombre," "),p(3),I(" ",e.empresa_nombre," "),p(4),I(" Aplicado: ",ot(13,9,e.fecha_aplicacion,"dd/MM/yyyy")," "),p(2),h("ngIf",e.dias_desde_aplicacion),p(2),h("ngClass",r.obtenerColorEstado(e.status)),p(),I(" ",r.getStatusDescription(e.status)," "),p(),h("ngIf",e.puntuacion_rrhh),p(5),h("ngIf",r.puedeRetirar(e)),p(),h("ngIf",e.notas_rrhh)}}function rO(n,t){if(n&1&&(a(0,"div",31),C(1,nO,25,12,"div",32),l()),n&2){let e=g();p(),h("ngForOf",e.aplicacionesFiltradas)}}function iO(n,t){n&1&&(a(0,"span"),d(1,"A\xFAn no has aplicado a ning\xFAn empleo"),l())}function oO(n,t){n&1&&(a(0,"span"),d(1,"No hay aplicaciones que coincidan con los filtros seleccionados"),l())}function sO(n,t){n&1&&(a(0,"a",63),_(1,"i",64),d(2,"Buscar empleos "),l())}function aO(n,t){if(n&1&&(a(0,"div",28),_(1,"i",59),a(2,"h3",60),d(3,"No hay aplicaciones"),l(),a(4,"p",61),C(5,iO,2,0,"span",42)(6,oO,2,0,"span",42),l(),C(7,sO,3,0,"a",62),l()),n&2){let e=g();p(5),h("ngIf",e.aplicaciones.length===0),p(),h("ngIf",e.aplicaciones.length>0),p(),h("ngIf",e.aplicaciones.length===0)}}function lO(n,t){if(n&1&&(a(0,"div")(1,"label",74),d(2,"Carta de presentaci\xF3n:"),l(),a(3,"p",81),d(4),l()()),n&2){let e=g(2);p(4),M(e.aplicacionSeleccionada.carta_presentacion)}}function cO(n,t){if(n&1&&(a(0,"div")(1,"label",74),d(2,"Disponibilidad:"),l(),a(3,"p",76),d(4),Le(5,"date"),l()()),n&2){let e=g(3);p(4),M(ot(5,1,e.aplicacionSeleccionada.disponibilidad_inicio,"dd/MM/yyyy"))}}function dO(n,t){if(n&1&&(a(0,"div",73)(1,"div")(2,"label",74),d(3,"Salario esperado:"),l(),a(4,"p",76),d(5),Le(6,"number"),l()(),C(7,cO,6,4,"div",42),l()),n&2){let e=g(2);p(5),I("Q",ot(6,2,e.aplicacionSeleccionada.salario_esperado,"1.0-0"),""),p(2),h("ngIf",e.aplicacionSeleccionada.disponibilidad_inicio)}}function uO(n,t){if(n&1&&(a(0,"div",82)(1,"label",74),d(2,"Comentarios de RRHH:"),l(),a(3,"p",83),d(4),l()()),n&2){let e=g(2);p(4),M(e.aplicacionSeleccionada.notas_rrhh)}}function pO(n,t){if(n&1){let e=N();a(0,"div",65)(1,"div",66)(2,"div",67)(3,"h3",68),d(4," Detalle de Aplicaci\xF3n "),l(),a(5,"button",69),E("click",function(){x(e);let i=g();return w(i.cerrarDetalle())}),_(6,"i",70),l()(),a(7,"div",71)(8,"div")(9,"h4",72),d(10),l(),a(11,"p",30),d(12),l()(),a(13,"div",73)(14,"div")(15,"label",74),d(16,"Estado:"),l(),a(17,"span",75),d(18),l()(),a(19,"div")(20,"label",74),d(21,"Fecha de aplicaci\xF3n:"),l(),a(22,"p",76),d(23),Le(24,"date"),l()()(),C(25,lO,5,1,"div",42)(26,dO,8,5,"div",77)(27,uO,5,1,"div",78),l(),a(28,"div",79)(29,"button",80),E("click",function(){x(e);let i=g();return w(i.cerrarDetalle())}),d(30," Cerrar "),l()()()()}if(n&2){let e=g();p(10),M(e.aplicacionSeleccionada.empleo_nombre),p(2),M(e.aplicacionSeleccionada.empresa_nombre),p(5),h("ngClass",e.obtenerColorEstado(e.aplicacionSeleccionada.status)),p(),I(" ",e.getStatusDescription(e.aplicacionSeleccionada.status)," "),p(5),M(ot(24,8,e.aplicacionSeleccionada.fecha_aplicacion,"dd/MM/yyyy HH:mm")),p(2),h("ngIf",e.aplicacionSeleccionada.carta_presentacion),p(),h("ngIf",e.aplicacionSeleccionada.salario_esperado),p(),h("ngIf",e.aplicacionSeleccionada.notas_rrhh)}}var Fd=class n{constructor(t){this.postulacionesService=t}aplicaciones=[];aplicacionesFiltradas=[];aplicacionSeleccionada=null;cargando=!1;mostrarDetalle=!1;filtros={status:"",empleo:"",fecha_desde:"",fecha_hasta:""};estadisticas={total:0,pendientes:0,revisadas:0,preseleccionadas:0,entrevistas:0,contratadas:0,rechazadas:0};estados=[{valor:"",nombre:"Todos los estados"},{valor:"pendiente",nombre:"Pendiente",color:"yellow"},{valor:"revisado",nombre:"Revisado",color:"blue"},{valor:"preseleccionado",nombre:"Preseleccionado",color:"green"},{valor:"entrevista",nombre:"En Entrevista",color:"purple"},{valor:"contratado",nombre:"Contratado",color:"green"},{valor:"rechazado",nombre:"Rechazado",color:"red"}];ngOnInit(){this.cargarMisAplicaciones()}cargarMisAplicaciones(){this.cargando=!0,this.postulacionesService.getMisAplicaciones().subscribe({next:t=>{this.aplicaciones=t,this.aplicarFiltros(),this.calcularEstadisticas(),this.cargando=!1},error:t=>{console.error("Error al cargar aplicaciones:",t),this.cargando=!1}})}aplicarFiltros(){let t=[...this.aplicaciones];this.filtros.status&&(t=t.filter(e=>e.status===this.filtros.status)),this.filtros.empleo&&(t=t.filter(e=>e.empleo_nombre.toLowerCase().includes(this.filtros.empleo.toLowerCase())||e.empresa_nombre.toLowerCase().includes(this.filtros.empleo.toLowerCase()))),this.filtros.fecha_desde&&(t=t.filter(e=>new Date(e.fecha_aplicacion)>=new Date(this.filtros.fecha_desde))),this.filtros.fecha_hasta&&(t=t.filter(e=>new Date(e.fecha_aplicacion)<=new Date(this.filtros.fecha_hasta))),this.aplicacionesFiltradas=t}limpiarFiltros(){this.filtros={status:"",empleo:"",fecha_desde:"",fecha_hasta:""},this.aplicarFiltros()}calcularEstadisticas(){this.estadisticas={total:this.aplicaciones.length,pendientes:this.aplicaciones.filter(t=>t.status==="pendiente").length,revisadas:this.aplicaciones.filter(t=>t.status==="revisado").length,preseleccionadas:this.aplicaciones.filter(t=>t.status==="preseleccionado").length,entrevistas:this.aplicaciones.filter(t=>t.status==="entrevista").length,contratadas:this.aplicaciones.filter(t=>t.status==="contratado").length,rechazadas:this.aplicaciones.filter(t=>t.status==="rechazado").length}}contarPorEstado(t){return this.aplicaciones.filter(e=>e.status===t).length}verDetalle(t){this.aplicacionSeleccionada=t,this.mostrarDetalle=!0}cerrarDetalle(){this.mostrarDetalle=!1,this.aplicacionSeleccionada=null}obtenerColorEstado(t){let r=this.estados.find(i=>i.valor===t)?.color||"gray";return`bg-${r}-100 text-${r}-800 border-${r}-200`}retirarAplicacion(t){confirm("\xBFEst\xE1s seguro de que deseas retirar esta aplicaci\xF3n?")&&(this.cargando=!0,this.postulacionesService.retirarAplicacion(t).subscribe({next:e=>{e.success?(alert(e.message),this.cargarMisAplicaciones()):alert(e.message),this.cargando=!1},error:e=>{console.error("Error al retirar aplicaci\xF3n:",e),alert("Error al retirar la aplicaci\xF3n"),this.cargando=!1}}))}getStatusColor(t){return this.postulacionesService.getStatusColor(t)}getStatusDescription(t){return this.postulacionesService.getStatusDescription(t)}formatearSalario(t){return this.postulacionesService.formatearSalario(t)}puedeRetirar(t){return!["contratado","rechazado","retirada"].includes(t.status)}static \u0275fac=function(e){return new(e||n)(F(Mr))};static \u0275cmp=le({type:n,selectors:[["app-mis-aplicaciones"]],standalone:!1,decls:67,vars:15,consts:[[1,"min-h-screen","bg-gray-50","py-6"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-3","lg:grid-cols-6","gap-4","mb-6"],[1,"bg-white","rounded-lg","shadow","p-4"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold","text-yellow-600"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-purple-600"],[1,"text-2xl","font-bold","text-green-700"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Nombre del empleo o empresa...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],["type","date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","change","ngModel"],[1,"flex","justify-end"],[1,"px-4","py-2","border","border-gray-300","text-gray-700","rounded-md","hover:bg-gray-50",3,"click"],[1,"fas","fa-broom","mr-2"],["class","text-center py-12",4,"ngIf"],["class","space-y-4",4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",4,"ngIf"],[3,"value"],[1,"text-center","py-12"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-blue-500","mb-4"],[1,"text-gray-600"],[1,"space-y-4"],["class","bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-300"],[1,"p-6"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600","mb-3"],[1,"fas","fa-building","mr-1"],[1,"flex","items-center","space-x-4","text-sm","text-gray-500","mb-3"],[1,"fas","fa-calendar","mr-1"],[4,"ngIf"],[1,"flex","items-center","space-x-3"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium","border",3,"ngClass"],["class","inline-flex items-center text-sm text-gray-600",4,"ngIf"],[1,"flex","items-center","space-x-2","ml-4"],[1,"px-3","py-2","text-blue-600","hover:text-blue-800","text-sm","font-medium",3,"click"],[1,"fas","fa-eye","mr-1"],["class","px-3 py-2 text-red-600 hover:text-red-800 text-sm font-medium",3,"click",4,"ngIf"],["class","mt-4 p-3 bg-blue-50 rounded-lg",4,"ngIf"],[1,"fas","fa-clock","mr-1"],[1,"inline-flex","items-center","text-sm","text-gray-600"],[1,"fas","fa-star","text-yellow-400","mr-1"],[1,"px-3","py-2","text-red-600","hover:text-red-800","text-sm","font-medium",3,"click"],[1,"fas","fa-trash","mr-1"],[1,"mt-4","p-3","bg-blue-50","rounded-lg"],[1,"text-sm","font-medium","text-gray-900","mb-1"],[1,"text-sm","text-gray-700"],[1,"fas","fa-file-alt","text-6xl","text-gray-300","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["routerLink","/postulaciones/buscar-empleos","class","inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",4,"ngIf"],["routerLink","/postulaciones/buscar-empleos",1,"inline-flex","items-center","px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700"],[1,"fas","fa-search","mr-2"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"relative","top-10","mx-auto","p-5","border","w-11/12","md:w-3/4","lg:w-1/2","shadow-lg","rounded-md","bg-white","mb-10"],[1,"flex","items-center","justify-between","pb-4","border-b"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],[1,"mt-4","space-y-4"],[1,"font-semibold","text-gray-900"],[1,"grid","grid-cols-2","gap-4"],[1,"text-sm","font-medium","text-gray-700"],[1,"ml-2","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"text-sm","text-gray-900"],["class","grid grid-cols-2 gap-4",4,"ngIf"],["class","bg-blue-50 p-3 rounded-lg",4,"ngIf"],[1,"mt-6","pt-4","border-t","flex","justify-end"],[1,"px-4","py-2","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-50",3,"click"],[1,"text-sm","text-gray-900","mt-1","whitespace-pre-line"],[1,"bg-blue-50","p-3","rounded-lg"],[1,"text-sm","text-gray-900","mt-1"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),d(4,"Mis Aplicaciones"),l(),a(5,"p",4),d(6,"Seguimiento de tus postulaciones enviadas"),l()(),a(7,"div",5)(8,"div",6)(9,"div",7),d(10),l(),a(11,"div",8),d(12,"Total"),l()(),a(13,"div",6)(14,"div",9),d(15),l(),a(16,"div",8),d(17,"Pendientes"),l()(),a(18,"div",6)(19,"div",7),d(20),l(),a(21,"div",8),d(22,"Revisados"),l()(),a(23,"div",6)(24,"div",10),d(25),l(),a(26,"div",8),d(27,"Preseleccionados"),l()(),a(28,"div",6)(29,"div",11),d(30),l(),a(31,"div",8),d(32,"En Entrevista"),l()(),a(33,"div",6)(34,"div",12),d(35),l(),a(36,"div",8),d(37,"Contratados"),l()()(),a(38,"div",13)(39,"h2",14),d(40,"Filtros"),l(),a(41,"div",15)(42,"div")(43,"label",16),d(44,"Estado"),l(),a(45,"select",17),A("ngModelChange",function(o){return O(r.filtros.status,o)||(r.filtros.status=o),o}),E("change",function(){return r.aplicarFiltros()}),C(46,QA,2,2,"option",18),l()(),a(47,"div")(48,"label",16),d(49,"Buscar empleo o empresa"),l(),a(50,"input",19),A("ngModelChange",function(o){return O(r.filtros.empleo,o)||(r.filtros.empleo=o),o}),E("input",function(){return r.aplicarFiltros()}),l()(),a(51,"div")(52,"label",16),d(53,"Desde fecha"),l(),a(54,"input",20),A("ngModelChange",function(o){return O(r.filtros.fecha_desde,o)||(r.filtros.fecha_desde=o),o}),E("change",function(){return r.aplicarFiltros()}),l()(),a(55,"div")(56,"label",16),d(57,"Hasta fecha"),l(),a(58,"input",20),A("ngModelChange",function(o){return O(r.filtros.fecha_hasta,o)||(r.filtros.fecha_hasta=o),o}),E("change",function(){return r.aplicarFiltros()}),l()()(),a(59,"div",21)(60,"button",22),E("click",function(){return r.limpiarFiltros()}),_(61,"i",23),d(62,"Limpiar filtros "),l()()(),C(63,KA,4,0,"div",24)(64,rO,2,1,"div",25)(65,aO,8,3,"div",24),l()(),C(66,pO,31,11,"div",26)),e&2&&(p(10),M(r.aplicaciones.length),p(5),M(r.contarPorEstado("pendiente")),p(5),M(r.contarPorEstado("revisado")),p(5),M(r.contarPorEstado("preseleccionado")),p(5),M(r.contarPorEstado("entrevista")),p(5),M(r.contarPorEstado("contratado")),p(10),k("ngModel",r.filtros.status),p(),h("ngForOf",r.estados),p(4),k("ngModel",r.filtros.empleo),p(4),k("ngModel",r.filtros.fecha_desde),p(4),k("ngModel",r.filtros.fecha_hasta),p(5),h("ngIf",r.cargando),p(),h("ngIf",!r.cargando),p(),h("ngIf",!r.cargando&&r.aplicacionesFiltradas.length===0),p(),h("ngIf",r.mostrarDetalle&&r.aplicacionSeleccionada))},dependencies:[yt,Ce,pe,Nn,Xe,et,Ee,Ze,ke,De,ps,tr],encapsulation:2})};function fO(n,t){if(n&1&&(a(0,"option",26),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function mO(n,t){if(n&1&&(a(0,"option",26),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function hO(n,t){if(n&1&&(a(0,"option",26),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function gO(n,t){n&1&&(a(0,"div",27),_(1,"i",28),a(2,"p",29),d(3,"Cargando empleos..."),l()())}function vO(n,t){if(n&1&&(a(0,"span",56),_(1,"i",57),d(2),l()),n&2){let e=g().$implicit;p(2),I(" ",e.dias_restantes," d\xEDas ")}}function _O(n,t){n&1&&(a(0,"span",58),_(1,"i",59),d(2," Urgente "),l())}function yO(n,t){if(n&1&&(a(0,"span",60),d(1),l()),n&2){let e=g().$implicit;p(),I(" ",e.experiencia_laboral," ")}}function bO(n,t){if(n&1){let e=N();a(0,"div",32)(1,"div",33)(2,"div",34)(3,"h3",35),d(4),l(),a(5,"div",36),C(6,vO,3,1,"span",37)(7,_O,3,0,"span",38),l()(),a(8,"p",39),_(9,"i",40),d(10),l(),a(11,"p",41),_(12,"i",42),d(13),l(),a(14,"div",43)(15,"span",44),d(16),l(),a(17,"span",45),d(18),l(),C(19,yO,2,1,"span",46),l(),a(20,"div",47)(21,"p",48),_(22,"i",49),d(23),l()(),a(24,"p",50),d(25),Le(26,"date"),l()(),a(27,"div",51)(28,"div",15)(29,"button",52),E("click",function(){let i=x(e).$implicit,o=g(2);return w(o.verDetalle(i))}),_(30,"i",53),d(31,"Ver detalles "),l(),a(32,"button",54),E("click",function(){let i=x(e).$implicit,o=g(2);return w(o.abrirModalAplicacion(i))}),_(33,"i",55),d(34,"Aplicar "),l()()()()}if(n&2){let e=t.$implicit,r=g(2);p(4),I(" ",e.nombre," "),p(2),h("ngIf",e.dias_restantes<=7),p(),h("ngIf",e.urgencia==="urgente"),p(3),I(" ",e.empresa_nombre," "),p(3),I(" ",r.obtenerModalidades(e.lugar_trabajo)," "),p(3),I(" ",e.categoria," "),p(2),I(" ",e.jornada_laboral," "),p(),h("ngIf",e.experiencia_laboral),p(4),I(" ",r.formatearSalario(e.salario)," "),p(2),I(" Publicado: ",ot(26,10,e.fecha_creacion,"dd/MM/yyyy")," ")}}function xO(n,t){if(n&1&&(a(0,"div",30),C(1,bO,35,13,"div",31),l()),n&2){let e=g();p(),h("ngForOf",e.empleos)}}function wO(n,t){n&1&&(a(0,"div",27),_(1,"i",61),a(2,"h3",62),d(3,"No se encontraron empleos"),l(),a(4,"p",29),d(5,"Intenta ajustar los filtros de b\xFAsqueda"),l()())}function CO(n,t){if(n&1){let e=N();a(0,"button",66),E("click",function(){let i=x(e).$implicit,o=g(2);return w(o.cambiarPagina(i))}),d(1),l()}if(n&2){let e=t.$implicit,r=g(2);Ft("bg-blue-600",r.paginaActual===e)("text-white",r.paginaActual===e)("bg-white",r.paginaActual!==e)("text-gray-700",r.paginaActual!==e),p(),I(" ",e," ")}}function EO(n,t){if(n&1&&(a(0,"div",63)(1,"nav",64),C(2,CO,2,9,"button",65),l()()),n&2){let e=g();p(2),h("ngForOf",e.getPaginasArray())}}function SO(n,t){if(n&1&&(a(0,"div")(1,"h5",85),d(2,"Descripci\xF3n"),l(),a(3,"p",80),d(4),l()()),n&2){let e=g(3);p(4),M(e.empleoSeleccionado.descripcion.descripcion)}}function MO(n,t){if(n&1&&(a(0,"li"),d(1),l()),n&2){let e=t.$implicit;p(),M(e)}}function IO(n,t){if(n&1&&(a(0,"div")(1,"h5",85),d(2,"Requisitos"),l(),a(3,"ul",86),C(4,MO,2,1,"li",87),l()()),n&2){let e=g(3);p(4),h("ngForOf",e.empleoSeleccionado.descripcion.requisitos)}}function DO(n,t){if(n&1&&(a(0,"li"),d(1),l()),n&2){let e=t.$implicit;p(),M(e)}}function TO(n,t){if(n&1&&(a(0,"div")(1,"h5",85),d(2,"Beneficios"),l(),a(3,"ul",86),C(4,DO,2,1,"li",87),l()()),n&2){let e=g(3);p(4),h("ngForOf",e.empleoSeleccionado.descripcion.beneficios)}}function kO(n,t){if(n&1){let e=N();a(0,"div",74)(1,"div",75)(2,"div")(3,"h4",76),d(4),l(),a(5,"p",29),d(6),l()(),C(7,SO,5,1,"div",77)(8,IO,5,1,"div",77)(9,TO,5,1,"div",77),a(10,"div",78)(11,"div")(12,"h5",79),d(13,"Jornada Laboral"),l(),a(14,"p",80),d(15),l()(),a(16,"div")(17,"h5",79),d(18,"Vacantes"),l(),a(19,"p",80),d(20),l()()()(),a(21,"div",81)(22,"button",82),E("click",function(){x(e);let i=g(2);return w(i.cerrarDetalleEmpleo())}),d(23," Cerrar "),l(),a(24,"button",83),E("click",function(){x(e);let i=g(2);return i.abrirModalAplicacion(i.empleoSeleccionado),w(i.cerrarDetalleEmpleo())}),_(25,"i",84),d(26,"Aplicar a este empleo "),l()()()}if(n&2){let e=g(2);p(4),M(e.empleoSeleccionado.nombre),p(2),M(e.empleoSeleccionado.empresa_nombre),p(),h("ngIf",e.empleoSeleccionado.descripcion==null?null:e.empleoSeleccionado.descripcion.descripcion),p(),h("ngIf",e.empleoSeleccionado.descripcion==null||e.empleoSeleccionado.descripcion.requisitos==null?null:e.empleoSeleccionado.descripcion.requisitos.length),p(),h("ngIf",e.empleoSeleccionado.descripcion==null||e.empleoSeleccionado.descripcion.beneficios==null?null:e.empleoSeleccionado.descripcion.beneficios.length),p(6),M(e.empleoSeleccionado.jornada_laboral),p(5),M(e.empleoSeleccionado.numero_vacantes||1)}}function AO(n,t){if(n&1){let e=N();a(0,"div",67)(1,"div",68)(2,"div",69)(3,"h3",70),d(4," Detalle del Empleo "),l(),a(5,"button",71),E("click",function(){x(e);let i=g();return w(i.cerrarDetalleEmpleo())}),_(6,"i",72),l()(),C(7,kO,27,7,"div",73),l()()}if(n&2){let e=g();p(7),h("ngIf",e.empleoSeleccionado)}}function OO(n,t){n&1&&(a(0,"div",110),_(1,"i",111),a(2,"p",112),d(3,"No tienes CVs creados"),l(),a(4,"a",113),d(5," Crear mi primer CV "),l()())}function PO(n,t){n&1&&(a(0,"span",125),d(1," Activo "),l())}function FO(n,t){if(n&1){let e=N();a(0,"div",116),E("click",function(){let i=x(e).$implicit,o=g(3);return w(o.onCVSeleccionado(i.id))}),a(1,"div",117)(2,"div",118),_(3,"input",119),a(4,"div",120)(5,"label",121),d(6),l(),a(7,"div",122),_(8,"i",123),d(9),Le(10,"date"),C(11,PO,2,0,"span",124),l()()()()()}if(n&2){let e=t.$implicit,r=g(3);Ft("border-blue-500",r.aplicacion.cv_id===e.id)("bg-blue-50",r.aplicacion.cv_id===e.id)("border-gray-300",r.aplicacion.cv_id!==e.id),p(3),h("checked",r.aplicacion.cv_id===e.id),p(3),M(e.nombre),p(3),I(" Actualizado: ",ot(10,10,e.fecha_actualizacion,"dd/MM/yyyy")," "),p(2),h("ngIf",e.activo)}}function NO(n,t){if(n&1&&(a(0,"div",114),C(1,FO,12,13,"div",115),l()),n&2){let e=g(2);p(),h("ngForOf",e.misCVs)}}function RO(n,t){n&1&&(a(0,"span"),_(1,"i",126),d(2," Enviando... "),l())}function VO(n,t){n&1&&(a(0,"span"),_(1,"i",84),d(2," Enviar Aplicaci\xF3n "),l())}function LO(n,t){if(n&1){let e=N();a(0,"div",67)(1,"div",68)(2,"div",69)(3,"h3",88),d(4," Aplicar al empleo "),l(),a(5,"button",71),E("click",function(){x(e);let i=g();return w(i.cerrarModalAplicacion())}),_(6,"i",72),l()(),a(7,"div",74)(8,"div",89)(9,"h4",90),d(10),l(),a(11,"p",21),d(12),l(),a(13,"div",91)(14,"span",44),d(15),l(),a(16,"span",45),d(17),l()()(),a(18,"form",92,0),E("ngSubmit",function(){x(e);let i=g();return w(i.enviarAplicacion())}),a(20,"div",93)(21,"label",94),d(22," Selecciona tu CV "),a(23,"span",95),d(24,"*"),l()(),C(25,OO,6,0,"div",96)(26,NO,2,1,"div",97),l(),a(27,"div",93)(28,"label",98),d(29," Carta de Presentaci\xF3n "),a(30,"span",95),d(31,"*"),l()(),a(32,"textarea",99),A("ngModelChange",function(i){x(e);let o=g();return O(o.aplicacion.carta_presentacion,i)||(o.aplicacion.carta_presentacion=i),w(i)}),l(),a(33,"p",100),d(34," Personaliza tu carta para este empleo espec\xEDfico. Menciona tus habilidades relevantes y motivaci\xF3n. "),l()(),a(35,"div",93)(36,"label",101),d(37," Salario Esperado (GTQ) "),l(),a(38,"input",102),A("ngModelChange",function(i){x(e);let o=g();return O(o.aplicacion.salario_esperado,i)||(o.aplicacion.salario_esperado=i),w(i)}),l(),a(39,"p",100),d(40," Opcional. Si no especificas, se considerar\xE1 negociable. "),l()(),a(41,"div",93)(42,"label",103),d(43," Disponibilidad para iniciar "),l(),a(44,"input",104),A("ngModelChange",function(i){x(e);let o=g();return O(o.aplicacion.disponibilidad_inicio,i)||(o.aplicacion.disponibilidad_inicio=i),w(i)}),l()(),a(45,"div",93)(46,"label",105),d(47," Notas Adicionales "),l(),a(48,"textarea",106),A("ngModelChange",function(i){x(e);let o=g();return O(o.aplicacion.notas_candidato,i)||(o.aplicacion.notas_candidato=i),w(i)}),l()(),a(49,"div",107)(50,"button",108),E("click",function(){x(e);let i=g();return w(i.cerrarModalAplicacion())}),d(51," Cancelar "),l(),a(52,"button",109),C(53,RO,3,0,"span",77)(54,VO,3,0,"span",77),l()()()()()()}if(n&2){let e=Fe(19),r=g();p(10),M(r.empleoSeleccionado==null?null:r.empleoSeleccionado.nombre),p(2),M(r.empleoSeleccionado==null?null:r.empleoSeleccionado.empresa_nombre),p(3),I(" ",r.empleoSeleccionado==null?null:r.empleoSeleccionado.categoria," "),p(2),I(" ",r.empleoSeleccionado==null?null:r.empleoSeleccionado.jornada_laboral," "),p(8),h("ngIf",r.misCVs.length===0),p(),h("ngIf",r.misCVs.length>0),p(6),k("ngModel",r.aplicacion.carta_presentacion),p(6),k("ngModel",r.aplicacion.salario_esperado),p(6),k("ngModel",r.aplicacion.disponibilidad_inicio),p(4),k("ngModel",r.aplicacion.notas_candidato),p(4),h("disabled",!e.valid||!r.aplicacion.cv_id||r.cargando),p(),h("ngIf",r.cargando),p(),h("ngIf",!r.cargando)}}var hi=class n{constructor(t){this.postulacionesService=t}empleos=[];empleoSeleccionado=null;mostrarModalAplicacion=!1;mostrarDetalleEmpleo=!1;cargando=!1;total=0;paginaActual=1;limite=12;misCVs=[];filtros={categoria:"",modalidad:"",experiencia:"",busqueda:""};categorias=[{valor:"informatica",nombre:"Inform\xE1tica"},{valor:"ventas",nombre:"Ventas"},{valor:"administracion",nombre:"Administraci\xF3n"},{valor:"telecomunicaciones",nombre:"Telecomunicaciones"},{valor:"marketing",nombre:"Marketing"},{valor:"recursos_humanos",nombre:"Recursos Humanos"},{valor:"contabilidad",nombre:"Contabilidad"},{valor:"ingenieria",nombre:"Ingenier\xEDa"}];modalidades=[{valor:"remoto",nombre:"Remoto"},{valor:"presencial",nombre:"Presencial"},{valor:"hibrido",nombre:"H\xEDbrido"}];experiencias=[{valor:"sin_experiencia",nombre:"Sin experiencia"},{valor:"0-1 a\xF1os",nombre:"0-1 a\xF1os"},{valor:"1-3 a\xF1os",nombre:"1-3 a\xF1os"},{valor:"3-5 a\xF1os",nombre:"3-5 a\xF1os"},{valor:"5+ a\xF1os",nombre:"5+ a\xF1os"}];aplicacion={empleo_id:0,cv_id:0,carta_presentacion:"",salario_esperado:void 0,disponibilidad_inicio:void 0,notas_candidato:""};ngOnInit(){this.cargarEmpleos(),this.cargarMisCVs()}cargarMisCVs(){this.postulacionesService.getMisCVs().subscribe({next:t=>{this.misCVs=t;let e=t.find(r=>r.activo);e&&(this.aplicacion.cv_id=e.id)},error:t=>{console.error("Error al cargar CVs:",t)}})}cargarEmpleos(){this.cargando=!0;let t=G(P({},this.filtros),{limite:this.limite,pagina:this.paginaActual});Object.keys(t).forEach(e=>{t[e]||delete t[e]}),this.postulacionesService.getEmpleosPublicos(t).subscribe({next:e=>{this.empleos=e.empleos,this.total=e.total,this.cargando=!1},error:e=>{console.error("Error al cargar empleos:",e),this.cargando=!1}})}aplicarFiltros(){this.paginaActual=1,this.cargarEmpleos()}limpiarFiltros(){this.filtros={categoria:"",modalidad:"",experiencia:"",busqueda:""},this.aplicarFiltros()}verDetalle(t){this.postulacionesService.getDetalleEmpleo(t.id).subscribe({next:e=>{this.empleoSeleccionado=e,this.mostrarDetalleEmpleo=!0},error:e=>{console.error("Error al cargar detalle:",e)}})}abrirModalAplicacion(t){if(this.misCVs.length===0){alert("Debes crear un CV primero para poder aplicar a empleos");return}this.empleoSeleccionado=t,this.aplicacion={empleo_id:t.id,cv_id:this.misCVs.find(e=>e.activo)?.id||this.misCVs[0]?.id||0,carta_presentacion:"",salario_esperado:void 0,disponibilidad_inicio:void 0,notas_candidato:""},this.mostrarModalAplicacion=!0}cerrarModalAplicacion(){this.mostrarModalAplicacion=!1,this.empleoSeleccionado=null}cerrarDetalleEmpleo(){this.mostrarDetalleEmpleo=!1,this.empleoSeleccionado=null}enviarAplicacion(){if(!this.aplicacion.carta_presentacion.trim()){alert("La carta de presentaci\xF3n es requerida");return}if(!this.aplicacion.cv_id){alert("Debes seleccionar un CV para aplicar");return}this.cargando=!0,this.postulacionesService.aplicarAEmpleo(this.aplicacion).subscribe({next:t=>{t.success?(alert(t.message),this.cerrarModalAplicacion(),this.cargarEmpleos()):alert(t.message),this.cargando=!1},error:t=>{console.error("Error al enviar aplicaci\xF3n:",t),alert("Error al enviar la aplicaci\xF3n"),this.cargando=!1}})}onCVSeleccionado(t){this.aplicacion.cv_id=t}cambiarPagina(t){this.paginaActual=t,this.cargarEmpleos()}formatearSalario(t){return this.postulacionesService.formatearSalario(t)}obtenerModalidades(t){return this.postulacionesService.obtenerModalidades(t)}getTotalPaginas(){return Math.ceil(this.total/this.limite)}getPaginasArray(){let t=this.getTotalPaginas();return Array.from({length:t},(e,r)=>r+1)}static \u0275fac=function(e){return new(e||n)(F(Mr))};static \u0275cmp=le({type:n,selectors:[["app-buscar-empleos"]],standalone:!1,decls:53,vars:14,consts:[["aplicacionForm","ngForm"],[1,"min-h-screen","bg-gray-50","py-6"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-gray-600"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"text-xl","font-semibold","text-gray-900","mb-4"],[1,"fas","fa-filter","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","placeholder","Desarrollador, ventas...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center"],[1,"flex","space-x-2"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"fas","fa-search","mr-2"],[1,"px-4","py-2","border","border-gray-300","text-gray-700","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"fas","fa-broom","mr-2"],[1,"text-sm","text-gray-600"],["class","text-center py-12",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",4,"ngIf"],["class","mt-8 flex justify-center",4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",4,"ngIf"],[3,"value"],[1,"text-center","py-12"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-blue-500","mb-4"],[1,"text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-8"],["class","bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-300","overflow-hidden"],[1,"p-6"],[1,"flex","items-start","justify-between","mb-3"],[1,"text-lg","font-semibold","text-gray-900","line-clamp-2","flex-1"],[1,"ml-3","flex","flex-col","items-end","space-y-1"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",4,"ngIf"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",4,"ngIf"],[1,"text-sm","text-gray-600","mb-2"],[1,"fas","fa-building","mr-1"],[1,"text-sm","text-gray-600","mb-4"],[1,"fas","fa-map-marker-alt","mr-1"],[1,"flex","flex-wrap","gap-2","mb-4"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",4,"ngIf"],[1,"mb-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"fas","fa-money-bill-wave","mr-1"],[1,"text-xs","text-gray-500","mb-4"],[1,"px-6","py-4","bg-gray-50","border-t"],[1,"text-blue-600","hover:text-blue-800","text-sm","font-medium",3,"click"],[1,"fas","fa-eye","mr-1"],[1,"px-4","py-2","bg-blue-600","text-white","text-sm","font-medium","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"fas","fa-paper-plane","mr-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-red-100","text-red-800"],[1,"fas","fa-clock","mr-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-orange-100","text-orange-800"],[1,"fas","fa-exclamation","mr-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-yellow-100","text-yellow-800"],[1,"fas","fa-search","text-6xl","text-gray-300","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"mt-8","flex","justify-center"],[1,"flex","items-center","space-x-2"],["class","px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",3,"bg-blue-600","text-white","bg-white","text-gray-700","click",4,"ngFor","ngForOf"],[1,"px-3","py-2","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"relative","top-10","mx-auto","p-5","border","w-11/12","md:w-3/4","lg:w-1/2","shadow-lg","rounded-md","bg-white","mb-10"],[1,"flex","items-center","justify-between","pb-4","border-b"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-900"],[4,"ngIf"],[1,"grid","grid-cols-2","gap-4"],[1,"font-medium","text-gray-900","mb-1"],[1,"text-gray-700"],[1,"mt-6","pt-4","border-t","flex","justify-end","space-x-3"],[1,"px-4","py-2","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-50",3,"click"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700",3,"click"],[1,"fas","fa-paper-plane","mr-2"],[1,"font-medium","text-gray-900","mb-2"],[1,"list-disc","list-inside","text-gray-700","space-y-1"],[4,"ngFor","ngForOf"],[1,"text-lg","font-medium","text-gray-900"],[1,"bg-gray-50","p-4","rounded-lg","mb-6"],[1,"font-semibold","text-gray-900"],[1,"flex","flex-wrap","gap-2","mt-2"],[3,"ngSubmit"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["class","text-center py-8 text-gray-500",4,"ngIf"],["class","grid grid-cols-1 gap-3",4,"ngIf"],["for","carta_presentacion",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","carta_presentacion","name","carta_presentacion","required","","rows","6","placeholder","Describe por qu\xE9 eres el candidato ideal para este puesto...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"text-xs","text-gray-500","mt-1"],["for","salario_esperado",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","salario_esperado","name","salario_esperado","min","0","placeholder","15000",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["for","disponibilidad_inicio",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","date","id","disponibilidad_inicio","name","disponibilidad_inicio",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["for","notas_candidato",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","notas_candidato","name","notas_candidato","rows","3","placeholder","Informaci\xF3n adicional que consideres relevante...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-end","space-x-4","pt-4","border-t"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["type","submit",1,"px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-center","py-8","text-gray-500"],[1,"fas","fa-file-alt","text-4xl","mb-4"],[1,"mb-2"],["routerLink","/cv/crear",1,"text-blue-600","hover:text-blue-800","font-medium"],[1,"grid","grid-cols-1","gap-3"],["class","border-2 rounded-lg p-4 cursor-pointer transition-all duration-200",3,"border-blue-500","bg-blue-50","border-gray-300","click",4,"ngFor","ngForOf"],[1,"border-2","rounded-lg","p-4","cursor-pointer","transition-all","duration-200",3,"click"],[1,"flex","items-start","justify-between"],[1,"flex","items-center","flex-1"],["type","radio",1,"text-blue-600","border-gray-300","focus:ring-blue-500",3,"checked"],[1,"ml-3","flex-1"],[1,"font-medium","text-gray-900","cursor-pointer"],[1,"flex","items-center","mt-1","text-xs","text-gray-500"],[1,"fas","fa-calendar-alt","mr-1"],["class","ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",4,"ngIf"],[1,"ml-2","inline-flex","items-center","px-2","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"fas","fa-spinner","fa-spin","mr-2"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),d(4,"Buscar Empleos"),l(),a(5,"p",5),d(6,"Encuentra tu pr\xF3xima oportunidad laboral"),l()(),a(7,"div",6)(8,"h2",7),_(9,"i",8),d(10,"Filtros de B\xFAsqueda "),l(),a(11,"div",9)(12,"div")(13,"label",10),d(14,"Palabra clave"),l(),a(15,"input",11),A("ngModelChange",function(o){return O(r.filtros.busqueda,o)||(r.filtros.busqueda=o),o}),l()(),a(16,"div")(17,"label",10),d(18,"Categor\xEDa"),l(),a(19,"select",12),A("ngModelChange",function(o){return O(r.filtros.categoria,o)||(r.filtros.categoria=o),o}),a(20,"option",13),d(21,"Todas las categor\xEDas"),l(),C(22,fO,2,2,"option",14),l()(),a(23,"div")(24,"label",10),d(25,"Modalidad"),l(),a(26,"select",12),A("ngModelChange",function(o){return O(r.filtros.modalidad,o)||(r.filtros.modalidad=o),o}),a(27,"option",13),d(28,"Todas las modalidades"),l(),C(29,mO,2,2,"option",14),l()(),a(30,"div")(31,"label",10),d(32,"Experiencia"),l(),a(33,"select",12),A("ngModelChange",function(o){return O(r.filtros.experiencia,o)||(r.filtros.experiencia=o),o}),a(34,"option",13),d(35,"Cualquier experiencia"),l(),C(36,hO,2,2,"option",14),l()()(),a(37,"div",15)(38,"div",16)(39,"button",17),E("click",function(){return r.aplicarFiltros()}),_(40,"i",18),d(41,"Buscar "),l(),a(42,"button",19),E("click",function(){return r.limpiarFiltros()}),_(43,"i",20),d(44,"Limpiar "),l()(),a(45,"div",21),d(46),l()()(),C(47,gO,4,0,"div",22)(48,xO,2,1,"div",23)(49,wO,6,0,"div",22)(50,EO,3,1,"div",24),l()(),C(51,AO,8,1,"div",25)(52,LO,55,13,"div",25)),e&2&&(p(15),k("ngModel",r.filtros.busqueda),p(4),k("ngModel",r.filtros.categoria),p(3),h("ngForOf",r.categorias),p(4),k("ngModel",r.filtros.modalidad),p(3),h("ngForOf",r.modalidades),p(4),k("ngModel",r.filtros.experiencia),p(3),h("ngForOf",r.experiencias),p(10),I(" ",r.total," empleos encontrados "),p(),h("ngIf",r.cargando),p(),h("ngIf",!r.cargando),p(),h("ngIf",!r.cargando&&r.empleos.length===0),p(),h("ngIf",!r.cargando&&r.empleos.length>0&&r.getTotalPaginas()>1),p(),h("ngIf",r.mostrarDetalleEmpleo),p(),h("ngIf",r.mostrarModalAplicacion))},dependencies:[Ce,pe,Nn,Ye,Xe,et,Ee,ui,Ze,ke,qe,Ue,pi,De,je,tr],encapsulation:2})};var jO=()=>[1,2,3,4,5,6,7,8,9,10];function UO(n,t){if(n&1&&(a(0,"option",31),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function BO(n,t){n&1&&(a(0,"div",32),_(1,"i",33),a(2,"p",34),d(3,"Cargando aplicaciones..."),l()())}function $O(n,t){if(n&1&&_(0,"img",65),n&2){let e=g().$implicit;h("src",e.candidato_foto,Ot)}}function HO(n,t){n&1&&(a(0,"div",66),_(1,"i",67),l())}function zO(n,t){if(n&1&&(a(0,"span",68),_(1,"i",69),d(2),l()),n&2){let e=g().$implicit;p(2),I("",e.candidato_telefono," ")}}function GO(n,t){if(n&1&&(a(0,"span"),_(1,"i",70),d(2),l()),n&2){let e=g().$implicit;p(2),I(" CV: ",e.cv_nombre," ")}}function WO(n,t){if(n&1&&(a(0,"span",71),_(1,"i",72),d(2),l()),n&2){let e=g().$implicit;p(2),I(" ",e.puntuacion_rrhh,"/10 ")}}function qO(n,t){if(n&1&&(a(0,"span",71),_(1,"i",73),d(2),Le(3,"number"),l()),n&2){let e=g().$implicit;p(2),I(" Q",ot(3,1,e.salario_esperado,"1.0-0")," ")}}function YO(n,t){if(n&1&&(a(0,"div",74)(1,"h5",75),d(2,"Carta de presentaci\xF3n:"),l(),a(3,"p",76),d(4),l()()),n&2){let e=g().$implicit;p(4),M(e.carta_presentacion)}}function ZO(n,t){if(n&1&&(a(0,"div",77)(1,"h5",75),d(2,"Notas de RRHH:"),l(),a(3,"p",78),d(4),l()()),n&2){let e=g().$implicit;p(4),M(e.notas_rrhh)}}function QO(n,t){if(n&1){let e=N();a(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"div",41),C(5,$O,1,1,"img",42)(6,HO,2,0,"div",43),l(),a(7,"div",44)(8,"h3",45),d(9),l(),a(10,"p",46),d(11," Aplic\xF3 para: "),a(12,"span",47),d(13),l()(),a(14,"p",48),_(15,"i",49),d(16),C(17,zO,3,1,"span",50),l(),a(18,"div",51)(19,"span"),_(20,"i",52),d(21),Le(22,"date"),l(),a(23,"span"),_(24,"i",53),d(25),l(),C(26,GO,3,1,"span",54),l(),a(27,"div",55)(28,"span",56),d(29),Le(30,"titlecase"),l(),C(31,WO,3,1,"span",57)(32,qO,4,4,"span",57),l()()(),a(33,"div",58)(34,"button",59),E("click",function(){let i=x(e).$implicit,o=g(2);return w(o.verDetalleCandidato(i))}),_(35,"i",60),d(36,"Ver CV "),l(),a(37,"button",61),E("click",function(){let i=x(e).$implicit,o=g(2);return w(o.abrirModalEstado(i))}),_(38,"i",62),d(39,"Actualizar "),l()()(),C(40,YO,5,1,"div",63)(41,ZO,5,1,"div",64),l()()}if(n&2){let e=t.$implicit,r=g(2);p(5),h("ngIf",e.candidato_foto),p(),h("ngIf",!e.candidato_foto),p(3),I(" ",e.candidato_nombre," "),p(4),M(e.empleo_nombre),p(3),I("",e.candidato_email," "),p(),h("ngIf",e.candidato_telefono),p(4),I(" ",ot(22,15,e.fecha_aplicacion,"dd/MM/yyyy HH:mm")," "),p(4),I(" Hace ",e.dias_desde_aplicacion," d\xEDas "),p(),h("ngIf",e.cv_nombre),p(2),h("ngClass",r.obtenerColorEstado(e.status)),p(),I(" ",ns(30,18,e.status)," "),p(2),h("ngIf",e.puntuacion_rrhh),p(),h("ngIf",e.salario_esperado),p(8),h("ngIf",e.carta_presentacion),p(),h("ngIf",e.notas_rrhh)}}function KO(n,t){if(n&1&&(a(0,"div",35),C(1,QO,42,20,"div",36),l()),n&2){let e=g();p(),h("ngForOf",e.aplicaciones)}}function JO(n,t){n&1&&(a(0,"div",32),_(1,"i",79),a(2,"h3",80),d(3,"No hay aplicaciones"),l(),a(4,"p",34),d(5,"No se han recibido aplicaciones con los filtros seleccionados"),l()())}function XO(n,t){if(n&1&&(a(0,"option",31),d(1),l()),n&2){let e=t.$implicit;h("value",e.valor),p(),M(e.nombre)}}function eP(n,t){n&1&&(a(0,"span"),_(1,"i",105),d(2," Actualizando... "),l())}function tP(n,t){n&1&&(a(0,"span"),_(1,"i",106),d(2," Actualizar Estado "),l())}function nP(n,t){if(n&1){let e=N();a(0,"div",81)(1,"div",82)(2,"div",83)(3,"h3",45),d(4," Actualizar Estado de Aplicaci\xF3n "),l(),a(5,"button",84),E("click",function(){x(e);let i=g();return w(i.cerrarModalEstado())}),_(6,"i",85),l()(),a(7,"div",86)(8,"div",87)(9,"h4",88),d(10),l(),a(11,"p",9),d(12),l(),a(13,"p",89),d(14),Le(15,"date"),l()(),a(16,"form",90,0),E("ngSubmit",function(){x(e);let i=g();return w(i.actualizarEstado())}),a(18,"div",91)(19,"label",92),d(20," Nuevo Estado "),a(21,"span",93),d(22,"*"),l()(),a(23,"select",94),A("ngModelChange",function(i){x(e);let o=g();return O(o.actualizacionEstado.status,i)||(o.actualizacionEstado.status=i),w(i)}),C(24,XO,2,2,"option",20),l()(),a(25,"div",91)(26,"label",95),d(27," Puntuaci\xF3n (1-10) "),l(),a(28,"input",96),A("ngModelChange",function(i){x(e);let o=g();return O(o.actualizacionEstado.puntuacion_rrhh,i)||(o.actualizacionEstado.puntuacion_rrhh=i),w(i)}),l()(),a(29,"div",91)(30,"label",97),d(31," Notas de RRHH "),l(),a(32,"textarea",98),A("ngModelChange",function(i){x(e);let o=g();return O(o.actualizacionEstado.notas_rrhh,i)||(o.actualizacionEstado.notas_rrhh=i),w(i)}),l()(),a(33,"div",99)(34,"label",100),d(35," Comentario del Cambio "),l(),a(36,"textarea",101),A("ngModelChange",function(i){x(e);let o=g();return O(o.actualizacionEstado.comentario,i)||(o.actualizacionEstado.comentario=i),w(i)}),l()(),a(37,"div",102)(38,"button",103),E("click",function(){x(e);let i=g();return w(i.cerrarModalEstado())}),d(39," Cancelar "),l(),a(40,"button",104),C(41,eP,3,0,"span",54)(42,tP,3,0,"span",54),l()()()()()()}if(n&2){let e=Fe(17),r=g();p(10),M(r.aplicacionSeleccionada.candidato_nombre),p(2),M(r.aplicacionSeleccionada.empleo_nombre),p(2),I("Aplic\xF3 el ",ot(15,11,r.aplicacionSeleccionada.fecha_aplicacion,"dd/MM/yyyy"),""),p(9),k("ngModel",r.actualizacionEstado.status),p(),h("ngForOf",r.estados),p(4),k("ngModel",r.actualizacionEstado.puntuacion_rrhh),p(4),k("ngModel",r.actualizacionEstado.notas_rrhh),p(4),k("ngModel",r.actualizacionEstado.comentario),p(4),h("disabled",!e.valid||r.cargando),p(),h("ngIf",r.cargando),p(),h("ngIf",!r.cargando)}}function rP(n,t){if(n&1&&_(0,"img",134),n&2){let e=g(2);h("src",e.aplicacionSeleccionada.candidato_foto,Ot)}}function iP(n,t){n&1&&(a(0,"div",135),_(1,"i",67),l())}function oP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Salario esperado:"),l(),a(3,"p",123),d(4),Le(5,"number"),l()()),n&2){let e=g(2);p(4),I("Q",ot(5,1,e.aplicacionSeleccionada.salario_esperado,"1.0-0"),"")}}function sP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Disponibilidad para iniciar:"),l(),a(3,"p",123),d(4),Le(5,"date"),l()()),n&2){let e=g(2);p(4),M(ot(5,1,e.aplicacionSeleccionada.disponibilidad_inicio,"dd/MM/yyyy"))}}function aP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Notas del candidato:"),l(),a(3,"p",136),d(4),l()()),n&2){let e=g(2);p(4),M(e.aplicacionSeleccionada.notas_candidato)}}function lP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Notas de RRHH:"),l(),a(3,"p",136),d(4),l()()),n&2){let e=g(2);p(4),M(e.aplicacionSeleccionada.notas_rrhh)}}function cP(n,t){if(n&1&&_(0,"i",140),n&2){let e=t.$implicit,r=g(3);Ft("text-yellow-400",e<=r.aplicacionSeleccionada.puntuacion_rrhh)("text-gray-300",e>r.aplicacionSeleccionada.puntuacion_rrhh)}}function dP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Puntuaci\xF3n RRHH:"),l(),a(3,"div",109)(4,"span",137),d(5),l(),a(6,"div",138),C(7,cP,1,4,"i",139),l()()()),n&2){let e=g(2);p(5),I("",e.aplicacionSeleccionada.puntuacion_rrhh,"/10"),p(2),h("ngForOf",Gr(2,jO))}}function uP(n,t){if(n&1&&(a(0,"div",141)(1,"h4",119),_(2,"i",142),d(3,"Carta de Presentaci\xF3n "),l(),a(4,"p",143),d(5),l()()),n&2){let e=g(2);p(5),I(" ",e.aplicacionSeleccionada.carta_presentacion," ")}}function pP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Email:"),l(),a(3,"p",123)(4,"a",144),d(5),l()()()),n&2){let e=g(2);p(4),h("href","mailto:"+e.aplicacionSeleccionada.candidato_email,Ot),p(),I(" ",e.aplicacionSeleccionada.candidato_email," ")}}function fP(n,t){if(n&1&&(a(0,"div")(1,"label",122),d(2,"Tel\xE9fono:"),l(),a(3,"p",123)(4,"a",144),d(5),l()()()),n&2){let e=g(2);p(4),h("href","tel:"+e.aplicacionSeleccionada.candidato_telefono,Ot),p(),I(" ",e.aplicacionSeleccionada.candidato_telefono," ")}}function mP(n,t){if(n&1&&(a(0,"p",9)(1,"strong"),d(2,"Motivo de retiro:"),l(),d(3),l()),n&2){let e=g().$implicit;p(3),I(" ",e.motivo_retiro," ")}}function hP(n,t){if(n&1&&(a(0,"div",148)(1,"div",149)(2,"h5",88),d(3),l(),a(4,"span",89),d(5),l()(),a(6,"p",150),d(7),l(),C(8,mP,4,1,"p",151),l()),n&2){let e=t.$implicit,r=t.index,i=g(3);Ft("border-b",r<i.aplicacionSeleccionada.cv_experiencia.length-1),p(3),M(e.puesto_ejercido),p(2),Me(" ",e.anio_inicio," - ",e.anio_finalizacion," "),p(2),M(e.institucion),p(),h("ngIf",e.motivo_retiro)}}function gP(n,t){if(n&1&&(a(0,"div",145)(1,"h4",15),_(2,"i",146),d(3,"Experiencia Laboral "),l(),a(4,"div",35),C(5,hP,9,7,"div",147),l()()),n&2){let e=g(2);p(5),h("ngForOf",e.aplicacionSeleccionada.cv_experiencia)}}function vP(n,t){if(n&1&&(a(0,"div",154)(1,"div",149)(2,"h5",88),d(3),l(),a(4,"span",89),d(5),l()(),a(6,"p",122),d(7),l()()),n&2){let e=t.$implicit,r=t.index,i=g(3);Ft("border-b",r<i.aplicacionSeleccionada.cv_educacion.length-1),p(3),M(e.titulo_obtenido),p(2),Me(" ",e.anio_inicio," - ",e.anio_finalizacion," "),p(2),M(e.institucion)}}function _P(n,t){if(n&1&&(a(0,"div",145)(1,"h4",15),_(2,"i",152),d(3,"Educaci\xF3n "),l(),a(4,"div",35),C(5,vP,8,6,"div",153),l()()),n&2){let e=g(2);p(5),h("ngForOf",e.aplicacionSeleccionada.cv_educacion)}}function yP(n,t){if(n&1&&(a(0,"div",158)(1,"div")(2,"p",159),d(3),l(),a(4,"p",9),d(5),l()()()),n&2){let e=t.$implicit;p(3),M(e.idioma),p(2),M(e.nivel)}}function bP(n,t){if(n&1&&(a(0,"div",145)(1,"h4",15),_(2,"i",155),d(3,"Idiomas "),l(),a(4,"div",156),C(5,yP,6,2,"div",157),l()()),n&2){let e=g(2);p(5),h("ngForOf",e.aplicacionSeleccionada.cv_idiomas)}}function xP(n,t){if(n&1&&(a(0,"div",162)(1,"h5",159),d(2),l(),a(3,"p",9),d(4),l()()),n&2){let e=t.$implicit;p(2),M(e.nombre_reconocimiento),p(2),Me("",e.institucion," - ",e.anio_realizado,"")}}function wP(n,t){if(n&1&&(a(0,"div",145)(1,"h4",15),_(2,"i",160),d(3,"Cursos y Certificaciones "),l(),a(4,"div",121),C(5,xP,5,3,"div",161),l()()),n&2){let e=g(2);p(5),h("ngForOf",e.aplicacionSeleccionada.cv_cursos)}}function CP(n,t){if(n&1&&(a(0,"div",162)(1,"h5",159),d(2),l(),a(3,"p",9),d(4),l(),a(5,"p",164),d(6),l()()),n&2){let e=t.$implicit;p(2),M(e.nombre_apellido),p(2),M(e.parentesco),p(2),M(e.numero_telefonico)}}function EP(n,t){if(n&1&&(a(0,"div",145)(1,"h4",15),_(2,"i",163),d(3,"Referencias "),l(),a(4,"div",156),C(5,CP,7,3,"div",161),l()()),n&2){let e=g(2);p(5),h("ngForOf",e.aplicacionSeleccionada.cv_referencias)}}function SP(n,t){if(n&1){let e=N();a(0,"div",81)(1,"div",107)(2,"div",108)(3,"div",109),C(4,rP,1,1,"img",110)(5,iP,2,0,"div",111),a(6,"div")(7,"h3",112),d(8),l(),a(9,"p",9),d(10),l()()(),a(11,"div",55)(12,"span",56),d(13),Le(14,"titlecase"),l(),a(15,"button",113),E("click",function(){x(e);let i=g();return i.abrirModalEstado(i.aplicacionSeleccionada),w(i.cerrarDetalle())}),_(16,"i",114),d(17,"Actualizar Estado "),l(),a(18,"button",115),E("click",function(){x(e);let i=g();return w(i.cerrarDetalle())}),_(19,"i",85),l()()(),a(20,"div",116)(21,"div",117)(22,"div",118)(23,"h4",119),_(24,"i",120),d(25,"Datos de la Aplicaci\xF3n "),l(),a(26,"div",121)(27,"div")(28,"label",122),d(29,"Fecha de aplicaci\xF3n:"),l(),a(30,"p",123),d(31),Le(32,"date"),l()(),C(33,oP,6,4,"div",54)(34,sP,6,4,"div",54)(35,aP,5,1,"div",54)(36,lP,5,1,"div",54)(37,dP,8,3,"div",54),l()(),C(38,uP,6,1,"div",124),a(39,"div",125)(40,"h4",119),_(41,"i",126),d(42,"Informaci\xF3n de Contacto "),l(),a(43,"div",127),C(44,pP,6,2,"div",54)(45,fP,6,2,"div",54),l()()(),a(46,"div",128),C(47,gP,6,1,"div",129)(48,_P,6,1,"div",129)(49,bP,6,1,"div",129)(50,wP,6,1,"div",129)(51,EP,6,1,"div",129),l()(),a(52,"div",130)(53,"div",131)(54,"div",9),_(55,"i",53),d(56),l(),a(57,"div",132)(58,"button",133),E("click",function(){x(e);let i=g();return i.abrirModalEstado(i.aplicacionSeleccionada),w(i.cerrarDetalle())}),_(59,"i",114),d(60,"Cambiar Estado "),l()()()()()()}if(n&2){let e=g();p(4),h("ngIf",e.aplicacionSeleccionada.candidato_foto),p(),h("ngIf",!e.aplicacionSeleccionada.candidato_foto),p(3),M(e.aplicacionSeleccionada.candidato_nombre),p(2),I("Aplicaci\xF3n para: ",e.aplicacionSeleccionada.empleo_nombre,""),p(2),h("ngClass",e.obtenerColorEstado(e.aplicacionSeleccionada.status)),p(),I(" ",ns(14,21,e.aplicacionSeleccionada.status)," "),p(18),M(ot(32,23,e.aplicacionSeleccionada.fecha_aplicacion,"dd/MM/yyyy HH:mm")),p(2),h("ngIf",e.aplicacionSeleccionada.salario_esperado),p(),h("ngIf",e.aplicacionSeleccionada.disponibilidad_inicio),p(),h("ngIf",e.aplicacionSeleccionada.notas_candidato),p(),h("ngIf",e.aplicacionSeleccionada.notas_rrhh),p(),h("ngIf",e.aplicacionSeleccionada.puntuacion_rrhh),p(),h("ngIf",e.aplicacionSeleccionada.carta_presentacion),p(6),h("ngIf",e.aplicacionSeleccionada.candidato_email),p(),h("ngIf",e.aplicacionSeleccionada.candidato_telefono),p(2),h("ngIf",e.aplicacionSeleccionada.cv_experiencia&&e.aplicacionSeleccionada.cv_experiencia.length>0),p(),h("ngIf",e.aplicacionSeleccionada.cv_educacion&&e.aplicacionSeleccionada.cv_educacion.length>0),p(),h("ngIf",e.aplicacionSeleccionada.cv_idiomas&&e.aplicacionSeleccionada.cv_idiomas.length>0),p(),h("ngIf",e.aplicacionSeleccionada.cv_cursos&&e.aplicacionSeleccionada.cv_cursos.length>0),p(),h("ngIf",e.aplicacionSeleccionada.cv_referencias&&e.aplicacionSeleccionada.cv_referencias.length>0),p(5),I(" Aplicaci\xF3n enviada hace ",e.aplicacionSeleccionada.dias_desde_aplicacion," d\xEDas ")}}var Nd=class n{constructor(t){this.postulacionesService=t}aplicaciones=[];aplicacionSeleccionada=null;cargando=!1;mostrarDetalle=!1;mostrarModalEstado=!1;filtros={empleo_id:"",status:"",fecha_desde:"",fecha_hasta:""};estados=[{valor:"pendiente",nombre:"Pendiente",color:"yellow"},{valor:"revisado",nombre:"Revisado",color:"blue"},{valor:"preseleccionado",nombre:"Preseleccionado",color:"green"},{valor:"entrevista",nombre:"En Entrevista",color:"purple"},{valor:"contratado",nombre:"Contratado",color:"green"},{valor:"rechazado",nombre:"Rechazado",color:"red"}];actualizacionEstado={status:"",notas_rrhh:"",puntuacion_rrhh:void 0,comentario:""};ngOnInit(){this.cargarAplicaciones()}cargarAplicaciones(){this.cargando=!0;let t=P({},this.filtros);Object.keys(t).forEach(e=>{t[e]||delete t[e]}),this.postulacionesService.getAplicacionesPorEmpresa(t).subscribe({next:e=>{this.aplicaciones=e,this.cargando=!1},error:e=>{console.error("Error al cargar aplicaciones:",e),this.cargando=!1}})}aplicarFiltros(){this.cargarAplicaciones()}limpiarFiltros(){this.filtros={empleo_id:"",status:"",fecha_desde:"",fecha_hasta:""},this.cargarAplicaciones()}verDetalleCandidato(t){this.postulacionesService.getDetalleAplicacion(t.id).subscribe({next:e=>{this.aplicacionSeleccionada=e,this.mostrarDetalle=!0},error:e=>{console.error("Error al cargar detalle:",e)}})}cerrarDetalle(){this.mostrarDetalle=!1,this.aplicacionSeleccionada=null}abrirModalEstado(t){this.aplicacionSeleccionada=t,this.actualizacionEstado={status:t.status,notas_rrhh:t.notas_rrhh||"",puntuacion_rrhh:t.puntuacion_rrhh,comentario:""},this.mostrarModalEstado=!0}cerrarModalEstado(){this.mostrarModalEstado=!1,this.aplicacionSeleccionada=null}actualizarEstado(){this.aplicacionSeleccionada&&(this.cargando=!0,this.postulacionesService.actualizarEstadoAplicacion(this.aplicacionSeleccionada.id,this.actualizacionEstado).subscribe({next:t=>{t.success?(alert(t.message),this.cerrarModalEstado(),this.cargarAplicaciones()):alert(t.message),this.cargando=!1},error:t=>{console.error("Error al actualizar estado:",t),alert("Error al actualizar el estado"),this.cargando=!1}}))}obtenerColorEstado(t){let r=this.estados.find(i=>i.valor===t)?.color||"gray";return`bg-${r}-100 text-${r}-800 border-${r}-200`}contarPorEstado(t){return this.aplicaciones.filter(e=>e.status===t).length}getStatusDescription(t){return this.postulacionesService.getStatusDescription(t)}formatearSalario(t){return this.postulacionesService.formatearSalario(t)}static \u0275fac=function(e){return new(e||n)(F(Mr))};static \u0275cmp=le({type:n,selectors:[["app-revisar-candidatos"]],standalone:!1,decls:70,vars:15,consts:[["estadoForm","ngForm"],[1,"min-h-screen","bg-gray-50","py-6"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-6","gap-4","mb-6"],[1,"bg-white","rounded-lg","shadow","p-4"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold","text-yellow-600"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-purple-600"],[1,"text-2xl","font-bold","text-green-700"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-end"],[1,"space-x-2"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700",3,"click"],[1,"fas","fa-search","mr-2"],[1,"px-4","py-2","border","border-gray-300","text-gray-700","rounded-md","hover:bg-gray-50",3,"click"],[1,"fas","fa-broom","mr-2"],["class","text-center py-12",4,"ngIf"],["class","space-y-4",4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",4,"ngIf"],[3,"value"],[1,"text-center","py-12"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-blue-500","mb-4"],[1,"text-gray-600"],[1,"space-y-4"],["class","bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-300"],[1,"p-6"],[1,"flex","items-start","justify-between"],[1,"flex","items-start","space-x-4","flex-1"],[1,"flex-shrink-0"],["alt","Foto del candidato","class","w-12 h-12 rounded-full object-cover",3,"src",4,"ngIf"],["class","w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mb-1"],[1,"font-medium"],[1,"text-sm","text-gray-500","mb-2"],[1,"fas","fa-envelope","mr-1"],["class","ml-4",4,"ngIf"],[1,"flex","items-center","space-x-4","text-sm","text-gray-500","mb-3"],[1,"fas","fa-calendar","mr-1"],[1,"fas","fa-clock","mr-1"],[4,"ngIf"],[1,"flex","items-center","space-x-3"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium",3,"ngClass"],["class","inline-flex items-center text-sm text-gray-600",4,"ngIf"],[1,"flex","items-center","space-x-2","ml-4"],[1,"px-3","py-2","text-blue-600","hover:text-blue-800","text-sm","font-medium",3,"click"],[1,"fas","fa-eye","mr-1"],[1,"px-3","py-2","bg-green-600","text-white","text-sm","rounded-md","hover:bg-green-700",3,"click"],[1,"fas","fa-edit","mr-1"],["class","mt-4 p-3 bg-gray-50 rounded-lg",4,"ngIf"],["class","mt-4 p-3 bg-blue-50 rounded-lg",4,"ngIf"],["alt","Foto del candidato",1,"w-12","h-12","rounded-full","object-cover",3,"src"],[1,"w-12","h-12","rounded-full","bg-gray-300","flex","items-center","justify-center"],[1,"fas","fa-user","text-gray-600"],[1,"ml-4"],[1,"fas","fa-phone","mr-1"],[1,"fas","fa-file-alt","mr-1"],[1,"inline-flex","items-center","text-sm","text-gray-600"],[1,"fas","fa-star","text-yellow-400","mr-1"],[1,"fas","fa-money-bill-wave","mr-1"],[1,"mt-4","p-3","bg-gray-50","rounded-lg"],[1,"text-sm","font-medium","text-gray-900","mb-1"],[1,"text-sm","text-gray-700","line-clamp-3"],[1,"mt-4","p-3","bg-blue-50","rounded-lg"],[1,"text-sm","text-gray-700"],[1,"fas","fa-users","text-6xl","text-gray-300","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"relative","top-20","mx-auto","p-5","border","w-11/12","md:w-1/2","shadow-lg","rounded-md","bg-white"],[1,"flex","items-center","justify-between","pb-4","border-b"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],[1,"mt-4"],[1,"bg-gray-50","p-4","rounded-lg","mb-6"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[3,"ngSubmit"],[1,"mb-4"],["for","status",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["id","status","name","status","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","puntuacion_rrhh",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","puntuacion_rrhh","name","puntuacion_rrhh","min","1","max","10","placeholder","Puntuaci\xF3n del 1 al 10",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","notas_rrhh",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","notas_rrhh","name","notas_rrhh","rows","4","placeholder","Comentarios sobre el candidato...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"mb-6"],["for","comentario",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","comentario","name","comentario","rows","3","placeholder","Raz\xF3n del cambio de estado...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-end","space-x-4","pt-4","border-t"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","text-sm","rounded-md","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"fas","fa-spinner","fa-spin","mr-2"],[1,"fas","fa-save","mr-2"],[1,"relative","top-4","mx-auto","p-4","border","w-11/12","max-w-6xl","shadow-lg","rounded-md","bg-white","mb-8"],[1,"flex","items-center","justify-between","pb-4","border-b","bg-white","sticky","top-0","z-10"],[1,"flex","items-center"],["alt","Foto del candidato","class","w-12 h-12 rounded-full object-cover mr-4",3,"src",4,"ngIf"],["class","w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center mr-4",4,"ngIf"],[1,"text-xl","font-semibold","text-gray-900"],[1,"px-4","py-2","bg-green-600","text-white","text-sm","rounded-md","hover:bg-green-700",3,"click"],[1,"fas","fa-edit","mr-2"],[1,"text-gray-400","hover:text-gray-600","text-xl",3,"click"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6","mt-6"],[1,"lg:col-span-1","space-y-6"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"fas","fa-file-alt","mr-2"],[1,"space-y-3"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-sm","text-gray-900"],["class","bg-blue-50 rounded-lg p-4",4,"ngIf"],[1,"bg-white","border","rounded-lg","p-4"],[1,"fas","fa-address-card","mr-2"],[1,"space-y-2"],[1,"lg:col-span-2","space-y-6"],["class","bg-white border rounded-lg p-6",4,"ngIf"],[1,"mt-6","pt-4","border-t","bg-gray-50","rounded-b-md"],[1,"flex","justify-between","items-center"],[1,"flex","space-x-3"],[1,"px-4","py-2","bg-blue-600","text-white","text-sm","rounded-md","hover:bg-blue-700",3,"click"],["alt","Foto del candidato",1,"w-12","h-12","rounded-full","object-cover","mr-4",3,"src"],[1,"w-12","h-12","rounded-full","bg-gray-300","flex","items-center","justify-center","mr-4"],[1,"text-sm","text-gray-900","whitespace-pre-line"],[1,"text-lg","font-bold","text-blue-600","mr-2"],[1,"flex"],["class","fas fa-star text-sm",3,"text-yellow-400","text-gray-300",4,"ngFor","ngForOf"],[1,"fas","fa-star","text-sm"],[1,"bg-blue-50","rounded-lg","p-4"],[1,"fas","fa-envelope","mr-2"],[1,"text-sm","text-gray-800","whitespace-pre-line","leading-relaxed"],[1,"text-blue-600","hover:text-blue-800",3,"href"],[1,"bg-white","border","rounded-lg","p-6"],[1,"fas","fa-briefcase","mr-2"],["class","border-l-4 border-blue-500 pl-4 pb-4",3,"border-b",4,"ngFor","ngForOf"],[1,"border-l-4","border-blue-500","pl-4","pb-4"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-sm","font-medium","text-gray-700","mb-1"],["class","text-sm text-gray-600",4,"ngIf"],[1,"fas","fa-graduation-cap","mr-2"],["class","border-l-4 border-green-500 pl-4 pb-4",3,"border-b",4,"ngFor","ngForOf"],[1,"border-l-4","border-green-500","pl-4","pb-4"],[1,"fas","fa-language","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","flex items-center justify-between p-3 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-lg"],[1,"font-medium","text-gray-900"],[1,"fas","fa-certificate","mr-2"],["class","p-3 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"p-3","bg-gray-50","rounded-lg"],[1,"fas","fa-users","mr-2"],[1,"text-sm","text-blue-600"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),d(4,"Revisar Candidatos"),l(),a(5,"p",5),d(6,"Gestiona las aplicaciones recibidas"),l()(),a(7,"div",6)(8,"div",7)(9,"div",8),d(10),l(),a(11,"div",9),d(12,"Total"),l()(),a(13,"div",7)(14,"div",10),d(15),l(),a(16,"div",9),d(17,"Pendientes"),l()(),a(18,"div",7)(19,"div",8),d(20),l(),a(21,"div",9),d(22,"Revisados"),l()(),a(23,"div",7)(24,"div",11),d(25),l(),a(26,"div",9),d(27,"Preseleccionados"),l()(),a(28,"div",7)(29,"div",12),d(30),l(),a(31,"div",9),d(32,"En Entrevista"),l()(),a(33,"div",7)(34,"div",13),d(35),l(),a(36,"div",9),d(37,"Contratados"),l()()(),a(38,"div",14)(39,"h2",15),d(40,"Filtros"),l(),a(41,"div",16)(42,"div")(43,"label",17),d(44,"Estado"),l(),a(45,"select",18),A("ngModelChange",function(o){return O(r.filtros.status,o)||(r.filtros.status=o),o}),a(46,"option",19),d(47,"Todos los estados"),l(),C(48,UO,2,2,"option",20),l()(),a(49,"div")(50,"label",17),d(51,"Desde"),l(),a(52,"input",21),A("ngModelChange",function(o){return O(r.filtros.fecha_desde,o)||(r.filtros.fecha_desde=o),o}),l()(),a(53,"div")(54,"label",17),d(55,"Hasta"),l(),a(56,"input",21),A("ngModelChange",function(o){return O(r.filtros.fecha_hasta,o)||(r.filtros.fecha_hasta=o),o}),l()(),a(57,"div",22)(58,"div",23)(59,"button",24),E("click",function(){return r.aplicarFiltros()}),_(60,"i",25),d(61,"Buscar "),l(),a(62,"button",26),E("click",function(){return r.limpiarFiltros()}),_(63,"i",27),d(64,"Limpiar "),l()()()()(),C(65,BO,4,0,"div",28)(66,KO,2,1,"div",29)(67,JO,6,0,"div",28),l()(),C(68,nP,43,14,"div",30)(69,SP,61,26,"div",30)),e&2&&(p(10),M(r.aplicaciones.length),p(5),M(r.contarPorEstado("pendiente")),p(5),M(r.contarPorEstado("revisado")),p(5),M(r.contarPorEstado("preseleccionado")),p(5),M(r.contarPorEstado("entrevista")),p(5),M(r.contarPorEstado("contratado")),p(10),k("ngModel",r.filtros.status),p(3),h("ngForOf",r.estados),p(4),k("ngModel",r.filtros.fecha_desde),p(4),k("ngModel",r.filtros.fecha_hasta),p(9),h("ngIf",r.cargando),p(),h("ngIf",!r.cargando),p(),h("ngIf",!r.cargando&&r.aplicaciones.length===0),p(),h("ngIf",r.mostrarModalEstado&&r.aplicacionSeleccionada),p(),h("ngIf",r.mostrarDetalle&&r.aplicacionSeleccionada))},dependencies:[yt,Ce,pe,Ye,Xe,et,Ee,ui,Ze,ke,qe,Ue,pi,ga,De,je,ps,us,tr],encapsulation:2})};var MP=[{path:"",component:va},{path:"home",component:va},{path:"login",component:Ed},{path:"register",component:Sd},{path:"",component:Dd,canActivate:[xt],children:[{path:"dashboard",component:Md},{path:"usuarios",component:Id,canActivate:[aa],data:{permissions:["view","admin"],profiles:[1,3]}},{path:"empresas",component:Ad,canActivate:[aa],data:{permissions:["view","admin"],profiles:[1,3]}},{path:"gestionar-empresas",component:Od,canActivate:[sr],data:{profiles:[1,3]}},{path:"empleos",children:[{path:"",redirectTo:"lista",pathMatch:"full"},{path:"lista",component:mi,canActivate:[sr],data:{title:"Gesti\xF3n de Empleos",profiles:[1,3]}},{path:"crear",component:mi,canActivate:[sr],data:{title:"Crear Empleo",profiles:[1,3],mode:"create"}},{path:"editar/:id",component:mi,canActivate:[sr],data:{title:"Editar Empleo",profiles:[1,3],mode:"edit"}},{path:"ver/:id",component:mi,canActivate:[sr],data:{title:"Ver Empleo",profiles:[1,3],mode:"view"}}]},{path:"cv",children:[{path:"",redirectTo:"mis-cvs",pathMatch:"full"},{path:"mis-cvs",component:Td,canActivate:[xt],data:{title:"Mis CVs"}},{path:"crear",component:fi,canActivate:[xt],data:{title:"Crear CV"}},{path:"editar/:id",component:fi,canActivate:[xt],data:{title:"Editar CV"}},{path:"ver/:id",component:kd,canActivate:[xt],data:{title:"Ver CV"}}]},{path:"postulaciones",children:[{path:"",redirectTo:"mis-aplicaciones",pathMatch:"full"},{path:"mis-aplicaciones",component:Fd,canActivate:[xt],data:{title:"Mis Aplicaciones",description:"Seguimiento de tus postulaciones enviadas"}},{path:"buscar-empleos",component:hi,canActivate:[xt],data:{title:"Buscar Empleos",description:"Encuentra tu pr\xF3xima oportunidad laboral"}},{path:"revisar-candidatos",component:Nd,canActivate:[sr],data:{title:"Revisar Candidatos",description:"Gestiona las aplicaciones recibidas",profiles:[1,3]}},{path:"empleo/:id",component:hi,canActivate:[xt],data:{title:"Detalle del Empleo",mode:"detail"}},{path:"categoria/:categoria",component:hi,canActivate:[xt],data:{title:"Empleos por Categor\xEDa",mode:"category"}},{path:"empresa/:empresaId",component:hi,canActivate:[xt],data:{title:"Empleos por Empresa",mode:"company"}}]},{path:"perfil",children:[{path:"",redirectTo:"mi-perfil",pathMatch:"full"},{path:"mi-perfil",component:fi,canActivate:[xt],data:{title:"Mi Perfil"}},{path:"cambiar-password",component:fi,canActivate:[xt],data:{title:"Cambiar Contrase\xF1a"}}]}]},{path:"**",redirectTo:"/"}],Rd=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=dt({type:n});static \u0275inj=ct({imports:[Bc.forRoot(MP,{enableTracing:!1,scrollPositionRestoration:"top",anchorScrolling:"enabled",onSameUrlNavigation:"reload"}),Bc]})};var Vd=class n{title="simplifika";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=le({type:n,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(e,r){e&1&&_(0,"router-outlet")},dependencies:[Kr],encapsulation:2})};var Ld=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=dt({type:n,bootstrap:[Vd]});static \u0275inj=ct({imports:[Wf,Rd,Pb,Fb]})};Gf().bootstrapModule(Ld,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
